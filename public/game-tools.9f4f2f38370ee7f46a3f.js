/*! For license information please see game-tools.9f4f2f38370ee7f46a3f.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{D04b:function(t,e,a){(function(t){a.d(e,"a",(function(){return y}));a("WUlJ"),a("fCtr"),a("dbdZ");var i=a("PuWf"),s=a("wz8V"),n=a("mrVq"),o=a("gj+k"),r=a("RhHs"),l=a("3xmg"),d=a("R0i0"),c=a("VIqg"),h=a("AKWm"),u=a("wIsI"),p=a("0T5i"),b=a("44y/"),_=a("jICm"),m=a("pOjD"),f=a("pxNS"),v=a("Q4du"),w=a("oggF");function g(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class y{constructor(){g(this,"_baseName",void 0),g(this,"_baseId",void 0),g(this,"_buttonId",void 0),g(this,"_modalId",void 0),g(this,"_ownershipData",{}),g(this,"_nationData",{}),g(this,"_colourScale",void 0),g(this,"_mainDiv",void 0),g(this,"_div",void 0),g(this,"_svg",void 0),this._baseName="Port ownership",this._baseId="ownership-list",this._buttonId="button-"+this._baseId,this._modalId="modal-"+this._baseId,this._colourScale=Object(l.a)().range(v.f),this._setupListener()}static getHeight(){return Math.floor(.75*top.innerHeight)}_getWidth(){var t;return null!==(t=Math.floor(this._mainDiv.node().offsetWidth))&&void 0!==t?t:0}async _loadAndSetupData(){try{this._nationData=(await a.e(10).then(a.t.bind(null,"igRa",3))).default,this._ownershipData=(await a.e(11).then(a.t.bind(null,"kH+C",3))).default}catch(t){Object(f.g)(t)}}_setupListener(){var t;let e=!0;null===(t=document.querySelector("#"+this._buttonId))||void 0===t||t.addEventListener("click",(async()=>{e&&(e=!1,await this._loadAndSetupData()),Object(m.b)("Tools",this._baseName),this._ownershipListSelected()}))}_injectModal(){Object(v.k)({id:this._modalId,title:this._baseName});const t=this._baseId+"-select",e=Object(h.a)(`#${this._modalId} .modal-body`);e.append("label").append("select").attr("name",t).attr("id",t),this._mainDiv=e.append("div").attr("id",""+this._baseId),this._div=this._mainDiv.append("div"),this._svg=this._mainDiv.append("svg").attr("class","area")}_getOptions(){return""+this._ownershipData.map((t=>`<option value="${t.region}">${t.region}</option>;`)).join("")}_setupSelect(){const e=t(`#${this._baseId}-select`),a=this._getOptions();e.append(a)}_setupSelectListener(){t(`#${this._baseId}-select`).addClass("selectpicker").on("change",(t=>this._regionSelected(t))).selectpicker({noneSelectedText:"Select region"}).val("default").selectpicker("refresh")}_initModal(){this._injectModal(),this._setupSelect(),this._setupSelectListener()}_ownershipListSelected(){let e=!1;document.querySelector("#"+this._modalId)||(e=!0,this._initModal()),t("#"+this._modalId).on("shown.bs.modal",(()=>{e&&(this._injectArea(),e=!1)})).modal("show")}_injectArea(){const t=this._getWidth(),e=Math.min(1e3,y.getHeight()),a=32,l=32,h=32,m=f.f.filter((t=>9!==t.id)).map((t=>t.short)),v=this._nationData;v.keys=m;const g=Object(u.a)().offset(p.a).keys(m)(v);this._svg.attr("width",t).attr("height",e),(()=>{const r=(()=>{const i=Object(c.a)().domain(Object(s.a)(v,(t=>new Date(t.date)))).range([h,t-a]),r=Object(c.a)().domain([Object(n.a)(g[0],(t=>t[0])),Object(o.a)(g[g.length-1],(t=>t[1]))]).range([e-l,0]);return Object(b.a)().x((t=>i(new Date(t.data.date)))).y0((t=>r(t[0]))).y1((t=>r(t[1]))).curve(_.a)})(),d=new Map(f.f.map((t=>[t.short,t.name])));this._colourScale.domain(m),this._svg.selectAll("path").data(g).join((t=>t.append("path").attr("fill",(t=>this._colourScale(t.key))).attr("stroke",(t=>this._colourScale(t.key))).attr("d",r))),this._svg.selectAll(".area-label").data(g).join((t=>t.append("text").attr("class","area-label").text((t=>d.get(t.key))).attr("fill",(t=>Object(w.d)(this._colourScale(t.key)))).attr("transform",Object(i.areaLabel)(r))))})(),this._svg.append("g").call((i=>{const n=Object(d.b)().domain(Object(s.a)(v,(t=>new Date(t.date)))).range([h,t-a]);i.attr("transform",`translate(0,${e-l})`).call(Object(r.a)(n).ticks(t/80).tickSizeOuter(0)),i.attr("font-size",".8rem").attr("font-family","")}))}async _injectChart(t){(await Promise.all([a.e(4),a.e(27)]).then(a.bind(null,"ZiDp"))).default().data(t).enableAnimations(!1).timeFormat("%-d %B %Y").zQualitative(!0).zColorScale(this._colourScale).width(this._getWidth())(this._div.node())}_regionSelected(e){const a=t(e.currentTarget).find(":selected").val();this._div.selectAll("*").remove();const i=this._ownershipData.filter((t=>t.region===a)).map((t=>t.data))[0];this._injectChart(i)}}}).call(this,a("xeH2"))},"Jz/z":function(t,e,a){(function(t){a.d(e,"a",(function(){return h}));a("WUlJ"),a("fCtr"),a("dbdZ");var i=a("AKWm"),s=a("pOjD"),n=a("pxNS"),o=a("Q4du"),r=a("Qs7V"),l=a("Bx8B");function d(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}const c=["Resources","Extra","Materials"];class h{constructor(){d(this,"_baseName",void 0),d(this,"_baseId",void 0),d(this,"_buttonId",void 0),d(this,"_modalId",void 0),d(this,"_init",!0),d(this,"_blueprintData",{}),d(this,"_woodData",{}),d(this,"_extractionCosts",{}),d(this,"_craftingCosts",{}),d(this,"_blueprint",void 0),d(this,"_woodOptions",{}),d(this,"_defaultWood",void 0),d(this,"_woodsSelected",{}),d(this,"_blueprintList",void 0),d(this,"_currentBlueprint",{}),d(this,"_tables",{}),this._baseName="List ship blueprint",this._baseId="ship-blueprint-list",this._buttonId="button-"+this._baseId,this._modalId="modal-"+this._baseId,this._defaultWood={frame:"Fir",trim:"Crew Space"},this._setupListener()}async _loadAndSetupData(){try{this._blueprintData=(await a.e(15).then(a.t.bind(null,"lFc/",3))).default,this._woodData=(await a.e(17).then(a.t.bind(null,"xOpV",3))).default;const t=(await a.e(15).then(a.t.bind(null,"ZII7",3))).default;this._extractionCosts=new Map(t.standard.map((t=>{var e;return[t.name,{reales:t.reales,labour:null!==(e=null==t?void 0:t.labour)&&void 0!==e?e:0}]}))),this._craftingCosts=new Map(t.seasoned.map((t=>[t.name,{reales:t.reales,labour:t.labour,doubloon:t.doubloon,tool:t.tool}])))}catch(t){Object(n.g)(t)}}_setupListener(){var t;let e=!0;null===(t=document.querySelector("#"+this._buttonId))||void 0===t||t.addEventListener("click",(async()=>{e&&(e=!1,await this._loadAndSetupData()),Object(s.b)("Tools",this._baseName),this._listSelected()}))}_injectModal(){Object(o.k)({id:this._modalId,title:this._baseName,size:"modal-lg"});const t=this._baseId+"-ship-select",e=Object(i.a)(`#${this._modalId} .modal-body`);let a=e.append("div").classed("row no-gutters mb-2",!0);a.append("label").attr("for",t),a.append("select").attr("name",t).attr("id",t),a=e.append("div").classed("row no-gutters",!0);for(const t of n.j){const e=`${this._baseId}-${t}-select`;a.append("label").attr("for",e),a.append("select").attr("name",e).attr("id",e).classed("pr-2",!0)}this._blueprintList=e.append("div").attr("id",""+this._baseId).classed("blueprint mt-4",!0)}_getShipOptions(){return""+this._blueprintData.sort(Object(l.b)(["name"])).map((t=>`<option value="${t.name}">${t.name}</option>;`)).join("")}_setupShipSelect(){const e=t(`#${this._baseId}-ship-select`),a=this._getShipOptions();e.append(a)}_setupWoodOptions(){const t=this._woodData.frame.sort(Object(l.b)(["name"])),e=this._woodData.trim.filter((t=>"Light"!==t.name)).sort(Object(l.b)(["name"]));this._woodOptions={frame:t.map((t=>`<option value="${t.name}">${t.name}</option>`)).join(""),trim:e.map((t=>`<option value="${t.name}">${t.name}</option>`)).join("")}}_setupWoodSelect(t,e){this._setupWoodOptions(),this._woodsSelected[t]=this._defaultWood[t],e.append(this._woodOptions[t]),e.attr("disabled","disabled")}_setupSelects(){this._setupShipSelect();for(const e of n.j){const a=t(`#${this._baseId}-${e}-select`);this._setupWoodSelect(e,a)}}_setupShipSelectListener(){t(`#${this._baseId}-ship-select`).addClass("selectpicker").on("change",(t=>this._blueprintSelected(t))).selectpicker({noneSelectedText:"Select blueprint",width:"fit"}).val("default").selectpicker("refresh")}_setupWoodSelectListener(t,e){e.addClass("selectpicker").on("change",(()=>this._woodSelected(t,e))).selectpicker({noneSelectedText:"Select "+t,width:"fit"}).val("default").selectpicker("refresh")}_setupSelectListener(){this._setupShipSelectListener();for(const e of n.j){const a=t(`#${this._baseId}-${e}-select`);this._setupWoodSelectListener(e,a)}}_initModal(){this._injectModal(),this._setupSelects(),this._setupSelectListener()}_setWoodSelect(e){t(`#${this._baseId}-${e}-select`).removeAttr("disabled").val(this._defaultWood[e]).selectpicker("refresh")}_woodSelected(t,e){this._woodsSelected[t]=e.val(),this._updateText()}_listSelected(){document.querySelector("#"+this._modalId)||this._initModal(),t("#"+this._modalId).modal("show")}_updateTable(t,e){t.select("tbody").selectAll("tr").data(e).join((t=>t.append("tr"))).selectAll("td").data((t=>t)).join((t=>t.append("td"))).html((t=>t))}_updateText(){let t=this._currentBlueprint.resources.map((t=>[t.name,t.amount])),e=!1,a=!1,i=0,s=0;if("Crew Space"===this._woodsSelected.trim){const e=this._currentBlueprint.wood.find((t=>"Crew Space"===t.name)).amount,a=t.findIndex((t=>"Hemp"===t[0]));t[a][1]=t[a][1]+e}else if(s=this._currentBlueprint.wood.find((t=>"Planking"===t.name)).amount,this._woodsSelected.trim===this._woodsSelected.frame)i+=s;else{const e=t.findIndex((t=>t[0]===this._woodsSelected.trim));e>=0?t[e][1]=t[e][1]+s:(a=!0,t.push([this._woodsSelected.trim,s]))}i+=this._currentBlueprint.wood.find((t=>"Frame"===t.name)).amount;const o=t.findIndex((t=>t[0]===this._woodsSelected.frame));if(o>=0?t[o][1]=t[o][1]+i:(e=!0,t.push([this._woodsSelected.frame,i])),e&&a){const e=t.length-1;[t[e],t[e-1]]=[t[e-1],t[e]]}let l=[];this._currentBlueprint.price&&l.push(["Reales",this._currentBlueprint.price]),l.push(["Provisions",this._currentBlueprint.provisions]),this._currentBlueprint.permit&&l.push(["Permit",this._currentBlueprint.permit]),l.push(["Craft level",this._currentBlueprint.craftLevel],["Shipyard level",this._currentBlueprint.shipyardLevel],["Labour hours",this._currentBlueprint.labourHours],["Craft experience",this._currentBlueprint.craftXP]);const d=[];let c=0,h=0;const u=t=>{var e,a;return(null!==(e=null===(a=this._extractionCosts.get(t[0]))||void 0===a?void 0:a.reales)&&void 0!==e?e:0)*t[1]},p=t=>{var e,a;return(null!==(e=null===(a=this._extractionCosts.get(t[0]))||void 0===a?void 0:a.labour)&&void 0!==e?e:0)*t[1]},b=t=>{for(const e of t.filter((t=>this._extractionCosts.has(t[0]))))c+=u(e),h+=p(e)};b(t),b(l),c&&d.push(["Reales",Object(r.d)(c)],["Labour hours",Object(r.d)(h)]);let _=0,m=0,f=0,v=0;for(const t of n.j){const e=this._craftingCosts.get(this._woodsSelected[t]);var w,g,y,j;if(e)_+=(null!==(w=e.reales)&&void 0!==w?w:0)*i,m+=(null!==(g=e.labour)&&void 0!==g?g:0)*i,f+=(null!==(y=e.doubloon)&&void 0!==y?y:0)*i,v+=(null!==(j=e.tool)&&void 0!==j?j:0)*i}_&&d.push(["(S) reales",Object(r.d)(_)]),m&&d.push(["(S) labour hours",Object(r.d)(m)]),f&&d.push(["(S) doubloons",Object(r.d)(f)]),v&&d.push(["(S) tools",Object(r.d)(v)]),t=t.map((t=>[t[0],Object(r.d)(t[1])])),l=l.map((t=>[t[0],Object(r.d)(t[1])])),this._updateTable(this._tables.Resources,t),this._updateTable(this._tables.Extra,l),this._updateTable(this._tables.Materials,d)}_blueprintSelected(e){if(this._init){this._init=!1;for(const t of n.j)this._setWoodSelect(t);const t=this._blueprintList.append("div").classed("card-deck",!0),e=e=>{const a=t.append("div").classed("card",!0);a.append("div").classed("card-header",!0).text(e);const i=a.append("div").classed("card-body",!0);this._tables[e]=i.append("table").classed("table table-sm card-table",!0),this._tables[e].append("thead"),this._tables[e].append("tbody")};for(const t of c)e(t)}this._blueprint=t(e.currentTarget).find(":selected").val(),this._currentBlueprint=this._getBlueprintData(this._blueprint),this._updateText()}_getBlueprintData(t){return this._blueprintData.find((e=>e.name===t))}}}).call(this,a("xeH2"))},K5dq:function(t,e,a){(function(t){a.d(e,"a",(function(){return u}));a("UxlC"),a("WUlJ"),a("fCtr");var i=a("AKWm"),s=a("pOjD"),n=a("pxNS"),o=a("Q4du"),r=a("Qs7V"),l=a("Bx8B");function d(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return c(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function h(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class u{constructor(){h(this,"_modifiers",{}),h(this,"_rows",{}),h(this,"_sortAscending",{}),h(this,"_sortIndex",{}),h(this,"_switchesSel",void 0),h(this,"_tables",{}),h(this,"_woodData",{}),h(this,"_woodDataDefault",{}),h(this,"_baseId",void 0),h(this,"_baseName",void 0),h(this,"_buttonId",void 0),h(this,"_checkboxId",void 0),h(this,"_modalId",void 0),h(this,"_modifiersNotUsed",new Set(["Ship material","Boarding morale"])),this._baseName="List woods",this._baseId="wood-list",this._buttonId="button-"+this._baseId,this._checkboxId="checkbox-"+this._baseId,this._modalId="modal-"+this._baseId,this._setupListener()}_getModifiers(t){const e=new Set;return this._woodDataDefault[t].forEach((t=>{t.properties.filter((t=>!this._modifiersNotUsed.has(t.modifier))).forEach((t=>{e.add(t.modifier)}))})),d(e).sort(l.a)}async _loadData(){try{this._woodDataDefault=(await a.e(17).then(a.t.bind(null,"xOpV",3))).default}catch(t){Object(n.g)(t)}}_setupData(){for(const t of n.j)this._modifiers[t]=new Set(this._getModifiers(t)),this._woodDataDefault[t].forEach((e=>{const a=new Set(e.properties.map((t=>t.modifier)));for(const i of this._modifiers[t])a.has(i)||e.properties.push({modifier:i,amount:0,isPercentage:!1});e.properties.sort(((t,e)=>t.modifier.localeCompare(e.modifier)))}));this._woodData={...this._woodDataDefault}}async _loadAndSetupData(){await this._loadData(),this._setupData()}_setupListener(){var t;let e=!0;null===(t=document.querySelector("#"+this._buttonId))||void 0===t||t.addEventListener("click",(async()=>{e&&(e=!1,await this._loadAndSetupData()),Object(s.b)("Tools",this._baseName),this._woodListSelected()}))}_sortRows(t,e,a=!0){a&&this._sortIndex[t]===e&&(this._sortAscending[t]=!this._sortAscending[t]),this._sortIndex[t]=e;const i=this._sortAscending[t]?1:-1;this._rows[t].sort(((t,a)=>0===e?t.name.localeCompare(a.name)*i:(t.properties[e-1].amount-a.properties[e-1].amount)*i))}_initTable(t){this._sortAscending[t]=!0,this._tables[t].append("thead").append("tr").selectAll("th").data(["Wood"].concat(d(this._modifiers[t]))).enter().append("th").classed("text-right",((t,e)=>0!==e)).attr("role","columnheader").text((t=>t)).on("click",((e,a)=>{this._sortRows(t,a)})),this._tables[t].append("tbody")}_injectModal(){Object(o.k)({id:this._modalId,title:this._baseName,size:"modal-xl"});const t=Object(i.a)(`#${this._modalId} .modal-body`),e=t.append("div").attr("class","mb-3");for(const t of n.i){const a=e.append("div").attr("class","custom-control custom-switch custom-control-inline");a.append("input").attr("id",`${this._checkboxId}-${t}`).attr("name",""+this._checkboxId).attr("class","custom-control-input").attr("type","checkbox").property("checked",!0),a.append("label").attr("for",`${this._checkboxId}-${t}`).attr("class","custom-control-label").text(Object(n.c)(t))}this._switchesSel=d(document.querySelectorAll(`input[name=${this._checkboxId}]`));for(const t of this._switchesSel)t.addEventListener("change",(t=>{t.preventDefault(),this._woodFamilySelected()}));for(const e of n.j)t.append("h5").text(Object(n.c)(e+"s")),this._tables[e]=t.append("table").attr("class","table table-sm small na-table"),this._initTable(e),this._updateTable(e),this._sortRows(e,0,!1)}_initModal(){this._injectModal()}_getFormattedAmount(t){let e;return e="Repair amount"===t.modifier&&t.amount?Object(r.f)(t.amount,1):t.amount?Object(r.c)(t.amount):"",e}_updateTable(t){this._rows[t]=this._tables[t].select("tbody").selectAll("tr").data(this._woodData[t],(t=>t.id)).join((t=>t.append("tr"))),this._rows[t].selectAll("td").data((t=>[t.name].concat(d(t.properties.filter((t=>!this._modifiersNotUsed.has(t.modifier))).map((t=>this._getFormattedAmount(t))))))).join((t=>t.append("td").classed("text-right",((t,e)=>0!==e)).html((t=>t))))}_woodFamilySelected(){const t=new Set;for(const e of this._switchesSel)if(e.checked){const a=e.id.replace(this._checkboxId+"-","");t.add(a)}for(const e of n.j)this._woodData[e]=this._woodDataDefault[e].filter((e=>t.has(e.family))),this._updateTable(e),this._sortRows(e,this._sortIndex[e],!1)}_woodListSelected(){document.querySelector("#"+this._modalId)||this._initModal(),t("#"+this._modalId).modal("show")}}}).call(this,a("xeH2"))},KbbR:function(t,e,a){(function(t){a.d(e,"a",(function(){return p}));a("WUlJ"),a("fCtr"),a("ry7D");var i=a("AKWm"),s=a("pOjD"),n=a("pxNS"),o=a("Q4du"),r=a("Qs7V"),l=a("Bx8B"),d=a("dNoP");function c(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return h(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return h(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function u(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class p{constructor(){u(this,"_baseName",void 0),u(this,"_baseId",void 0),u(this,"_buttonId",void 0),u(this,"_modalId",void 0),u(this,"_moduleData",{}),u(this,"_ingredientData",{}),this._baseName="List recipe ingredients",this._baseId="ingredient-list",this._buttonId="button-"+this._baseId,this._modalId="modal-"+this._baseId,this._setupListener()}async _loadAndSetupData(){try{this._moduleData=(await a.e(9).then(a.t.bind(null,"jhXC",3))).default,this._ingredientData=(await a.e(14).then(a.t.bind(null,"Oi4q",3))).default.ingredient}catch(t){Object(n.g)(t)}}_setupListener(){var t;let e=!0;null===(t=document.querySelector("#"+this._buttonId))||void 0===t||t.addEventListener("click",(async()=>{e&&(e=!1,await this._loadAndSetupData()),Object(s.b)("Tools",this._baseName),this._ingredientListSelected()}))}_injectModal(){Object(o.k)({id:this._modalId,title:this._baseName});Object(i.a)(`#${this._modalId} .modal-body`).append("div").attr("id",""+this._baseId).attr("class","container-fluid")}_initModal(){this._injectModal(),this._injectList()}_ingredientListSelected(){document.querySelector("#"+this._modalId)||this._initModal(),t("#"+this._modalId).modal("show")}_getProperties(t){let e,a="",i="";for(const e of this._moduleData){const s=e[1].sort(Object(l.b)(["name"])).filter((e=>e.name===t));for(const t of s)a=e[0],i=`<tr><td>${t.properties.map((t=>{const e=t.isPercentage?Object(r.m)(t.amount/100):Object(r.l)(t.amount);return`${t.modifier} ${e}`})).join("</td></tr><tr><td>")}</td></tr>`}return e=`<h6 class='text-muted text-left'>${a}</h6>`,e+=`<table class='table table-sm'><tbody>${i}</tbody></table>`,i?e:""}_getRows(){return this._ingredientData.map((t=>`<tr><td>${t.name}</td><td>${t.recipeNames.map((t=>{const e=this._getProperties(t);return e?`<a data-toggle="tooltip" title="${e}">${t}</a>`:t})).join("<br>")}</td></tr>`))}_getText(){const t=this._getRows(),e=Object(d.a)(t,2);let a="";for(const t of c(new Array(e.length).keys()))a+=`<div class="col-md-${Math.floor(12/e.length)}">`,a+='<table class="table table-sm na-table"><thead>',a+="<tr><th>Ingredient</th><th>Recipes</th></tr></thead><tbody>",a+=e[t].join(""),a+="</tbody></table></div>";return a}_injectList(){Object(i.a)(`#${this._baseId} div`).remove(),Object(i.a)("#"+this._baseId).append("div").classed("row",!0),Object(i.a)(`#${this._baseId} div`).html(this._getText()),t('[data-toggle="tooltip"]').tooltip({html:!0,placement:"auto",sanitize:!1})}}}).call(this,a("xeH2"))},MICP:function(t,e,a){(function(t){a.d(e,"a",(function(){return b}));a("UxlC"),a("WUlJ"),a("fCtr"),a("dbdZ");var i=a("AKWm"),s=a("pOjD"),n=a("pxNS"),o=a("Q4du"),r=a("Qs7V"),l=a("oggF"),d=a("otg8"),c=a("Bx8B");function h(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}const u=a("Bhad"),p=(t,e,a)=>`${Object(d.q)(e)} – ${Object(d.q)(a)}`;class b{constructor(t){h(this,"_serverType",void 0),h(this,"_baseName",void 0),h(this,"_baseId",void 0),h(this,"_buttonId",void 0),h(this,"_modalId",void 0),h(this,"_moduleData",[]),h(this,"_recipeData",[]),h(this,"_recipes",void 0),this._serverType=u.find((e=>e.id===t)).type,this._baseName="List admiralty items and recipes",this._baseId="recipe-list",this._buttonId="button-"+this._baseId,this._modalId="modal-"+this._baseId,this._setupListener()}async _loadAndSetupData(){try{this._moduleData=(await a.e(9).then(a.t.bind(null,"jhXC",3))).default,this._recipeData=(await a.e(14).then(a.t.bind(null,"Oi4q",3))).default.recipe,this._recipes=new Map(this._recipeData.flatMap((t=>t.recipes.map((t=>[t.id,t])))))}catch(t){Object(n.g)(t)}}_setupListener(){var t;let e=!0;null===(t=document.querySelector("#"+this._buttonId))||void 0===t||t.addEventListener("click",(async()=>{e&&(e=!1,await this._loadAndSetupData()),Object(s.b)("Tools",this._baseName),this._recipeListSelected()}))}_injectModal(){Object(o.k)({id:this._modalId,title:this._baseName});const t=this._baseId+"-select",e=Object(i.a)(`#${this._modalId} .modal-body`);e.append("select").attr("name",t).attr("id",t),e.append("label").attr("for",t).attr("class","text-muted pl-2").text("Items listed here may not be available in the game (yet)."),e.append("div").attr("id",""+this._baseId).attr("class","container-fluid")}_getOptions(){return this._recipeData.map((t=>`<optgroup label="${t.group}">${t.recipes.filter((t=>"Any"===t.serverType||t.serverType===this._serverType)).sort(Object(c.b)(["name"])).map((t=>`<option value="${t.id}">${t.name.replace(/(\d)-(\d)(st|rd|th)/,p)}`)).join("</option>")}`)).join("</optgroup>")}_setupSelect(){const e=t(`#${this._baseId}-select`),a=this._getOptions();e.append(a)}_setupSelectListener(){t(`#${this._baseId}-select`).addClass("selectpicker").on("change",(t=>this._recipeSelected(t))).selectpicker({dropupAuto:!1,liveSearch:!0,liveSearchNormalize:!0,liveSearchPlaceholder:"Search ...",title:"Select item",virtualScroll:!0})}_initModal(){this._injectModal(),this._setupSelect(),this._setupSelectListener()}_recipeListSelected(){document.querySelector("#"+this._modalId)||this._initModal(),t("#"+this._modalId).modal("show")}_getRecipeData(t){return this._recipes.get(t)}_getRequirementText(t){let e='<table class="table table-sm card-table"><tbody>';return t.labourPrice&&(e+=`<tr><td>${t.labourPrice} labour hours</td></tr>`),t.goldPrice&&(e+=`<tr><td>${Object(l.e)(t.goldPrice)}</td></tr>`),t.itemRequirements.length>0&&(e+=`<tr><td>${t.itemRequirements.map((t=>`${t.amount} ${t.name}`)).join("</td></tr><tr><td>")}</td></tr>`),e+="</tbody></table>",e}_getPropertiesText(t){let e="",a="",i="";for(const e of this._moduleData){const s=e[1].filter((e=>e.id===t.result.id));for(const t of s)[a]=e,i=`<tr><td>${t.properties.map((t=>{const e=t.isPercentage?Object(r.m)(t.amount/100):t.amount;return`${t.modifier} ${e}`})).join("</td></tr><tr><td>")}</td></tr>`}return i?(e+=`<h6 class="card-subtitle mb-2 text-muted">${a}</h6>`,e+=`<table class="table table-sm card-table na-table"><tbody>${i}</tbody></table>`):e+=`<p>${Object(r.d)(t.result.amount)} ${t.result.name}</p>`,e}_getText(t){const e=this._getRecipeData(t);let a='<div class="row no-gutters card-deck">';return a+='<div class="card col-6"><div class="card-header">Item</div>',a+='<div class="card-body">',a+=this._getRequirementText(e),a+="</div></div>",a+='<div class="card col-6"><div class="card-header">Result</div>',a+='<div class="card-body">',a+=this._getPropertiesText(e),a+="</div></div>",a+="</div></div>",a}_recipeSelected(e){const a=Number(t(e.currentTarget).find(":selected").val());Object(i.a)(`#${this._baseId} div`).remove(),Object(i.a)("#"+this._baseId).append("div").classed("mt-4",!0),Object(i.a)(`#${this._baseId} div`).html(this._getText(a))}}}).call(this,a("xeH2"))},TwRt:function(t,e,a){a.r(e),a.d(e,"init",(function(){return w}));var i=a("pOjD"),s=a("Q4du"),n=a("u3gz"),o=a("ck04"),r=a("q1Yc"),l=a("eA68"),d=a("KbbR"),c=a("VUH8"),h=a("VnNF"),u=a("qTn5"),p=a("XtHD"),b=a("D04b"),_=a("MICP"),m=a("hVxF"),f=a("Jz/z"),v=a("K5dq");a("yU80");const w=(t,e)=>{const a=new n.a("ship-compare");(()=>{if(e.has("cmp")&&e.has("v")){const t=e.get("v");t&&t.split(".")[0]===s.d.split(".")[0]&&(Object(i.b)("Menu","Paste ship compare"),a.initFromClipboard(e))}})(),new o.a("wood"),new v.a,new r.a,new l.a,new d.a,new c.a,new h.a,new u.a(t),new p.a(t),new b.a,new _.a(t),new m.a,new f.a}},VUH8:function(t,e,a){(function(t){a.d(e,"a",(function(){return A}));a("WUlJ"),a("fCtr"),a("dbdZ");var i=a("2mXy"),s=a("JQHs"),n=a("pOjD"),o=a("pxNS"),r=a("Qs7V"),l=a("oggF"),d=a("Bx8B"),c=a("8ZGG");function h(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return u(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function p(t,e){var a=e.get(t);if(!a)throw new TypeError("attempted to get private field on non-instance");return a.get?a.get.call(t):a.value}function b(t,e,a){var i=e.get(t);if(!i)throw new TypeError("attempted to set private field on non-instance");if(i.set)i.set.call(t,a);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=a}return a}const _=s.a.bind(i.a);var m=new WeakMap,f=new WeakMap,v=new WeakMap,w=new WeakMap,g=new WeakMap,y=new WeakMap,j=new WeakMap,S=new WeakMap,O=new WeakMap,I=new WeakMap,$=new WeakMap,x=new WeakMap,k=new WeakMap;class A{constructor(){m.set(this,{writable:!0,value:void 0}),f.set(this,{writable:!0,value:void 0}),v.set(this,{writable:!0,value:void 0}),w.set(this,{writable:!0,value:void 0}),g.set(this,{writable:!0,value:c.a}),y.set(this,{writable:!0,value:""}),j.set(this,{writable:!0,value:{}}),S.set(this,{writable:!0,value:{}}),O.set(this,{writable:!0,value:0}),I.set(this,{writable:!0,value:void 0}),$.set(this,{writable:!0,value:void 0}),x.set(this,{writable:!0,value:void 0}),k.set(this,{writable:!0,value:void 0}),b(this,m,"List loot and chests"),b(this,f,"loot-list"),b(this,v,"button-"+p(this,f)),b(this,w,"modal-"+p(this,f));for(const t of p(this,g))p(this,j)[t]=`${p(this,f)}-${t}-select`;this._setupListener()}static _printAmount(t){return t.min===t.max?Object(r.d)(t.min):`${Object(r.d)(t.min)} to ${Object(r.d)(t.max)}`}static _printChance(t){return Object(r.d)(100*(1-t))}async _loadAndSetupData(){try{const t=(await a.e(8).then(a.t.bind(null,"fg1m",3))).default;b(this,x,t.loot),b(this,k,t.chests)}catch(t){Object(o.g)(t)}}_setupListener(){var t;let e=!0;null===(t=document.querySelector("#"+p(this,v)))||void 0===t||t.addEventListener("click",(async()=>{e&&(e=!1,await this._loadAndSetupData()),Object(n.b)("Tools",p(this,m)),this._sourceListSelected()}))}_getLootOptions(){return _`
            ${p(this,x).sort(Object(d.b)(["name"])).map((t=>_`<option value="${t.id}">${t.name}</option>`))}
        `}_getChestsOptions(){return _`
            ${p(this,k).sort(Object(d.b)(["name"])).map((t=>_`<option value="${t.id}">${t.name}</option>`))}
        `}_getItemsOptions(){const t=new Map,e=(e,a,i)=>{const s=new Map([[e.id,{id:e.id,name:e.name,chance:i,amount:a.amount}]]);t.set(a.id,{name:a.name,sources:t.has(a.id)?new Map([].concat(h(t.get(a.id).sources),h(s))):s})};for(const t of p(this,x)){const{items:a}=t;for(const i of a)e(t,i,i.chance)}for(const t of p(this,k))for(const a of t.itemGroup){const{items:i}=a;for(const s of i)e(t,s,a.chance)}return b(this,$,new Map(h(t.entries()).sort(((t,e)=>t[1].name.localeCompare(e[1].name))))),_`${h(p(this,$)).map((t=>_`<option value="${t[0]}">${t[1].name}</option>`))}`}_getOptions(t){let e=_``;return"items"===t&&(e=this._getItemsOptions()),"chests"===t&&(e=this._getChestsOptions()),"loot"===t&&(e=this._getLootOptions()),e}_getModalBody(){return _`
            ${p(this,g).map((t=>_`
                        <label>
                            <select id="${p(this,j)[t]}" class="selectpicker">
                                ${this._getOptions(t)}
                            </select>
                        </label>
                    `))}
            <div id="${p(this,f)}"></div>
        `}_getModalFooter(){return _`
            <button type="button" class="btn btn-secondary" data-dismiss="modal">
                Close
            </button>
        `}_injectModal(){Object(i.b)(Object(l.c)({id:p(this,w),title:p(this,m),size:"modal-md",body:this._getModalBody.bind(this),footer:this._getModalFooter}),document.querySelector("#modal-section"))}_setupSelectListeners(){for(const t of p(this,g))p(this,S)[t].on("change",(()=>{b(this,y,t),this._itemSelected()})).selectpicker({dropupAuto:!1,liveSearch:!0,liveSearchNormalize:!0,liveSearchPlaceholder:"Search ...",title:"Select "+t,virtualScroll:!0})}_initModal(){this._injectModal(),b(this,I,document.querySelector("#"+p(this,f)));for(const e of p(this,g))p(this,S)[e]=t("#"+p(this,j)[e]);this._setupSelectListeners()}_sourceListSelected(){document.querySelector("#"+p(this,w))||this._initModal(),t("#"+p(this,w)).modal("show")}_getLootItemsText(t,e=!0){return _`
            <table class="table table-sm small na-table no-sort">
                <thead>
                    <tr>
                        <th scope="col">Item</th>
                        ${e?_`<th scope="col" class="text-right">Chance (0 − 100)</th>`:""}
                        <th scope="col" class="text-right">Amount</th>
                    </tr>
                </thead>
                <tbody>
                    ${t.map((t=>_`
                                <tr>
                                    <td>${t.name}</td>
                                    ${e?_` <td class="text-right">
                                              ${A._printChance(t.chance)}
                                          </td>`:""}
                                    <td class="text-right">
                                        ${A._printAmount(t.amount)}
                                    </td>
                                </tr>
                            `))}
                </tbody>
            </table>
        `}_getSourceText(){const t=h(p(this,$).get(p(this,O)).sources).map((t=>t[1])).sort(Object(d.b)(["chance","name"]));return _`${this._getLootItemsText(t)}`}_getChestsText(){const t=p(this,k).find((t=>t.id===p(this,O)));return _`
            <p>Weight ${Object(r.d)(t.weight)} tons<br />Lifetime ${Object(r.d)(t.lifetime)} hours</p>
            ${t.itemGroup.map((t=>_` <h5>Group chance: ${A._printChance(t.chance)}</h5>
                    ${this._getLootItemsText(t.items.sort(Object(d.b)(["name"])),!1)}`))}
        `}_getLootText(){const t=p(this,x).find((t=>t.id===p(this,O))).items.sort(Object(d.b)(["chance","name"]));return _`${this._getLootItemsText(t)}`}_getText(){return"items"===p(this,y)?this._getSourceText():"chests"===p(this,y)?this._getChestsText():this._getLootText()}_getTable(){return _`
            <div class="mt-4">
                ${this._getText()}
            </div>
        `}_resetOtherSelects(){const t=p(this,g).filter((t=>t!==p(this,y)));for(const e of t)p(this,S)[e].val("default").selectpicker("refresh")}_itemSelected(){const t=p(this,S)[p(this,y)].find(":selected");b(this,O,Number(t.val())),this._resetOtherSelects(),Object(i.b)(this._getTable(),p(this,I))}}}).call(this,a("xeH2"))},VnNF:function(t,e,a){(function(t){a.d(e,"a",(function(){return b}));a("WUlJ"),a("fCtr"),a("dbdZ");var i=a("AKWm"),s=a("pOjD"),n=a("pxNS"),o=a("Q4du"),r=a("Qs7V"),l=a("otg8"),d=a("Bx8B"),c=a("dNoP");function h(t){return function(t){if(Array.isArray(t))return u(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return u(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return u(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function p(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class b{constructor(){p(this,"_baseName",void 0),p(this,"_baseId",void 0),p(this,"_buttonId",void 0),p(this,"_modalId",void 0),p(this,"_moduleData",{}),this._baseName="List modules",this._baseId="module-list",this._buttonId="button-"+this._baseId,this._modalId="modal-"+this._baseId,this._setupListener()}async _loadAndSetupData(){try{this._moduleData=(await a.e(9).then(a.t.bind(null,"jhXC",3))).default}catch(t){Object(n.g)(t)}}_setupListener(){var t;let e=!0;null===(t=document.querySelector("#"+this._buttonId))||void 0===t||t.addEventListener("click",(async()=>{e&&(e=!1,await this._loadAndSetupData()),Object(s.b)("Tools",this._baseName),this._moduleListSelected()}))}_injectModal(){Object(o.k)({id:this._modalId,title:this._baseName});const t=this._baseId+"-select",e=Object(i.a)(`#${this._modalId} .modal-body`);e.append("label").attr("for",t),e.append("select").attr("name",t).attr("id",t),e.append("div").attr("id",""+this._baseId)}_getOptions(){return""+this._moduleData.map((t=>`<option value="${t[0]}"">${t[0]}</option>;`)).join("")}_setupSelect(){const e=t(`#${this._baseId}-select`),a=this._getOptions();e.append(a)}_setupSelectListener(){t(`#${this._baseId}-select`).addClass("selectpicker").on("change",(t=>this._moduleSelected(t))).selectpicker({noneSelectedText:"Select module category"}).val("default").selectpicker("refresh")}_initModal(){this._injectModal(),this._setupSelect(),this._setupSelectListener()}_moduleListSelected(){document.querySelector("#"+this._modalId)||this._initModal(),t("#"+this._modalId).modal("show")}_getRows(t){const e=new Map([["L",`${Object(l.q)(1)} – ${Object(l.q)(3)}`],["M",`${Object(l.q)(4)} – ${Object(l.q)(5)}`],["S",`${Object(l.q)(6)} – ${Object(l.q)(7)}`]]),a=t=>{var a;return"U"===t?"":""+(null!==(a=e.get(t))&&void 0!==a?a:"")};let i="";const s=[];for(const e of this._moduleData)e[0]===t&&e[1].sort(Object(d.b)(["name"])).forEach(((t,n)=>{const o=a=>a<e[1].length&&t.name===e[1][a].name&&JSON.stringify(t.properties)===JSON.stringify(e[1][a].properties);i=a(t.moduleLevel),o(n+1)&&(e[1][n+1].hasSamePropertiesAsPrevious=!0,i+="<br>"+a(e[1][n+1].moduleLevel)),o(n+2)&&(e[1][n+2].hasSamePropertiesAsPrevious=!0,i=""),void 0!==t.hasSamePropertiesAsPrevious&&t.hasSamePropertiesAsPrevious||s.push(`<tr><td><span class="name">${t.name}<br>${i}</span></td><td>${t.properties.map((t=>{let e;return e=t.isPercentage?Object(r.m)(t.amount/100):t.amount<1&&t.amount>0?Object(r.f)(t.amount,1):Object(r.l)(t.amount),`${t.modifier} ${e}`})).join("<br>")}</td></tr>`)}));return s}_getText(t){const e=this._getRows(t),a=Object(c.a)(e,3);let i="";for(const t of h(new Array(a.length).keys()))i+=`<div class="col-md-${Math.floor(12/a.length)}">`,i+='<table class="table table-sm small na-table"><thead>',i+="<tr><th>Module</th><th>Modifier</th></tr></thead><tbody>",i+=a[t].join(""),i+="</tbody></table></div>";return i}_moduleSelected(e){const a=t(e.currentTarget).find(":selected").val();Object(i.a)(`#${this._baseId} div`).remove(),Object(i.a)("#"+this._baseId).append("div").classed("row mt-4",!0),Object(i.a)(`#${this._baseId} div`).html(this._getText(a))}}}).call(this,a("xeH2"))},XtHD:function(t,e,a){(function(t){a.d(e,"a",(function(){return $}));a("WUlJ"),a("fCtr");var i=a("OWWo"),s=a("AKWm"),n=a("pOjD"),o=a("pxNS"),r=a("Q4du"),l=a("8ZGG");function d(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return c(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function h(t,e){var a=e.get(t);if(!a)throw new TypeError("attempted to get private field on non-instance");return a.get?a.get.call(t):a.value}function u(t,e,a){var i=e.get(t);if(!i)throw new TypeError("attempted to set private field on non-instance");if(i.set)i.set.call(t,a);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=a}return a}var p=new WeakMap,b=new WeakMap,_=new WeakMap,m=new WeakMap,f=new WeakMap,v=new WeakMap,w=new WeakMap,g=new WeakMap,y=new WeakMap,j=new WeakMap,S=new WeakMap,O=new WeakMap,I=new WeakMap;class ${constructor(t){p.set(this,{writable:!0,value:void 0}),b.set(this,{writable:!0,value:void 0}),_.set(this,{writable:!0,value:void 0}),m.set(this,{writable:!0,value:void 0}),f.set(this,{writable:!0,value:void 0}),v.set(this,{writable:!0,value:{}}),w.set(this,{writable:!0,value:{}}),g.set(this,{writable:!0,value:{}}),y.set(this,{writable:!0,value:{}}),j.set(this,{writable:!0,value:{}}),S.set(this,{writable:!0,value:!0}),O.set(this,{writable:!0,value:0}),I.set(this,{writable:!0,value:{}}),u(this,f,t),u(this,b,"List port bonuses"),u(this,p,"port-bonus-list"),u(this,_,"button-"+h(this,p)),u(this,m,"modal-"+h(this,p)),this._setupListener()}async _loadData(){try{u(this,v,await(await fetch(`data/${h(this,f)}-ports.json`)).json()),u(this,g,await(await fetch(`data/${h(this,f)}-pb.json`)).json()),u(this,w,(await a.e(13).then(a.t.bind(null,"0dXp",3))).default)}catch(t){Object(o.g)(t)}}_setupData(){const t=[0,1,3,7,15],e={};for(const t of l.b)e[t]=0;const a=new Map(h(this,w).map((t=>[t.id,{name:t.name,points:t.portPoints}]))),s=new Map(h(this,g).map((t=>[t.id,t.nation])));u(this,y,h(this,v).filter((t=>t.portBonus)).map((n=>{var r,l,d,c,h,u,p;return{id:n.id,name:null!==(r=null===(l=a.get(n.id))||void 0===l?void 0:l.name)&&void 0!==r?r:"",nation:null!==(d=null===(c=Object(o.d)(null!==(h=s.get(n.id))&&void 0!==h?h:""))||void 0===c?void 0:c.name)&&void 0!==d?d:"",portBonusLevel:Object.values({...e,...n.portBonus}),points:null!==(u=null===(p=a.get(n.id))||void 0===p?void 0:p.points)&&void 0!==u?u:0,pointsInvested:Object(i.a)(Object.values(n.portBonus).map((e=>t[e])))}})))}async _loadAndSetupData(){await this._loadData(),this._setupData()}_setupListener(){var t;let e=!0;null===(t=document.querySelector("#"+h(this,_)))||void 0===t||t.addEventListener("click",(async()=>{e&&(e=!1,await this._loadAndSetupData()),Object(n.b)("Tools",h(this,b)),this._listSelected()}))}_sortRows(t,e=!0){e&&h(this,O)===t&&u(this,S,!h(this,S)),u(this,O,t);const a=h(this,S)?1:-1;h(this,j).sort(((e,i)=>0===t?e.name.localeCompare(i.name)*a:1===t?e.nation.localeCompare(i.nation)*a:7===t?(e.points-i.points)*a:8===t?(e.pointsInvested-i.pointsInvested)*a:(e.portBonusLevel[t-2]-i.portBonusLevel[t-2])*a))}_initTable(){u(this,S,!0),h(this,I).append("thead").append("tr").selectAll("th").data(["Port","Nation"].concat(d(l.b),["Port points","Points invested"])).enter().append("th").classed("text-right",((t,e)=>e>1)).attr("role","columnheader").style("width",((t,e)=>e>2?"3rem":"")).text((t=>Object(o.c)(t))).on("click",((t,e)=>{this._sortRows(e)})),h(this,I).append("tbody")}_injectModal(){Object(r.k)({id:h(this,m),title:h(this,b),size:"modal-lg"});const t=Object(s.a)(`#${h(this,m)} .modal-body`);u(this,I,t.append("table").attr("class","table table-sm small na-table")),this._initTable(),this._updateTable(),this._sortRows(0,!1)}_initModal(){this._injectModal()}_updateTable(){u(this,j,h(this,I).select("tbody").selectAll("tr").data(h(this,y),(t=>t.id)).join((t=>t.append("tr")))),h(this,j).selectAll("td").data((t=>[t.name,t.nation].concat(d(t.portBonusLevel),[t.points,t.pointsInvested]))).join((t=>t.append("td").classed("text-right",((t,e)=>e>1)).text((t=>0===t?"":String(t)))))}_listSelected(){document.querySelector("#"+h(this,m))||this._initModal(),t("#"+h(this,m)).modal("show")}}}).call(this,a("xeH2"))},eA68:function(t,e,a){(function(t){a.d(e,"a",(function(){return h}));a("UxlC"),a("WUlJ"),a("sfzn"),a("fCtr");var i=a("AKWm"),s=a("pOjD"),n=a("pxNS"),o=a("Q4du"),r=a("Qs7V");function l(t){return function(t){if(Array.isArray(t))return d(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return d(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return d(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function c(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class h{constructor(){c(this,"_rows",{}),c(this,"_sortAscending",{}),c(this,"_sortIndex",{}),c(this,"_switchesSel",{}),c(this,"_tables",{}),c(this,"_groupOrder",["name","damage","penetration","generic","family"]),c(this,"_cannonData",{}),c(this,"_cannonDataDefault",{}),c(this,"_baseName",void 0),c(this,"_baseId",void 0),c(this,"_buttonId",void 0),c(this,"_checkboxId",void 0),c(this,"_modalId",void 0),c(this,"_header",void 0),this._baseName="List cannons",this._baseId="cannon-list",this._buttonId="button-"+this._baseId,this._checkboxId="checkbox-"+this._baseId,this._modalId="modal-"+this._baseId,this._header={group:new Map,element:new Set},this._setupListener()}async _loadAndSetupData(){try{const t=(await a.e(6).then(a.t.bind(null,"XG8V",3))).default;this._setupData(t)}catch(t){Object(n.g)(t)}}_getFormattedName(t){let e=t;const a=t.split(" "),i="c"+a[0].padStart(3,"0"),s=a[1]?a[1][1]:"0";return a.length>1&&(e=`${a[0]} <em>${a[1]}</em>`),{value:`${i}${s}`,formattedValue:e}}_setupData(t){const e=Object.entries(t.long[0]).sort(((t,e)=>this._groupOrder.indexOf(t[0])-this._groupOrder.indexOf(e[0])));for(const[t,a]of e)if("name"===t)this._header.group.set("",1),this._header.element.add("Lb");else if("family"!==t){this._header.group.set(Object(n.c)(t),Object.entries(a).length);for(const t of Object.keys(a))this._header.element.add(Object(n.c)(t))}for(const e of n.b)this._cannonDataDefault[e]=t[e].map((t=>{const e=[],a=Object.entries(t).sort(((t,e)=>this._groupOrder.indexOf(t[0])-this._groupOrder.indexOf(e[0])));for(const[t,s]of a)if("name"===t)e.push(this._getFormattedName(s));else if("family"!==t)for(const[,t]of Object.entries(s)){var i;e.push({value:t.value,formattedValue:0===t.value?"":Object(r.c)(t.value,null!==(i=t.digits)&&void 0!==i?i:0)})}return{family:t.family,data:e}}))}_setupListener(){var t;let e=!0;null===(t=document.querySelector("#"+this._buttonId))||void 0===t||t.addEventListener("click",(async()=>{e&&(e=!1,await this._loadAndSetupData()),Object(s.b)("Tools",this._baseName),this._cannonListSelected()}))}_sortRows(t,e,a=!0){a&&this._sortIndex[t]===e&&(this._sortAscending[t]=!this._sortAscending[t]),this._sortIndex[t]=e;const i=this._sortAscending[t]?1:-1;this._rows[t].sort(((t,a)=>0===e?t[e].value.localeCompare(a[e].value)*i:(t[e].value-a[e].value)*i))}_addNavPills(t){const e=t.append("ul").attr("class","nav nav-pills").attr("role","tablist");for(const[t,a]of n.b.entries())e.append("li").attr("class","nav-item").attr("role","presentation").append("a").attr("class","nav-link"+(0===t?" active":"")).attr("id",`tab-${this._baseId}-${a}`).attr("href",`#tab-content-${this._baseId}-${a}`).attr("data-toggle","tab").attr("role","tab").attr("aria-controls",`${this._baseId}-${a}`).attr("aria-selected",""+(0===t?"true":"false")).text(Object(n.c)(a))}_injectSwitches(t,e){const a=t.append("div").attr("class","mb-3");for(const t of n.a[e]){const i=a.append("div").attr("class","custom-control custom-switch custom-control-inline");i.append("input").attr("id",`${this._checkboxId}-${e}-${t}`).attr("name",`${this._checkboxId}-${e}`).attr("class","custom-control-input").attr("type","checkbox").property("checked",!0),i.append("label").attr("for",`${this._checkboxId}-${e}-${t}`).attr("class","custom-control-label").text(Object(n.c)(t))}this._switchesSel[e]=l(document.querySelectorAll(`input[name=${this._checkboxId}-${e}]`));for(const t of this._switchesSel[e])t.addEventListener("change",(t=>{t.preventDefault(),this._cannonFamilySelected(e)}))}_injectTableStructure(t,e){this._sortAscending[e]=!0,this._tables[e]=t.append("table").attr("class","table table-sm small na-table");const a=this._tables[e];a.append("thead").append("tr").attr("class","thead-group").selectAll("th").data(l(this._header.group)).enter().append("th").classed("border-bottom-0",((t,e)=>0===e)).classed("text-center",((t,e)=>0!==e)).attr("colspan",(t=>""+t[1])).attr("scope","col").text((t=>t[0])),a.append("tr").selectAll("th").data(l(this._header.element)).enter().append("th").classed("border-top-0",((t,e)=>0===e)).classed("text-right",((t,e)=>0!==e)).text((t=>t)).on("click",((t,a)=>{this._sortRows(e,a)})),this._tables[e].append("tbody")}_insertTabContent(t,e,a){this._sortAscending[e]=!0;const i=t.append("div").attr("class","tab-pane fade"+(0===a?" show active":"")).attr("id",`tab-content-${this._baseId}-${e}`).attr("href",`#tab-content-${this._baseId}-${e}`).attr("role","tabpanel").attr("aria-labelledby",`${this._baseId}-${e}-tab`).append("div").attr("id",e+"-list");this._injectSwitches(i,e),this._injectTableStructure(i,e)}_injectModal(){Object(o.k)({id:this._modalId,title:this._baseName,size:"modal-xl"});const t=Object(i.a)(`#${this._modalId} .modal-body`);this._addNavPills(t);const e=t.append("div").attr("class","tab-content pt-2");for(const[t,a]of n.b.entries())this._sortIndex[a]=0,this._insertTabContent(e,a,t),this._cannonFamilySelected(a)}_initModal(){this._injectModal()}_updateTable(t){this._rows[t]=this._tables[t].select("tbody").selectAll("tr").data(this._cannonData[t],(t=>t[0].formattedValue)).join((t=>t.append("tr"))),this._rows[t].selectAll("td").data((t=>t)).join((t=>t.append("td").classed("text-right",((t,e)=>0!==e)).html((t=>t.formattedValue))))}_cannonFamilySelected(t){const e=new Set;for(const a of this._switchesSel[t])if(a.checked){const i=a.id.replace(`${this._checkboxId}-${t}-`,"");e.add(i)}this._cannonData[t]=this._cannonDataDefault[t].filter((t=>e.has(t.family))).map((t=>t.data)),this._updateTable(t),this._sortRows(t,this._sortIndex[t],!1)}_cannonListSelected(){document.querySelector("#"+this._modalId)||this._initModal(),t("#"+this._modalId).modal("show")}}}).call(this,a("xeH2"))},hVxF:function(t,e,a){(function(t){a.d(e,"a",(function(){return O}));a("WUlJ"),a("fCtr");var i=a("AKWm"),s=a("pOjD"),n=a("pxNS"),o=a("Q4du"),r=a("Qs7V"),l=a("oggF"),d=a("Bx8B");function c(t){return function(t){if(Array.isArray(t))return h(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return h(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return h(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,i=new Array(e);a<e;a++)i[a]=t[a];return i}function u(t,e){var a=e.get(t);if(!a)throw new TypeError("attempted to get private field on non-instance");return a.get?a.get.call(t):a.value}function p(t,e,a){var i=e.get(t);if(!i)throw new TypeError("attempted to set private field on non-instance");if(i.set)i.set.call(t,a);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=a}return a}var b=new WeakMap,_=new WeakMap,m=new WeakMap,f=new WeakMap,v=new WeakMap,w=new WeakMap,g=new WeakMap,y=new WeakMap,j=new WeakMap,S=new WeakMap;class O{constructor(){b.set(this,{writable:!0,value:void 0}),_.set(this,{writable:!0,value:void 0}),m.set(this,{writable:!0,value:void 0}),f.set(this,{writable:!0,value:void 0}),v.set(this,{writable:!0,value:{}}),w.set(this,{writable:!0,value:void 0}),g.set(this,{writable:!0,value:{}}),y.set(this,{writable:!0,value:!0}),j.set(this,{writable:!0,value:0}),S.set(this,{writable:!0,value:{}}),p(this,b,"List ships"),p(this,_,"ship-list"),p(this,m,"button-"+u(this,_)),p(this,f,"modal-"+u(this,_)),this._setupListener()}async _loadAndSetupData(){try{const t=(await a.e(16).then(a.t.bind(null,"pcjM",3))).default.sort(Object(d.b)(["class","-battleRating","name"]));p(this,v,t.map((t=>[[t.class,String(t.class)],[t.name,Object(l.a)(t.name)],[t.guns.total,String(t.guns.total)],[t.battleRating,Object(r.d)(t.battleRating)],[t.crew.max,Object(r.d)(t.crew.max)],[t.ship.maxSpeed,Object(r.c)(t.ship.maxSpeed)],[t.ship.turnSpeed,Object(r.c)(t.ship.turnSpeed)],[t.guns.broadside.cannons,Object(r.d)(t.guns.broadside.cannons)],[t.guns.gunsPerDeck[4].amount,t.guns.gunsPerDeck[4].amount?String(t.guns.gunsPerDeck[4].amount):""],[t.guns.gunsPerDeck[5].amount,t.guns.gunsPerDeck[5].amount?String(t.guns.gunsPerDeck[5].amount):""],[t.sides.armour,`${Object(r.d)(t.sides.armour)} (${t.sides.thickness})`]])))}catch(t){Object(n.g)(t)}}_setupListener(){var t;let e=!0;null===(t=document.querySelector("#"+u(this,m)))||void 0===t||t.addEventListener("click",(async()=>{e&&(e=!1,await this._loadAndSetupData()),Object(s.b)("Tools",u(this,b)),this._shipListSelected()}))}_sortRows(t,e=!0){e&&u(this,j)===t&&p(this,y,!u(this,y)),p(this,j,t);const a=u(this,y)?1:-1;u(this,g).sort(((e,i)=>1===t?e[t][0].localeCompare(i[t][0])*a:(e[t][0]-i[t][0])*a))}_initTable(){const t={group:new Map([["dummy1",5],["Speed",2],["dummy2",1],["Chasers",2],["dummy3",1]]),element:new Set(["Class","Name","Guns","Battle rating","Crew","Maximum","Turn","Broadside","Bow","Stern","Sides"])},e=u(this,S).append("thead");e.append("tr").attr("class","thead-group").selectAll("th").data(c(t.group)).enter().append("th").classed("border-bottom-0",(t=>t[0].startsWith("dummy"))).classed("text-center",!0).attr("colspan",(t=>t[1])).attr("scope","col").text((t=>t[0].startsWith("dummy")?"":t[0])),e.append("tr").selectAll("th").data(c(t.element)).enter().append("th").classed("border-top-0",!0).classed("text-right",((t,e)=>1!==e)).text((t=>t)).on("click",((t,e)=>{this._sortRows(e)})),u(this,S).append("tbody")}_injectModal(){Object(o.k)({id:u(this,f),title:u(this,b),size:"modal-lg"});const t=Object(i.a)(`#${u(this,f)} .modal-body`);p(this,S,t.append("table").attr("class","table table-sm small na-table")),this._initTable(),this._updateTable(),this._sortRows(0,!1)}_initModal(){this._injectModal()}_updateTable(){p(this,g,u(this,S).select("tbody").selectAll("tr").data(u(this,v),(t=>t[1][0])).join((t=>t.append("tr")))),u(this,g).selectAll("td").data((t=>t)).join((t=>t.append("td").classed("text-right",((t,e)=>1!==e)).html((t=>t[1]))))}_shipListSelected(){document.querySelector("#"+u(this,f))||this._initModal(),t("#"+u(this,f)).modal("show")}}}).call(this,a("xeH2"))},q1Yc:function(t,e,a){(function(t){a.d(e,"a",(function(){return h}));a("WUlJ"),a("fCtr");var i=a("AKWm"),s=(a("dbdZ"),a("pOjD")),n=a("Q4du"),o=a("pxNS"),r=a("Qs7V"),l=a("oggF"),d=a("Bx8B");function c(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}class h{constructor(){c(this,"_baseName",void 0),c(this,"_baseId",void 0),c(this,"_buttonId",void 0),c(this,"_modalId",void 0),c(this,"_buildingData",void 0),this._baseName="List buildings",this._baseId="building-list",this._buttonId="button-"+this._baseId,this._modalId="modal-"+this._baseId,this._buildingData=[],this._setupListener()}async _loadAndSetupData(){try{this._buildingData=(await a.e(5).then(a.t.bind(null,"7IKn",3))).default}catch(t){Object(o.g)(t)}}_setupListener(){let t=!0;document.querySelector("#"+this._buttonId).addEventListener("click",(async()=>{t&&(t=!1,await this._loadAndSetupData()),Object(s.b)("Tools",this._baseName),this._buildingListSelected()}))}_injectModal(){Object(n.k)({id:this._modalId,title:this._baseName});const t=this._baseId+"-select",e=Object(i.a)(`#${this._modalId} .modal-body`);e.append("label").attr("for",t),e.append("select").attr("name",t).attr("id",t),e.append("div").attr("id",""+this._baseId).attr("class","container-fluid")}_getOptions(){return""+this._buildingData.sort(Object(d.b)(["name"])).map((t=>`<option value="${t.name}">${t.name}</option>;`)).join("")}_setupSelect(){const e=t(`#${this._baseId}-select`),a=this._getOptions();e.append(a)}_setupSelectListener(){const e=t(`#${this._baseId}-select`);e.addClass("selectpicker").on("change",(t=>this._buildingSelected(t))).selectpicker({noneSelectedText:"Select building"}),e.val("default").selectpicker("refresh")}_initModal(){this._injectModal(),this._setupSelect(),this._setupSelectListener()}_buildingListSelected(){document.querySelector("#"+this._modalId)||this._initModal(),t("#"+this._modalId).modal("show")}_getBuildingData(t){return this._buildingData.find((e=>e.name===t))}_getProductText(t){let e="";return t.result&&(t.result.length>1?(e+='<table class="table table-sm"><tbody>',e+=`<tr><td>${t.result.map((t=>t.name)).join("</td></tr><tr><td>")}</td></tr>`,e+="</tbody></table>"):(e+=`<h5 class="card-title">${t.result[0].name}</h5>`,t.result[0].price&&(e+='<table class="table table-sm card-table"><tbody>',e+=`<tr><td>${Object(l.e)(t.result[0].price)} per unit</td></tr>`,t.batch&&(e+=`<tr><td>${t.batch.labour} labour hour${t.batch.labour>1?"s":""} per unit</td></tr>`),e+="</tbody></table>"))),e}_getRequirementText(t){let e="";if(e+='<table class="table table-sm card-table"><thead>',t.levels[0].materials.length>0){e+="<tr><th>Level</th><th>Level build materials</th><th>Build price (reales)</th></tr>",e+="</thead><tbody>";for(const a of t.levels){e+=`<tr><td>${t.levels.indexOf(a)+1}</td><td class="text-left">`,e+=a.materials.map((t=>`${Object(r.d)(t.amount)} ${t.item}`)).join("<br>"),e+="</td>",e+=`<td>${Object(r.d)(a.price)}</td>`,e+="</tr>"}}else{e+="<tr><th>Level</th><th>Production</th><th>Labour cost (%)</th><th>Storage</th><th>Build price (reales)</th></tr>",e+="</thead><tbody>";for(const a of t.levels){e+=`<tr><td>${t.levels.indexOf(a)+1}</td><td>${Object(r.d)(a.production)}</td><td>${Object(r.d)(-100*a.labourDiscount)}</td><td>${Object(r.d)(a.maxStorage)}</td><td>${Object(r.d)(a.price)}</td></tr>`}}return e+="</tbody></table>",e}_getText(t){const e=this._getBuildingData(t);let a='<div class="row no-gutters card-deck">';return a+='<div class="card col-5"><div class="card-header">Product</div>',a+='<div class="card-body product">',a+=this._getProductText(e),a+="</div></div>",a+='<div class="card col-7"><div class="card-header">Requirements</div>',a+='<div class="card-body px-0 requirements">',a+=this._getRequirementText(e),a+="</div></div>",a+="</div>",a}_buildingSelected(e){const a=String(t(e.currentTarget).find(":selected").val());Object(i.a)(`#${this._baseId} div`).remove(),Object(i.a)("#"+this._baseId).append("div").classed("buildings mt-4",!0),Object(i.a)(`#${this._baseId} div`).html(this._getText(a))}}}).call(this,a("xeH2"))},qTn5:function(t,e,a){(function(t){a.d(e,"a",(function(){return A}));a("WUlJ"),a("fCtr");var i=a("AKWm"),s=a("Wgwc"),n=a.n(s),o=(a("9xm0"),a("+QaA")),r=a.n(o),l=a("QgiU"),d=a.n(l),c=a("Ds8A"),h=a.n(c),u=a("pOjD"),p=a("pxNS"),b=a("Q4du"),_=a("dNoP");function m(t,e){var a=e.get(t);if(!a)throw new TypeError("attempted to get private field on non-instance");return a.get?a.get.call(t):a.value}function f(t,e,a){var i=e.get(t);if(!i)throw new TypeError("attempted to set private field on non-instance");if(i.set)i.set.call(t,a);else{if(!i.writable)throw new TypeError("attempted to set read only private field");i.value=a}return a}n.a.extend(r.a),n.a.extend(d.a),n.a.extend(h.a),n.a.locale("en-gb");var v=new WeakMap,w=new WeakMap,g=new WeakMap,y=new WeakMap,j=new WeakMap,S=new WeakMap,O=new WeakMap,I=new WeakMap,$=new WeakMap,x=new WeakMap,k=new WeakMap;class A{constructor(t){v.set(this,{writable:!0,value:void 0}),w.set(this,{writable:!0,value:void 0}),g.set(this,{writable:!0,value:void 0}),y.set(this,{writable:!0,value:void 0}),j.set(this,{writable:!0,value:void 0}),S.set(this,{writable:!0,value:void 0}),O.set(this,{writable:!0,value:void 0}),I.set(this,{writable:!0,value:{}}),$.set(this,{writable:!0,value:!0}),x.set(this,{writable:!0,value:0}),k.set(this,{writable:!0,value:{}}),f(this,g,t),f(this,y,"List of port battles"),f(this,j,"pb-list"),f(this,S,"button-"+m(this,j)),f(this,v,"table-"+m(this,j)),f(this,O,"modal-"+m(this,j)),this._setupListener()}async _loadAndSetupData(){try{const t=await(await fetch(`data/${m(this,g)}-pb.json`)).json();f(this,w,t.filter((t=>1===t.attackHostility)).map((t=>{var e,a,i,s;const o=n.a.utc(t.portBattle).local(),r=n.a.utc(t.portBattle),l=r===o?"":` (${o.format("H.mm")} local)`,d=null===(e=Object(p.d)(t.nation))||void 0===e?void 0:e.name,c=t.capturer?`${null!=d?d:""} (${Object(_.d)(t.capturer)})`:null!=d?d:"";return{sort:null!==(a=t.portBattle)&&void 0!==a?a:"",data:[`${Object(p.c)(r.fromNow())} at ${r.format("H.mm")} ${l}`,t.name,`${null!==(i=null==t?void 0:t.attackerNation)&&void 0!==i?i:""} (${Object(_.d)(null!==(s=null==t?void 0:t.attackerClan)&&void 0!==s?s:"")})`,c]}})))}catch(t){Object(p.g)(t)}}_setupListener(){var t;let e=!0;null===(t=document.querySelector("#"+m(this,S)))||void 0===t||t.addEventListener("click",(async()=>{e&&(e=!1,await this._loadAndSetupData()),Object(u.b)("Tools",m(this,y)),this._pbListSelected()}))}_sortRows(t,e=!0){e&&m(this,x)===t&&f(this,$,!m(this,$)),f(this,x,t);const a=m(this,$)?1:-1;m(this,I).sort(((e,i)=>0===t?e.sort.localeCompare(i.sort)*a:e.data[t].localeCompare(i.data[t])*a))}_initTable(){m(this,k).append("thead").append("tr").selectAll("th").data(["Time","Port","Attacker","Defender"]).enter().append("th").attr("role","columnheader").text((t=>t)).on("click",((t,e)=>{this._sortRows(e)})),m(this,k).append("tbody")}_injectModal(){Object(b.k)({id:m(this,O),title:m(this,y),size:"modal-lg"});const t=Object(i.a)(`#${m(this,O)} .modal-body`);f(this,k,t.append("table").attr("class","table table-sm small na-table")),this._initTable(),this._updateTable(),this._sortRows(0,!1)}_initModal(){this._injectModal()}_updateTable(){f(this,I,m(this,k).select("tbody").selectAll("tr").data(m(this,w),(t=>t.sort)).join((t=>t.append("tr")))),m(this,I).selectAll("td").data((t=>t.data)).join((t=>t.append("td").html((t=>t))))}_pbListSelected(){document.querySelector("#"+m(this,O))||this._initModal(),t("#"+m(this,O)).modal("show")}}}).call(this,a("xeH2"))},yU80:function(t,e,a){}}]);
/*! For license information please see game-tools~map.c2c9f0c07e8a7269c800.js.LICENSE */
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{iSiJ:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return P}));a("iPZ8"),a("kypl"),a("pCzD"),a("hi3g"),a("C4nn"),a("lYjL"),a("IlJM"),a("SJSz"),a("4owi"),a("IvQZ"),a("/YXa"),a("8cZI"),a("lmye"),a("WB5j"),a("aOEW"),a("RsBt"),a("D/wG"),a("1Qwx"),a("x+Sn"),a("fp7Y"),a("ZEAQ"),a("JBxO"),a("FdtR"),a("9UJh"),a("RsMT"),a("WoWj"),a("y89P"),a("aZFp"),a("MTDe"),a("3dw1"),a("U00V"),a("9DLp"),a("wcNg"),a("3XUK"),a("Peo2"),a("/1Gu");var s=a("ED/D"),i=a("qKAC"),r=a("SYoz"),n=a("BfWa"),o=a("Tj8s"),p=a("8RCj"),c=a("OQCi"),d=a("PVJp"),h=a("XGRO"),u=a("bTsO"),l=a("u1QP"),m=a("qbdS"),_=a("mIOj"),f=a("f4w0"),g=a("Av7d"),b=a("0lY5"),D=a("pFgi"),v=a("t1jV"),S=a.n(v);function C(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function w(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function x(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function y(e,t,a){return t&&x(e.prototype,t),a&&x(e,a),e}var k=2*Math.PI/24,j=g.H/g.I,A=function(){function e(e,t){this._id=e,this._shipCompare=t,this._ticksSpeed=[12,8,4,0],this._ticksSpeedLabels=["12 knots","8 knots","4 knots","0 knots"],this._select="#ship-compare-"+this._id,this._setupSvg(),this._setCompass()}var t=e.prototype;return t._setupSvg=function(){var e=Object(d.a)(this.select);Object(d.a)(this.select+" svg").remove(),this._svg=e.append("svg").attr("width",this._shipCompare.svgWidth).attr("height",this._shipCompare.svgHeight).attr("data-ui-component","sailing-profile").attr("fill","none"),this.mainG=this._svg.append("g").attr("transform","translate("+this._shipCompare.svgWidth/2+","+this._shipCompare.svgHeight/2+")"),Object(d.a)(this.select+" div").remove(),e.append("div").attr("class","block-small")},t._setCompass=function(){var e=this,t=new Array(12);t.fill(1,0);var a=Object(u.a)().sort(null).value(1)(t),s=Object(l.a)().outerRadius(this._shipCompare.radiusSpeedScale(12)).innerRadius(this._shipCompare.innerRadius);this.mainG.append("g").attr("class","compass-arc").selectAll("path").data(a).join((function(e){return e.append("path").attr("d",s)})),this.mainG.append("g").attr("class","speed-circle").selectAll("circle").data(this._ticksSpeed).join((function(t){return t.append("circle").attr("r",(function(t){return e._shipCompare.radiusSpeedScale(t)}))}))},e.pd=function(e){var t='<span class="badge badge-white">'+e[0]+" / ";return e[1]?t+=""+e[1]:t+="–",t+=" lb</span>"},e.getCannonsPerDeck=function(t,a){for(var s=a[0]+" "+e.pd(t[0]),i="",r=1;r<4;r+=1)a[r]?s=a[r]+" "+e.pd(t[r])+" <br>"+s:i+="<br>";return[s,i]},e.displaySecondBlock=function(){return'<div class="col-9"><div class="row no-gutters">'},e.getText=function(t){var a=0;function s(e){return'<div class="row row-small '+((a+=1)%2?"row-light":"")+'"><div class="col-3">'+e+"</div>"}function i(e,a,s){void 0===s&&(s=6);var i="",r="";if("cannonsPerDeck"===e){var n=t[e];i=n[0],r="<br>"+(r=n[1])}else i=""===e?"":t[e];return'<div class="col-'+s+'">'+i+'<br><span class="des">'+a+"</span>"+r+"</div>"}var r="";return r+=s(t.shipRating),r+=e.displaySecondBlock(),r+=i("battleRating","Battle rating"),r+=i("guns","Cannons"),r+=i("upgradeXP","Knowledge XP"),r+=i("waterlineHeight","Water line"),r+="</div></div></div>",r+=s(t.decks),r+=e.displaySecondBlock(),r+=i("cannonsPerDeck","Gun decks"),r+=i("firezoneHorizontalWidth","Firezone horizontal width"),r+="</div></div></div>",r+=s("Broadside (lb)"),r+=e.displaySecondBlock(),r+=i("cannonBroadside","Cannons"),r+=i("carroBroadside","Carronades"),r+="</div></div></div>",r+=s("Chasers"),r+=e.displaySecondBlock(),r+=i("gunsFront","Bow"),r+=i("gunsBack","Stern"),r+="</div></div></div>",r+=s("Speed"),r+=e.displaySecondBlock(),r+=i("maxSpeed","Maximum"),r+=i("",""),r+=i("acceleration","Acceleration"),r+=i("deceleration","Deceleration"),r+=i("maxTurningSpeed","Turn speed"),r+=i("halfturnTime","Rudder half time"),r+="</div></div></div>",r+=s('Hit points <span class="badge badge-white">Thickness</span>'),r+=e.displaySecondBlock(),r+=i("sideArmor","Sides"),r+=i("structure","Hull"),r+=i("frontArmor","Bow"),r+=i("backArmor","Stern"),r+=i("pump","Pump"),r+=i("rudder","Rudder"),r+="</div></div></div>",r+=s('Masts <span class="badge badge-white">Thickness</span>'),r+=e.displaySecondBlock(),r+=i("sails","Sails"),r+=i("mastBottomArmor","Bottom"),r+=i("mastMiddleArmor","Middle"),r+=i("mastTopArmor","Top"),r+="</div></div></div>",r+=s("Crew"),r+=e.displaySecondBlock(),r+=i("minCrew","Minimum",4),r+=i("sailingCrew","Sailing",4),r+=i("maxCrew","Maximum",4),r+="</div></div></div>",r+=s("Resistance"),r+=e.displaySecondBlock(),r+=i("fireResistance","Fire",4),r+=i("leakResistance","Leak",4),r+=i("splinterResistance","Splinter",4),r+="</div></div></div>",r+=s('Repairs needed <span class="badge badge-white">Set of 5</span>'),r+=e.displaySecondBlock(),r+=i("hullRepairsNeeded","Hull",4),r+=i("rigRepairsNeeded","Rig",4),r+=i("rumRepairsNeeded","Rum",4),r+="</div></div></div>",r+=s("Repair"),r+=e.displaySecondBlock(),r+=i("hullRepairAmount","Hull %",4),r+=i("rigRepairAmount","Rig %",4),r+=i("repairTime","Time (sec)",4),r+="</div></div></div>",r+=s("Hold"),r+=e.displaySecondBlock(),r+=i("maxWeight","Tons"),r+=i("holdSize","Cargo slots"),r+="</div></div></div>",r+="</div>"},y(e,[{key:"id",get:function(){return this._id}},{key:"shipData",get:function(){return this._shipData}},{key:"select",get:function(){return this._select}}]),e}(),O=function(t){function a(e,a,s){var i;return(i=t.call(this,e,s)||this)._shipData=a,i._shipCompare=s,i._setBackground(),i._setupDrag(),i._drawWindProfile(),i._setupShipOutline(),i._printText(),i}w(a,t);var s=a.prototype;return s._setBackground=function(){var e=this,t=Object(l.a)().outerRadius((function(t){return e._shipCompare.radiusSpeedScale(t)+2})).innerRadius((function(t){return e._shipCompare.radiusSpeedScale(t)+1})).startAngle(-Math.PI/2).endAngle(Math.PI/2);this.mainG.append("g").attr("data-ui-component","speed-textpath").selectAll("path").data(this._ticksSpeed).join((function(e){return e.append("path").attr("d",t).attr("id",(function(e,t){return"tick"+t}))})),this.mainG.append("g").attr("class","speed-text").selectAll("text").data(this._ticksSpeed).join((function(t){return t.append("text").append("textPath").attr("href",(function(e,t){return"#tick"+t})).text((function(t,a){return e._ticksSpeedLabels[a]})).attr("startOffset","10%")}))},s._getHeadingInDegrees=function(e,t){var a=e-t-180;return a<0&&(a+=360),a},s._getSpeed=function(e){return Object(b.r)(this._speedScale(Math.abs(e)))},s._getHeadingInCompass=function(e){return Object(b.h)(e)},s._updateCompareWindProfiles=function(){var e=this;this._shipCompare._columnsCompare.forEach((function(t){Object(b.F)(e._shipCompare._selectedShips[t])||e._shipCompare._selectedShips[t].updateWindProfileRotation()}))},s._setupDrag=function(){var e=this,t=this._shipData.speedDegrees.length,a=360/t,s=new Array(t+1).fill().map((function(e,t){return t*a}));this._speedScale=Object(c.a)().domain(s).range([].concat(C(this._shipData.speedDegrees),[this._shipData.speedDegrees[0]])).clamp(!0);this._drag=Object(o.a)().on("start",(function(e){e.this.classed("drag-active",!0)})).on("drag",(function(t){var a=h.c.x,s=h.c.y;t.rotate=e._getHeadingInDegrees(Object(b.K)({x:t.initX,y:t.initY},{x:a,y:s}),t.correctionValueDegrees),t.this.attr("transform",(function(e){return"rotate("+e.rotate+")"})),t.compassText.attr("transform",(function(e){return"rotate("+-e.rotate+","+e.compassTextX+","+e.compassTextY+")"})).text((function(t){return e._getHeadingInCompass(t.rotate)})),"ship"===t.type?e._shipRotate=t.rotate:"windProfile"===t.type&&(e._shipCompare.windProfileRotate=t.rotate),e._speedText.attr("transform","rotate("+-e._shipRotate+")").text(e._getSpeed(e._shipCompare.windProfileRotate-e._shipRotate)),"windProfile"===t.type&&e._updateCompareWindProfiles()})).on("end",(function(e){e.this.classed("drag-active",!1)})).container((function(){return e.mainG.node()}))},s._setupShipOutline=function(){var e=this;this._shipRotate=0;var t=this._shipData.shipMass,a=this._shipCompare.shipMassScale(t),s=a,i=this._shipCompare.svgHeight/2-40,r={initX:0,initY:0,initRotate:this._shipRotate,correctionValueDegrees:180,compassTextX:0,compassTextY:i,speedTextX:0,speedTextY:0,type:"ship"},n=this.mainG.append("g").datum(r).attr("class","ship-outline");n.append("line").attr("x1",(function(e){return e.initX})).attr("y1",i-20).attr("x2",(function(e){return e.initX})).attr("y2",(function(e){return e.initY})),n.append("image").attr("height",a).attr("width",s).attr("x",-a/2).attr("y",-s/2).attr("xlink:href",S.a),n.append("circle").attr("cx",(function(e){return e.compassTextX})).attr("cy",(function(e){return e.compassTextY})).attr("r",20).call(this._drag);var o=n.append("text").attr("x",(function(e){return e.compassTextX})).attr("y",(function(e){return e.compassTextY})).attr("transform",(function(e){return"rotate("+-e.initRotate+","+e.compassTextX+","+e.compassTextY+")"})).text((function(t){return e._getHeadingInCompass(t.initRotate)}));this._speedText=n.append("text").attr("x",(function(e){return e.speedTextX})).attr("y",(function(e){return e.speedTextY})).attr("transform",(function(e){return"rotate("+-e.initRotate+")"})).text((function(t){return e._getSpeed(t.initRotate)})),r.this=n,r.compassText=o,n.datum(r).attr("transform",(function(e){return"rotate("+e.initRotate+")"}))},s._drawWindProfile=function(){var e=this,t=Object(u.a)().sort(null).value(1)(this._shipData.speedDegrees),a=m.a,s=Object(_.a)().angle((function(e,t){return t*k})).radius((function(t){return e._shipCompare.radiusSpeedScale(t.data)})).curve(a);this._shipCompare.windProfileRotate=0;var i=this._shipCompare.svgHeight/2-20,r={initX:0,initY:0,initRotate:this._shipCompare.windProfileRotate,correctionValueDegrees:0,compassTextX:0,compassTextY:-i,type:"windProfile"},n=this.mainG.append("g").datum(r).attr("class","wind-profile");n.append("path").attr("d",(function(e){return String(Object(b.n)(e.compassTextX,e.compassTextY,20))+Object(b.o)(e.compassTextX,e.compassTextY,-e.compassTextY/2)})).attr("class","wind-profile-arrow").attr("marker-end","url(#wind-profile-arrow-head)").call(this._drag),n.append("circle").attr("cx",(function(e){return e.compassTextX})).attr("cy",(function(e){return e.compassTextY})).attr("r",20);var o=n.append("text").attr("x",(function(e){return e.compassTextX})).attr("y",(function(e){return e.compassTextY})).attr("transform",(function(e){return"rotate("+-e.initRotate+","+e.compassTextX+","+e.compassTextY+")"})).text((function(t){return e._getHeadingInCompass(t.initRotate)}));n.append("path").attr("class","base-profile").attr("d",s(t)),n.append("g").attr("data-ui-component","speed-markers").selectAll("circle").data(t).join((function(t){return t.append("circle").attr("r",5).attr("cy",(function(t,a){return Math.cos(a*k)*-e._shipCompare.radiusSpeedScale(t.data)})).attr("cx",(function(t,a){return Math.sin(a*k)*e._shipCompare.radiusSpeedScale(t.data)})).attr("fill",(function(t){return e._shipCompare.colorScale(t.data)})).attr("fill",(function(t){return e._shipCompare.colorScale(t.data)})).append("title").text((function(e){return Math.round(10*e.data)/10+" knots"}))})),r.this=n,r.compassText=o,n.datum(r).attr("transform",(function(e){return"rotate("+e.initRotate+")"}))},s._printText=function(){var t=A.getCannonsPerDeck(this._shipData.deckClassLimit,this._shipData.gunsPerDeck),a=Math.round(this._shipData.sides.armour*this._shipData.repairAmount.armour/g.x),s=Math.round(this._shipData.sails.armour*this._shipData.repairAmount.sails/g.G),i=Math.round(this._shipData.crew.max*j),r={shipRating:Object(b.D)(this._shipData.class)+" rate",battleRating:this._shipData.battleRating,guns:this._shipData.guns,decks:this._shipData.decks+" deck"+(this._shipData.decks>1?"s":""),additionalRow:this._shipData.decks<4?"<br> ":"",cannonsPerDeck:t,cannonBroadside:Object(b.v)(this._shipData.broadside.cannons),carroBroadside:Object(b.v)(this._shipData.broadside.carronades),gunsFront:this._shipData.gunsPerDeck[4],limitFront:this._shipData.deckClassLimit[4],gunsBack:this._shipData.gunsPerDeck[5],limitBack:this._shipData.deckClassLimit[5],firezoneHorizontalWidth:this._shipData.ship.firezoneHorizontalWidth,waterlineHeight:Object(b.r)(this._shipData.ship.waterlineHeight),maxSpeed:Object(b.r)(this._shipData.speed.max,5),acceleration:Object(b.r)(this._shipData.ship.acceleration),deceleration:Object(b.r)(this._shipData.ship.deceleration),maxTurningSpeed:Object(b.r)(this._shipData.rudder.turnSpeed,4),halfturnTime:Object(b.r)(this._shipData.rudder.halfturnTime),sideArmor:Object(b.v)(this._shipData.sides.armour)+' <span class="badge badge-white">'+Object(b.v)(this._shipData.sides.thickness)+"</span>",frontArmor:Object(b.v)(this._shipData.bow.armour)+' <span class="badge badge-white">'+Object(b.v)(this._shipData.bow.thickness)+"</span>",pump:Object(b.v)(this._shipData.pump.armour),sails:Object(b.v)(this._shipData.sails.armour),structure:Object(b.v)(this._shipData.structure.armour),backArmor:Object(b.v)(this._shipData.stern.armour)+' <span class="badge badge-white">'+Object(b.v)(this._shipData.stern.thickness)+"</span>",rudder:Object(b.v)(this._shipData.rudder.armour)+' <span class="badge badge-white">'+Object(b.v)(this._shipData.rudder.thickness)+"</span>",minCrew:Object(b.v)(this._shipData.crew.min),maxCrew:Object(b.v)(this._shipData.crew.max),sailingCrew:Object(b.v)(this._shipData.crew.sailing||0),maxWeight:Object(b.v)(this._shipData.maxWeight),holdSize:Object(b.v)(this._shipData.holdSize),upgradeXP:Object(b.v)(this._shipData.upgradeXP),sternRepair:""+Object(b.v)(this._shipData.repairTime.stern),bowRepair:""+Object(b.v)(this._shipData.repairTime.bow),hullRepairAmount:""+Object(b.v)(100*(this._shipData.repairAmount.armour+this._shipData.repairAmount.armourPerk)),rigRepairAmount:""+Object(b.v)(100*(this._shipData.repairAmount.sails+this._shipData.repairAmount.sailsPerk)),repairTime:""+Object(b.v)(this._shipData.repairTime.sides),hullRepairsNeeded:Object(b.v)(a)+' <span class="badge badge-white">'+Object(b.v)(5*a)+"</span>",rigRepairsNeeded:Object(b.v)(s)+' <span class="badge badge-white">'+Object(b.v)(5*s)+"</span>",rumRepairsNeeded:Object(b.v)(i)+' <span class="badge badge-white">'+Object(b.v)(5*i)+"</span>",fireResistance:Object(b.x)(this._shipData.resistance.fire,0),leakResistance:Object(b.x)(this._shipData.resistance.leaks,0),splinterResistance:Object(b.x)(this._shipData.resistance.splinter,0),mastBottomArmor:Object(b.v)(this._shipData.mast.bottomArmour)+' <span class="badge badge-white">'+Object(b.v)(this._shipData.mast.bottomThickness)+"</span>",mastMiddleArmor:Object(b.v)(this._shipData.mast.middleArmour)+' <span class="badge badge-white">'+Object(b.v)(this._shipData.mast.middleThickness)+"</span>",mastTopArmor:Object(b.v)(this._shipData.mast.topArmour)+' <span class="badge badge-white">'+Object(b.v)(this._shipData.mast.topThickness)+"</span>"};r.gunsFront?r.gunsFront+=" "+A.pd(r.limitFront):r.gunsFront="–",r.gunsBack?r.gunsBack+=" "+A.pd(r.limitBack):r.gunsBack="–",e(""+this.select).find("div").append(A.getText(r))},a}(A),B=function(t){function a(e,a,s,i){var r;return(r=t.call(this,e,i)||this)._shipBaseData=a,r._shipCompareData=s,r._shipCompare=i,r._setupDrag(),r._drawDifferenceProfile(),r._setupShipOutline(),r._injectTextComparison(),r}w(a,t);var r=a.prototype;return r._setColourScale=function(e,t){var a=Math.min(e,this._shipCompare.colourScaleSpeedDiff.domain()[0]),s=Math.max(t,this._shipCompare.colourScaleSpeedDiff.domain()[this._shipCompare.colourScaleSpeedDiff.domain().length-1]);this._shipCompare.colourScaleSpeedDiff.domain([a,0,s])},r._getHeadingInDegrees=function(e,t){var a=e-t-180;return a<0&&(a+=360),a},r._getSpeed=function(e){return Object(b.r)(this._speedScale(Math.abs(e)))},r._getHeadingInCompass=function(e){return Object(b.h)(e)},r._updateSpeedText=function(){this._speedText.attr("transform","rotate("+-this._shipRotate+")").text(this._getSpeed(this._shipCompare.windProfileRotate-this._shipRotate))},r._setupDrag=function(){var e=this,t=this._shipCompareData.speedDegrees.length,a=360/t,s=new Array(t+1).fill().map((function(e,t){return t*a}));this._speedScale=Object(c.a)().domain(s).range([].concat(C(this._shipCompareData.speedDegrees),[this._shipCompareData.speedDegrees[0]])).clamp(!0);this._drag=Object(o.a)().on("start",(function(e){e.this.classed("drag-active",!0)})).on("drag",(function(t){var a=h.c.x,s=h.c.y;t.rotate=e._getHeadingInDegrees(Object(b.K)({x:t.initX,y:t.initY},{x:a,y:s}),t.correctionValueDegrees),t.this.attr("transform",(function(e){return"rotate("+e.rotate+")"})),t.compassText.attr("transform",(function(e){return"rotate("+-e.rotate+","+e.compassTextX+","+e.compassTextY+")"})).text((function(t){return e._getHeadingInCompass(t.rotate)})),e._shipRotate=t.rotate,e._updateSpeedText()})).on("end",(function(e){e.this.classed("drag-active",!1)})).container((function(){return e.mainG.node()}))},r._setupShipOutline=function(){var e=this;this._shipRotate=0;var t=this._shipCompareData.shipMass,a=this._shipCompare.shipMassScale(t),s=a,i=this._shipCompare.svgHeight/2-40,r={initX:0,initY:0,initRotate:this._shipRotate,correctionValueDegrees:180,compassTextX:0,compassTextY:i,speedTextX:0,speedTextY:0,type:"ship"},n=this.mainG.append("g").datum(r).attr("class","ship-outline");n.append("line").attr("x1",(function(e){return e.initX})).attr("y1",i-20).attr("x2",(function(e){return e.initX})).attr("y2",(function(e){return e.initY})),n.append("image").attr("height",a).attr("width",s).attr("x",-a/2).attr("y",-s/2).attr("xlink:href",S.a),n.append("circle").attr("cx",(function(e){return e.compassTextX})).attr("cy",(function(e){return e.compassTextY})).attr("r",20).call(this._drag);var o=n.append("text").attr("x",(function(e){return e.compassTextX})).attr("y",(function(e){return e.compassTextY})).attr("transform",(function(e){return"rotate("+-e.initRotate+","+e.compassTextX+","+e.compassTextY+")"})).text((function(t){return e._getHeadingInCompass(t.initRotate)}));this._speedText=n.append("text").attr("x",(function(e){return e.speedTextX})).attr("y",(function(e){return e.speedTextY})).attr("transform",(function(e){return"rotate("+-e.initRotate+")"})).text((function(t){return e._getSpeed(e._shipCompare.windProfileRotate-t.initRotate)})),r.this=n,r.compassText=o,n.datum(r).attr("transform",(function(e){return"rotate("+e.initRotate+")"}))},r._drawDifferenceProfile=function(){var e=this;this._pie=Object(u.a)().sort(null).value(1);var t=this._pie(this._shipBaseData.speedDegrees);this._arcsComp=this._pie(this._shipCompareData.speedDegrees),this._speedDiff=this._shipCompareData.speedDegrees.map((function(t,a){return Object(b.L)(t-e._shipBaseData.speedDegrees[a])})),this._minSpeedDiff=Object(s.a)(this._speedDiff),this._maxSpeedDiff=Object(i.a)(this._speedDiff);var a=m.a,r=Object(_.a)().angle((function(e,t){return t*k})).radius((function(t){return e._shipCompare.radiusSpeedScale(t.data)})).curve(a),n=this._shipCompare.svgHeight/2-20;this._windProfile={initX:0,initY:0,initRotate:this._shipCompare.windProfileRotate,correctionValueDegrees:0,compassTextX:0,compassTextY:-n,type:"windProfile"},this._gWindProfile=this.mainG.append("g").attr("class","wind-profile").attr("transform","rotate("+this._windProfile.initRotate+")"),this._gWindProfile.append("path").attr("class","base-profile").attr("d",r(t)),this._gWindProfile.append("path").attr("class","comp-profile").attr("d",r(this._arcsComp))},r.updateWindProfileRotation=function(){this._gWindProfile.attr("transform","rotate("+this._shipCompare.windProfileRotate+")"),this._updateSpeedText()},r.updateDifferenceProfile=function(){var e=this;this._setColourScale(this._minSpeedDiff,this._maxSpeedDiff),this._gWindProfile.append("g").attr("data-ui-component","speed-markers").selectAll("circle").data(this._arcsComp).join((function(t){t.append("circle").attr("r",5).attr("cy",(function(t,a){return Math.cos(a*k)*-e._shipCompare.radiusSpeedScale(t.data)})).attr("cx",(function(t,a){return Math.sin(a*k)*e._shipCompare.radiusSpeedScale(t.data)})).attr("fill",(function(t,a){return e._shipCompare.colourScaleSpeedDiff(e._speedDiff[a])})).append("title").text((function(t,a){return Math.round(10*t.data)/10+" ("+Object(b.A)(e._speedDiff[a],1)+") knots"}))})).select("circle").attr("fill",(function(t,a){return e._shipCompare.colourScaleSpeedDiff(e._speedDiff[a])}))},r._injectTextComparison=function(){function t(e,t,a,s){void 0===a&&(a=0),void 0===s&&(s=!1);var i=parseFloat((e-t).toFixed(a));return s&&(i*=100),i<0?'<span class="badge badge-danger">'+Object(b.r)(Math.abs(i))+"</span>":i>0?'<span class="badge badge-success">'+Object(b.r)(i)+"</span>":""}var a=Math.round(this.shipBaseData.sides.armour*this.shipBaseData.repairAmount.armour/g.x),s=Math.round(this.shipBaseData.sails.armour*this.shipBaseData.repairAmount.sails/g.G),i=Math.round(this.shipBaseData.crew.max*j),r=Math.round(this.shipCompareData.sides.armour*this.shipCompareData.repairAmount.armour/g.x),n=Math.round(this.shipCompareData.sails.armour*this.shipCompareData.repairAmount.sails/g.G),o=Math.round(this.shipCompareData.crew.max*j),p={shipRating:Object(b.D)(this.shipCompareData.class)+" rate",battleRating:this.shipCompareData.battleRating+" "+t(this.shipCompareData.battleRating,this.shipBaseData.battleRating),guns:this.shipCompareData.guns+" "+t(this.shipCompareData.guns,this.shipBaseData.guns),decks:this.shipCompareData.decks+" "+t(this.shipCompareData.decks,this.shipBaseData.decks)+" deck"+(this.shipCompareData.decks>1?"s":""),additionalRow:this.shipCompareData.decks<4?"<br> ":"",cannonsPerDeck:A.getCannonsPerDeck(this.shipCompareData.deckClassLimit,this.shipCompareData.gunsPerDeck),cannonBroadside:this.shipCompareData.broadside.cannons+" "+t(this.shipCompareData.broadside.cannons,this.shipBaseData.broadside.cannons),carroBroadside:this.shipCompareData.broadside.carronades+" "+t(this.shipCompareData.broadside.carronades,this.shipBaseData.broadside.carronades),gunsFront:this.shipCompareData.gunsPerDeck[4],limitFront:this.shipCompareData.deckClassLimit[4],gunsBack:this.shipCompareData.gunsPerDeck[5],limitBack:this.shipCompareData.deckClassLimit[5],minSpeed:Object(b.r)(this.shipCompareData.speed.min)+" "+t(this.shipCompareData.speed.min,this.shipBaseData.speed.min,2),maxSpeed:Object(b.r)(this.shipCompareData.speed.max,4)+" "+t(this.shipCompareData.speed.max,this.shipBaseData.speed.max,2),maxTurningSpeed:Object(b.r)(this.shipCompareData.rudder.turnSpeed)+" "+t(this.shipCompareData.rudder.turnSpeed,this.shipBaseData.rudder.turnSpeed,2),firezoneHorizontalWidth:this.shipCompareData.ship.firezoneHorizontalWidth+" "+t(this.shipCompareData.ship.firezoneHorizontalWidth,this.shipBaseData.ship.firezoneHorizontalWidth),waterlineHeight:Object(b.r)(this.shipCompareData.ship.waterlineHeight)+" "+t(this.shipCompareData.ship.waterlineHeight,this.shipBaseData.ship.waterlineHeight,2),acceleration:Object(b.r)(this.shipCompareData.ship.acceleration)+" "+t(this.shipCompareData.ship.acceleration,this.shipBaseData.ship.acceleration,2),deceleration:Object(b.r)(this.shipCompareData.ship.deceleration)+" "+t(this.shipCompareData.ship.deceleration,this.shipBaseData.ship.deceleration,2),halfturnTime:Object(b.r)(this.shipCompareData.rudder.halfturnTime)+" "+t(this.shipCompareData.rudder.halfturnTime,this.shipBaseData.rudder.halfturnTime),sideArmor:Object(b.v)(this.shipCompareData.sides.armour)+" "+t(this.shipCompareData.sides.armour,this.shipBaseData.sides.armour)+' <span class="badge badge-white">'+Object(b.v)(this.shipCompareData.sides.thickness)+"</span>"+t(this.shipCompareData.sides.thickness,this.shipBaseData.sides.thickness),frontArmor:Object(b.v)(this.shipCompareData.bow.armour)+" "+t(this.shipCompareData.bow.armour,this.shipBaseData.bow.armour)+' <span class="badge badge-white">'+Object(b.v)(this.shipCompareData.bow.thickness)+"</span>"+t(this.shipCompareData.bow.thickness,this.shipBaseData.bow.thickness),backArmor:Object(b.v)(this.shipCompareData.stern.armour)+" "+t(this.shipCompareData.stern.armour,this.shipBaseData.stern.armour)+' <span class="badge badge-white">'+Object(b.v)(this.shipCompareData.stern.thickness)+"</span>"+t(this.shipCompareData.stern.thickness,this.shipBaseData.stern.thickness),pump:Object(b.v)(this.shipCompareData.pump.armour)+" "+t(this.shipCompareData.pump.armour,this.shipBaseData.pump.armour),sails:Object(b.v)(this.shipCompareData.sails.armour)+" "+t(this.shipCompareData.sails.armour,this.shipBaseData.sails.armour),structure:Object(b.v)(this.shipCompareData.structure.armour)+" "+t(this.shipCompareData.structure.armour,this.shipBaseData.structure.armour),rudder:Object(b.v)(this.shipCompareData.rudder.armour)+" "+t(this.shipCompareData.rudder.armour,this.shipBaseData.rudder.armour)+' <span class="badge badge-white">'+Object(b.v)(this.shipCompareData.rudder.thickness)+"</span>"+t(this.shipCompareData.rudder.thickness,this.shipBaseData.rudder.thickness),minCrew:Object(b.v)(this.shipCompareData.crew.min)+" "+t(this.shipCompareData.crew.min,this.shipBaseData.crew.min),maxCrew:Object(b.v)(this.shipCompareData.crew.max)+" "+t(this.shipCompareData.crew.max,this.shipBaseData.crew.max),sailingCrew:Object(b.v)(this.shipCompareData.crew.sailing)+" "+t(this.shipCompareData.crew.sailing,this.shipBaseData.crew.sailing),maxWeight:Object(b.v)(this.shipCompareData.maxWeight)+" "+t(this.shipCompareData.maxWeight,this.shipBaseData.maxWeight),holdSize:Object(b.v)(this.shipCompareData.holdSize)+" "+t(this.shipCompareData.holdSize,this.shipBaseData.holdSize),upgradeXP:Object(b.v)(this.shipCompareData.upgradeXP)+" "+t(this.shipCompareData.upgradeXP,this.shipBaseData.upgradeXP),hullRepairAmount:Object(b.v)(100*(this.shipCompareData.repairAmount.armour+this.shipCompareData.repairAmount.armourPerk))+" "+t(this.shipCompareData.repairAmount.armour+this.shipCompareData.repairAmount.armourPerk,this.shipBaseData.repairAmount.armour+this.shipBaseData.repairAmount.armourPerk,3,!0),rigRepairAmount:Object(b.v)(100*(this.shipCompareData.repairAmount.sails+this.shipCompareData.repairAmount.sailsPerk))+" "+t(this.shipCompareData.repairAmount.sails+this.shipCompareData.repairAmount.sailsPerk,this.shipBaseData.repairAmount.sails+this.shipBaseData.repairAmount.sailsPerk,3,!0),repairTime:Object(b.v)(this.shipCompareData.repairTime.sides)+" "+t(this.shipBaseData.repairTime.sides,this.shipCompareData.repairTime.sides),hullRepairsNeeded:Object(b.v)(r)+" "+t(r,a)+' <span class="badge badge-white">'+Object(b.v)(5*r)+"</span>",rigRepairsNeeded:Object(b.v)(n)+" "+t(n,s)+' <span class="badge badge-white">'+Object(b.v)(5*n)+"</span>",rumRepairsNeeded:Object(b.v)(o)+" "+t(o,i)+' <span class="badge badge-white">'+Object(b.v)(5*o)+"</span>",fireResistance:Object(b.x)(this.shipCompareData.resistance.fire,0)+" "+t(this.shipCompareData.resistance.fire,this.shipBaseData.resistance.fire,2,!0),leakResistance:Object(b.x)(this.shipCompareData.resistance.leaks,0)+" "+t(this.shipCompareData.resistance.leaks,this.shipBaseData.resistance.leaks,2,!0),splinterResistance:Object(b.x)(this.shipCompareData.resistance.splinter,0)+" "+t(this.shipCompareData.resistance.splinter,this.shipBaseData.resistance.splinter,2,!0),mastBottomArmor:Object(b.v)(this.shipCompareData.mast.bottomArmour)+" "+t(this.shipCompareData.mast.bottomArmour,this.shipBaseData.mast.bottomArmour)+' <span class="badge badge-white">'+Object(b.v)(this.shipCompareData.mast.bottomThickness)+"</span>"+t(this.shipCompareData.mast.bottomThickness,this.shipBaseData.mast.bottomThickness),mastMiddleArmor:Object(b.v)(this.shipCompareData.mast.middleArmour)+" "+t(this.shipCompareData.mast.middleArmour,this.shipBaseData.mast.middleArmour)+' <span class="badge badge-white">'+Object(b.v)(this.shipCompareData.mast.middleThickness)+"</span>"+t(this.shipCompareData.mast.middleThickness,this.shipBaseData.mast.middleThickness),mastTopArmor:Object(b.v)(this.shipCompareData.mast.topArmour)+" "+t(this.shipCompareData.mast.topArmour,this.shipBaseData.mast.topArmour)+' <span class="badge badge-white">'+Object(b.v)(this.shipCompareData.mast.topThickness)+"</span>"+t(this.shipCompareData.mast.topThickness,this.shipBaseData.mast.topThickness)};p.gunsFront?p.gunsFront+=" "+A.pd(p.limitFront):p.gunsFront="–",p.gunsBack?p.gunsBack+=" "+A.pd(p.limitBack):p.gunsBack="–",e(""+this.select).find("div").append(A.getText(p))},y(a,[{key:"shipBaseData",get:function(){return this._shipBaseData}},{key:"shipCompareData",get:function(){return this._shipCompareData}},{key:"shipCompare",get:function(){return this._shipCompare}}]),a}(A),P=function(){function t(e){void 0===e&&(e="ship-compare"),this._baseId=e,this._baseName="Compare ships",this._buttonId="button-"+this._baseId,this._modalId="modal-"+this._baseId,this._moduleId=this._baseId+"-module",this._copyButtonId="button-copy-"+this._baseId,this.colourScaleSpeedDiff=Object(c.a)().range([g.i,g.k,g.f]).interpolate(p.a),this._shipIds=[],this._selectedUpgradeIdsPerType=[],this._selectedUpgradeIdsList=[],this._selectShip$={},this._selectWood$={},this._selectModule$={},this._modal$=null,this._modifierAmount=new Map,"ship-compare"===this._baseId?this._columnsCompare=["C1","C2"]:this._columnsCompare=[],this._columns=this._columnsCompare.slice(),this._columns.unshift("Base"),this._selectedShips={Base:{},C1:{},C2:{}},this._woodId="wood-ship",this._setupArrow(),"ship-journey"!==this._baseId&&this._setupListener()}var o=t.prototype;return o._setupArrow=function(){var e=document.getElementById("journey-arrow").cloneNode(!0);e.id="wind-profile-arrow-head",e.hasChildNodes()&&e.childNodes.forEach((function(e){e.classList.replace("journey-arrow-head","wind-profile-arrow-head")})),document.querySelector("#na-map svg defs").appendChild(e)},o.CompareShipsInit=function(){return regeneratorRuntime.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(this._loadAndSetupData());case 2:this._initData(),this._initSelects();case 4:case"end":return e.stop()}}),null,this)},o._setupData=function(){this._moduleAndWoodChanges=new Map([["Acceleration",{properties:["ship.acceleration"],isBaseValueAbsolute:!0}],["Armor thickness",{properties:["sides.thickness","bow.thickness","stern.thickness"],isBaseValueAbsolute:!0}],["Armour repair amount (perk)",{properties:["repairAmount.armourPerk"],isBaseValueAbsolute:!0}],["Armour repair amount",{properties:["repairAmount.armour"],isBaseValueAbsolute:!0}],["Armour hit points",{properties:["bow.armour","sides.armour","stern.armour"],isBaseValueAbsolute:!0}],["Back armour thickness",{properties:["stern.thickness"],isBaseValueAbsolute:!0}],["Splinter resistance",{properties:["resistance.splinter"],isBaseValueAbsolute:!1}],["Crew",{properties:["crew.max"],isBaseValueAbsolute:!0}],["Fire resistance",{properties:["resistance.fire"],isBaseValueAbsolute:!1}],["Front armour thickness",{properties:["bow.thickness"],isBaseValueAbsolute:!0}],["Hold weight",{properties:["maxWeight"],isBaseValueAbsolute:!0}],["Hull hit points",{properties:["structure.armour"],isBaseValueAbsolute:!0}],["Leak resistance",{properties:["resistance.leaks"],isBaseValueAbsolute:!1}],["Mast health",{properties:["mast.bottomArmour","mast.middleArmour","mast.topArmour"],isBaseValueAbsolute:!0}],["Mast thickness",{properties:["mast.bottomThickness","mast.middleThickness","mast.topThickness"],isBaseValueAbsolute:!0}],["Rudder health",{properties:["rudder.armour"],isBaseValueAbsolute:!0}],["Rudder repair time",{properties:["repairTime.rudder"],isBaseValueAbsolute:!0}],["Rudder speed",{properties:["rudder.halfturnTime"],isBaseValueAbsolute:!0}],["Sail repair amount (perk)",{properties:["repairAmount.sailsPerk"],isBaseValueAbsolute:!0}],["Sail repair amount",{properties:["repairAmount.sails"],isBaseValueAbsolute:!0}],["Sail repair time",{properties:["repairTime.sails"],isBaseValueAbsolute:!0}],["Sailing crew",{properties:["crew.sailing"],isBaseValueAbsolute:!0}],["Max speed",{properties:["speed.max"],isBaseValueAbsolute:!0}],["Side armour repair time",{properties:["repairTime.sides"],isBaseValueAbsolute:!0}],["Speed decrease",{properties:["ship.deceleration"],isBaseValueAbsolute:!0}],["Turn rate",{properties:["rudder.turnSpeed"],isBaseValueAbsolute:!0}],["Water pump health",{properties:["pump.armour"],isBaseValueAbsolute:!0}],["Water repair time",{properties:["repairTime.pump"],isBaseValueAbsolute:!0}]]),this._moduleAndWoodCaps=new Map([["Armor thickness",{properties:["sides.thickness","bow.thickness","stern.thickness"],cap:{amount:.4,isPercentage:!0}}],["Armour hit points",{properties:["bow.armour","sides.armour","stern.armour"],cap:{amount:.4,isPercentage:!0}}],["Structure hit points",{properties:["structure.armour"],cap:{amount:.4,isPercentage:!0}}],["Mast health",{properties:["mast.bottomArmour","mast.middleArmour","mast.topArmour"],cap:{amount:.3,isPercentage:!0}}],["Mast thickness",{properties:["mast.bottomThickness","mast.middleThickness","mast.topThickness"],cap:{amount:.3,isPercentage:!0}}],["Max speed",{properties:["speed.max"],cap:{amount:16,isPercentage:!1}}],["Turn rate",{properties:["rudder.turnSpeed"],cap:{amount:.25,isPercentage:!0}}]]);var e=1.2*Object(s.a)(this._shipData,(function(e){return e.speed.min})),t=this._moduleAndWoodCaps.get("Max speed").cap.amount;this._minSpeed=e,this._maxSpeed=t,this._colorScale=Object(c.a)().domain([this._minSpeed,0,this._maxSpeed]).range([g.i,g.k,g.f]).interpolate(p.a);var a=Object(s.a)(this._shipData,(function(e){return e.shipMass})),r=Object(i.a)(this._shipData,(function(e){return e.shipMass}));this.shipMassScale=Object(c.a)().domain([a,r]).range([100,150])},o._loadAndSetupData=function(){return regeneratorRuntime.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(a.e(5).then(a.t.bind(null,"3KT9",3)));case 3:return this._moduleDataDefault=e.sent.default,e.next=6,regeneratorRuntime.awrap(a.e(12).then(a.t.bind(null,"wtJ6",3)));case 6:if(this._shipData=e.sent.default,this._setupData(),"ship-journey"===this._baseId){e.next=12;break}return this.woodCompare=new D.a(this._woodId),e.next=12,regeneratorRuntime.awrap(this.woodCompare.woodInit());case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),Object(b.J)(e.t0);case 17:case"end":return e.stop()}}),null,this,[[0,14]])},o._setupListener=function(){var e=this,t=!0;document.getElementById(this._buttonId).addEventListener("click",(function(a){return regeneratorRuntime.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(!t){s.next=4;break}return t=!1,s.next=4,regeneratorRuntime.awrap(e._loadAndSetupData());case 4:Object(f.b)("Tools",e._baseName),a.stopPropagation(),e._shipCompareSelected();case 7:case"end":return s.stop()}}))}))},o._setGraphicsParameters=function(){this.svgWidth=parseInt(e("#"+this._modalId+" .column-base").width(),10),this.svgHeight=this.svgWidth,this.outerRadius=Math.floor(Math.min(this.svgWidth,this.svgHeight)/2),this.innerRadius=Math.floor(.3*this.outerRadius),this.radiusSpeedScale=Object(c.a)().domain([this.minSpeed,0,this.maxSpeed]).range([10,this.innerRadius,this.outerRadius])},o._shipCompareSelected=function(){var t=this;this._modal$||(this._initModal(),this._modal$=e("#"+this._modalId),this._modal$.on("keydown",(function(e){"KeyC"===e.code&&e.ctrlKey&&t._copyDataClicked(e)})),document.getElementById(this._copyButtonId).addEventListener("click",(function(e){t._copyDataClicked(e)}))),this._modal$.modal("show"),this._setGraphicsParameters()},o._getShipAndWoodIds=function(){var e=this,t=[];return this._columns.forEach((function(a){void 0!==e._shipIds[a]&&(t.push(e._shipIds[a]),["frame","trim"].forEach((function(s){t.push(Number(e._selectWood$[a][s].val()))})))})),t},o._copyDataClicked=function(e){var t=this;Object(f.b)("Menu","Copy ship compare"),e.preventDefault();var a=this._getShipAndWoodIds();if(a.length){var s=new URL(window.location);s.searchParams.set("v",encodeURIComponent(g.d)),s.searchParams.set("cmp",g.v.encode(a)),this._columns.forEach((function(e,a){t._selectedUpgradeIdsPerType[e]&&C(t._moduleTypes).forEach((function(i,r){var n=t._selectedUpgradeIdsPerType[e][i];if(n&&n.length){var o=""+a+r;s.searchParams.set(o,g.v.encode(n))}}))})),Object(b.g)(s.href)}},o._setupShipData=function(){this.shipSelectData=Object(n.b)().key((function(e){return e.class})).sortKeys(r.a).entries(this._shipData.map((function(e){return{id:e.id,name:e.name,class:e.class,battleRating:e.battleRating,guns:e.guns}})).sort(Object(b.M)(["name"])))},o._setupModuleData=function(){var e=this;this._moduleProperties=new Map(this._moduleDataDefault.flatMap((function(t){return t[1].filter((function(t){return t.properties.some((function(t){return e._moduleAndWoodChanges.has(t.modifier)}))})).map((function(e){return[e.id,e]}))}))),this._moduleTypes=new Set(C(this._moduleProperties).map((function(e){return e[1].type.replace(/\s\u2013\s[\s/A-Za-z\u25CB]+/,"")})))},o._injectModal=function(){var e=this;Object(g.B)(this._modalId,this._baseName);var t=Object(d.a)("#"+this._modalId+" .modal-body").append("div").attr("class","container-fluid").append("div").attr("class","row");this._columns.forEach((function(a){var s=t.append("div").attr("class","col-md-4 ml-auto pt-2 "+("Base"===a?"column-base":"column-comp")),i=e._getShipSelectId(a);s.append("label").append("select").attr("name",i).attr("id",i).attr("class","selectpicker"),["frame","trim"].forEach((function(t){var i=e._getWoodSelectId(t,a);s.append("label").append("select").attr("name",i).attr("id",i).attr("class","selectpicker")})),e._moduleTypes.forEach((function(t){var i=e._getModuleSelectId(t,a);s.append("label").append("select").attr("name",i).attr("id",i).property("multiple",!0).attr("class","selectpicker")})),s.append("div").attr("id",e._baseId+"-"+a).attr("class","Base"===a?"ship-base":"ship-compare")})),Object(d.a)("#"+this._modalId+" .modal-footer").insert("button","button").classed("btn btn-outline-secondary icon-outline-button",!0).attr("id",this._copyButtonId).attr("title","Copy to clipboard (ctrl-c)").attr("type","button").append("i").classed("icon icon-copy",!0)},o._initData=function(){this._setupShipData(),this._setupModuleData()},o._initSelectColumns=function(){var t=this._columns,a=Array.isArray(t),s=0;for(t=a?t:t[Symbol.iterator]();;){var i;if(a){if(s>=t.length)break;i=t[s++]}else{if((s=t.next()).done)break;i=s.value}var r=i;if(this._setupShipSelect(r),"ship-journey"!==this._baseId){this._selectWood$[r]={};for(var n=0,o=["frame","trim"];n<o.length;n++){var p=o[n];this._selectWood$[r][p]=e("#"+this._getWoodSelectId(p,r)),this.woodCompare._setupWoodSelects(r,p,this._selectWood$[r][p])}}this._setupSelectListener(r)}},o._initSelects=function(){this._initSelectColumns()},o._initModal=function(){this._initData(),this._injectModal(),this._initSelects()},o._getShipOptions=function(){return this.shipSelectData.map((function(e){return'<optgroup label="'+Object(b.D)(e.key,!1)+' rate">'+e.values.map((function(e){return'<option data-subtext="'+e.battleRating+'" value="'+e.id+'">'+e.name+" ("+e.guns+")"})).join("</option>")})).join("</optgroup>")},o._setupShipSelect=function(t){this._selectShip$[t]=e("#"+this._getShipSelectId(t));var a=this._getShipOptions();this._selectShip$[t].append(a),"Base"!==t&&this._selectShip$[t].attr("disabled","disabled")},t._getModuleLevel=function(e){return e<=3?"L":e<=5?"M":"S"},o._getUpgradesOptions=function(e,a){var s=Object(n.b)().key((function(e){return e[1].type.replace(/[\sA-Za-z]+\s–\s/,"")})).sortKeys(r.a).entries(C(this._moduleProperties).filter((function(s){return s[1].type.replace(/\s–\s[\s/A-Za-z\u25CB]+/,"")===e&&("U"===s[1].moduleLevel||s[1].moduleLevel===t._getModuleLevel(a))}))),i=["Permanent","Ship trim"];return s.length>1?s.map((function(t){return'<optgroup label="'+t.key+'" data-max-options="'+(i.includes(e.replace(/[\sA-Za-z]+\s–\s/,""))?1:5)+'">'+t.values.map((function(e){return'<option value="'+e[0]+'">'+e[1].name})).join("</option>")})).join("</optgroup>"):s.map((function(e){return""+e.values.map((function(e){return'<option value="'+e[0]+'">'+e[1].name})).join("</option>")}))},o._fillModuleSelect=function(e,t){var a=this,s=this._getUpgradesOptions(t,a._shipData.find((function(t){return t.id===a._shipIds[e]})).class);this._selectModule$[e][t].find("option").remove(),this._selectModule$[e][t].append(s)},o._resetModuleSelects=function(e){var t=this;this._moduleTypes.forEach((function(a){t._fillModuleSelect(e,a),t._selectModule$[e][a].selectpicker("refresh")}))},o._getModuleFromName=function(e){var t={};return this._moduleDataDefault.some((function(a){return t=a[1].find((function(t){return t.name===e})),Boolean(t)})),t},o._getModifierFromModule=function(e){return'<p class="mb-0">'+e.map((function(e){var t=e.isPercentage?Object(b.C)(e.amount/100):e.amount<1&&e.amount>0?Object(b.w)(e.amount):Object(b.B)(e.amount);return e.modifier+" "+t})).join("<br>")+"</p>"},o._setupModulesSelect=function(t){var a=this;this._selectModule$[t]||(this._selectModule$[t]={},this._moduleTypes.forEach((function(s){a._selectModule$[t][s]=e("#"+a._getModuleSelectId(s,t)),a._selectModule$[t][s].on("changed.bs.select",(function(){a._modulesSelected(t),a._refreshShips(t)})).on("show.bs.select",(function(t){e(t.currentTarget).parent().find("button.bs-select-all").remove()})).on("show.bs.select",(function(t){e(t.currentTarget).data("selectpicker").selectpicker.current.elements.forEach((function(t){if(!t.classList.contains("dropdown-divider")&&!t.classList.contains("dropdown-header")){var s=a._getModuleFromName(t.innerText);e(t).attr("data-original-title",a._getModifierFromModule(s.properties)).tooltip({boundary:"viewport",html:!0})}}))})).selectpicker({actionsBox:!0,countSelectedText:function(e){return e+" "+s.toLowerCase()+"s selected"},deselectAllText:"Clear",liveSearch:!0,liveSearchNormalize:!0,liveSearchPlaceholder:"Search ...",maxOptions:s.startsWith("Ship trim")?6:5,selectedTextFormat:"count > 1",title:""+s,width:"150px"})}))),this._resetModuleSelects(t)},o._getShipData=function(e){var t=this,a=this._shipData.find((function(a){return a.id===t._shipIds[e]})),s=a;return s.repairAmount={armour:g.w,armourPerk:0,sails:g.F,sailsPerk:0},s.repairTime={sides:g.E,default:g.E},s.resistance={fire:0,leaks:0,splinter:0},s=this._addModulesAndWoodData(a,s,e)},t._adjustAbsolute=function(e,t){return e?e+t:t},t._adjustPercentage=function(e,t,a){return e?a?e*(1+t):e+t:t},o._adjustValue=function(e,a,s){var i=e;if(this._modifierAmount.get(a).absolute){var r=this._modifierAmount.get(a).absolute;i=t._adjustAbsolute(i,r)}if(this._modifierAmount.get(a).percentage){var n=this._modifierAmount.get(a).percentage/100;i=t._adjustPercentage(i,n,s)}return Math.trunc(100*i)/100},o._setModifier=function(e){var t=e.isPercentage?0:e.amount,a=e.isPercentage?e.amount:0;this._modifierAmount.has(e.modifier)&&(t+=this._modifierAmount.get(e.modifier).absolute,a+=this._modifierAmount.get(e.modifier).percentage),this._modifierAmount.set(e.modifier,{absolute:t,percentage:a})},o._showCappingAdvice=function(e){var t=this._baseId+"-"+e+"-capping";if(!document.getElementById(t)){var a=document.createElement("p");a.id=t,a.className="alert alert-warning",a.innerHTML="Values capped",document.getElementById(this._baseId+"-"+e).firstChild.after(a)}},o._removeCappingAdvice=function(e){var t=this._baseId+"-"+e+"-capping",a=document.getElementById(t);a&&a.remove()},o._addModulesAndWoodData=function(e,t,a){var s,i,r=this,n=JSON.parse(JSON.stringify(t));return this._modifierAmount=new Map,function(){if(r._selectedUpgradeIdsList[a].forEach((function(e){r._moduleProperties.get(e).properties.forEach((function(e){r._moduleAndWoodChanges.has(e.modifier)&&r._setModifier(e)}))})),r.woodCompare._instances[a]){var e="_woodData";"Base"!==a&&(e="_compareData"),["frame","trim"].forEach((function(t){r.woodCompare._instances[a][e][t].properties.forEach((function(e){r._moduleAndWoodChanges.has(e.modifier)&&r._setModifier(e)}))}))}}(),r._modifierAmount.forEach((function(e,t){r._moduleAndWoodChanges.get(t).properties&&r._moduleAndWoodChanges.get(t).properties.forEach((function(e){var a=e.split(".");a.length>1?n[a[0]][a[1]]=r._adjustValue(n[a[0]][a[1]],t,r._moduleAndWoodChanges.get(t).isBaseValueAbsolute):n[a[0]]=r._adjustValue(n[a[0]],t,r._moduleAndWoodChanges.get(t).isBaseValueAbsolute)}))})),s=!1,i=function(e,t,a,i){var r=Math.min(e,i?t*(1+a):a);return e!==r&&(s=!0),r},r._modifierAmount.forEach((function(t,a){if(r._moduleAndWoodCaps.has(a)){var s=r._moduleAndWoodCaps.get(a).cap;r._moduleAndWoodCaps.get(a).properties.forEach((function(t){var a=t.split(".");a.length>1?n[a[0]][a[1]]&&(n[a[0]][a[1]]=i(n[a[0]][a[1]],e[a[0]][a[1]],s.amount,s.isPercentage)):n[a[0]]&&(n[a[0]]=i(n[a[0]],e[a[0]],s.amount,s.isPercentage))}))}})),s?r._showCappingAdvice(a):r._removeCappingAdvice(a),this._modifierAmount.has("Max speed")&&(n.speedDegrees=n.speedDegrees.map((function(e){var t=1+r._modifierAmount.get("Max speed").percentage/100,a=e>0?e*t:e/t;return Math.max(Math.min(a,r._maxSpeed),r._minSpeed)}))),n},o._updateDifferenceProfileNeeded=function(e){"Base"===e||Object(b.F)(this._selectedShips[e])||this._selectedShips[e].updateDifferenceProfile()},o._updateSailingProfile=function(e){var t=this;this._updateDifferenceProfileNeeded(e),this._columnsCompare.filter((function(t){return t!==e})).forEach((function(e){t._updateDifferenceProfileNeeded(e)}))},o._refreshShips=function(e){var t=this;if("ship-journey"===this._baseId)this._singleShipData=this._shipData.find((function(a){return a.id===t._shipIds[e]}));else{this._modulesSelected(e);var a=this._getShipData(e);"Base"===e?(this._setSelectedShip(e,new O(e,a,this)),this._columnsCompare.forEach((function(e){t._selectShip$[e].removeAttr("disabled").selectpicker("refresh"),Object(b.F)(t.selectedShips[e])||t._setSelectedShip(e,new B(e,a,t.selectedShips[e]._shipCompareData,t))}))):this._setSelectedShip(e,new B(e,this.selectedShips.Base._shipData,a,this)),this._updateSailingProfile(e)}},o._enableCompareSelects=function(){var e=this;this._columnsCompare.forEach((function(t){e._selectShip$[t].removeAttr("disabled").selectpicker("refresh")}))},o._modulesSelected=function(e){var t=this;this._selectedUpgradeIdsList[e]=[],this._selectedUpgradeIdsPerType[e]={},this._moduleTypes.forEach((function(a){t._selectedUpgradeIdsPerType[e][a]=t._selectModule$[e][a].val(),Array.isArray(t._selectedUpgradeIdsPerType[e][a])?t._selectedUpgradeIdsPerType[e][a]=t._selectedUpgradeIdsPerType[e][a].map(Number):t._selectedUpgradeIdsPerType[e][a]=""===t._selectedUpgradeIdsPerType[e][a]?[]:[Number(t._selectedUpgradeIdsPerType[e][a])],t._selectedUpgradeIdsPerType[e][a].length&&(t._selectedUpgradeIdsList[e]=t._selectedUpgradeIdsList[e].concat(t._selectedUpgradeIdsPerType[e][a]))}))},o._setupSelectListener=function(e){var t=this;this._selectShip$[e].selectpicker({title:"Ship"}).on("changed.bs.select",(function(){t._shipIds[e]=Number(t._selectShip$[e].val()),"ship-journey"!==t._baseId&&t._setupModulesSelect(e),t._refreshShips(e),"Base"===e&&"ship-journey"!==t._baseId&&t._enableCompareSelects(),"ship-journey"!==t._baseId&&t.woodCompare.enableSelects(e)})),"ship-journey"!==this._baseId&&["frame","trim"].forEach((function(a){t._selectWood$[e][a].on("changed.bs.select",(function(){t.woodCompare._woodSelected(e,a,t._selectWood$[e][a]),t._refreshShips(e)})).selectpicker({title:"Wood "+a,width:"150px"})}))},t._setSelect=function(e,t){t&&e.val(t),e.selectpicker("render")},o._setShipAndWoodsSelects=function(e){var a=this,s=0;this._columns.some((function(i){return!!a._shipData.find((function(t){return t.id===e[s]}))&&(a._shipIds[i]=e[s],s+=1,t._setSelect(a._selectShip$[i],a._shipIds[i]),"Base"===i&&"ship-journey"!==a._baseId&&a._enableCompareSelects(),a.woodCompare.enableSelects(i),a._setupModulesSelect(i),e[s]?["frame","trim"].forEach((function(r){t._setSelect(a._selectWood$[i][r],e[s]),s+=1,a.woodCompare._woodSelected(i,r,a._selectWood$[i][r])})):s+=2,a._refreshShips(i),s>=e.length)}))},o._setModuleSelects=function(e){var a=this;this._columns.forEach((function(s,i){var r=!1;C(a._moduleTypes).forEach((function(n,o){if(e.has(""+i+o)){var p=g.v.decode(e.get(""+i+o));a._selectedUpgradeIdsPerType[s]||(a._selectedUpgradeIdsPerType[s]={}),a._selectedUpgradeIdsList[s]||(a._selectedUpgradeIdsList[s]=[]),a._selectedUpgradeIdsPerType[s][n]=p.map(Number),t._setSelect(a._selectModule$[s][n],a._selectedUpgradeIdsPerType[s][n]),a._selectedUpgradeIdsList[s]=a._selectedUpgradeIdsList[s].concat(a._selectedUpgradeIdsPerType[s][n]),r=!0}})),r&&a._refreshShips(s)}))},o.initFromClipboard=function(e){var t;return regeneratorRuntime.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,regeneratorRuntime.awrap(this._loadAndSetupData());case 2:(t=g.v.decode(e.get("cmp"))).length&&(this._shipCompareSelected(),this._setShipAndWoodsSelects(t),this._setModuleSelects(e));case 4:case"end":return a.stop()}}),null,this)},o._getShipSelectId=function(e){return this._baseId+"-"+e+"-select"},o._getWoodSelectId=function(e,t){return this._woodId+"-"+e+"-"+t+"-select"},o._getModuleSelectId=function(e,t){return this._moduleId+"-"+e.replace(/\s/,"")+"-"+t+"-select"},o._setSelectedShip=function(e,t){this._selectedShips[e]=t},y(t,[{key:"woodCompare",set:function(e){this._woodCompare=e},get:function(){return this._woodCompare}},{key:"selectedShips",get:function(){return this._selectedShips}},{key:"minSpeed",get:function(){return this._minSpeed}},{key:"maxSpeed",get:function(){return this._maxSpeed}},{key:"colorScale",get:function(){return this._colorScale}},{key:"svgWidth",set:function(e){this._svgWidth=e},get:function(){return this._svgWidth}},{key:"svgHeight",set:function(e){this._svgHeight=e},get:function(){return this._svgHeight}},{key:"outerRadius",set:function(e){this._outerRadius=e},get:function(){return this._outerRadius}},{key:"innerRadius",set:function(e){this._innerRadius=e},get:function(){return this._innerRadius}},{key:"radiusSpeedScale",set:function(e){this._radiusSpeedScale=e},get:function(){return this._radiusSpeedScale}}]),t}()}).call(this,a("xeH2"))},pFgi:function(e,t,a){"use strict";(function(e){a.d(t,"a",(function(){return m}));a("iPZ8"),a("kypl"),a("pCzD"),a("hi3g"),a("lYjL"),a("IlJM"),a("SJSz"),a("4owi"),a("/YXa"),a("lmye"),a("WB5j"),a("aOEW"),a("RsBt"),a("D/wG"),a("1Qwx"),a("fp7Y"),a("ZEAQ"),a("JBxO"),a("FdtR"),a("9UJh"),a("RsMT"),a("WoWj"),a("SgDD"),a("3dw1"),a("U00V"),a("wcNg"),a("3XUK"),a("Peo2");var s=a("ED/D"),i=a("qKAC"),r=a("PVJp"),n=a("f4w0"),o=a("Av7d"),p=a("0lY5");function c(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var h=function(){function e(e,t){this._id=e,this._woodCompare=t,this._select="#"+this._woodCompare._baseFunction+"-"+this._id,this._setupMainDiv(),this._g=Object(r.a)(this._select).select("g")}return e.prototype._setupMainDiv=function(){Object(r.a)(this._select+" div").remove(),Object(r.a)(this._select).append("div")},e}(),u=function(t){function a(e,a,s){var i;return(i=t.call(this,e,s)||this)._woodData=a,i._woodCompare=s,i._printText(),i}d(a,t);var s=a.prototype;return s._getProperty=function(e,t){var a=this._woodData[t].properties.find((function(t){return t.modifier===e})),s=0,i=!1;return a&&a.amount&&(s=a.amount,i=a.isPercentage),{amount:s,isPercentage:i}},s._getPropertySum=function(e){var t=this._getProperty(e,"frame"),a=this._getProperty(e,"trim");return{amount:t.amount+a.amount,isPercentage:a.isPercentage}},s._getText=function(e){var t=this,a='<table class="table table-sm table-striped small mt-4"><thead>';return a+="<tr>",a+='<tr><th scope="col">Property</th><th scope="col">Change</th></tr></thead><tbody>',e.properties.forEach((function(e,s){if(a+="<tr><td>"+s+"</td><td>"+(e.isPercentage?Object(p.x)(e.amount/100):Object(p.r)(e.amount)),a+='<span class="rate">',e.amount>0){var i=e.amount/t._woodCompare._minMaxProperty.get(s).max*50;a+='<span class="bar neutral" style="width:50%;"></span>',a+='<span class="bar pos diff" style="width:'+i+'%;"></span>'}else if(e.amount<0){var r=e.amount/t._woodCompare._minMaxProperty.get(s).min*50;a+='<span class="bar neutral" style="width:'+(50-r)+'%;"></span>',a+='<span class="bar neg diff" style="width:'+r+'%;"></span>'}else a+='<span class="bar neutral"></span>';a+="</span></td></tr>"})),a+="</tbody></table>"},s._printText=function(){var t=this,a={frame:this._woodData.frame.id,trim:this._woodData.trim.id};a.properties=new Map,this._woodCompare.propertyNames.forEach((function(e){var s=t._getPropertySum(e);a.properties.set(e,{amount:s.amount,isPercentage:s.isPercentage})})),e(""+this._select).find("div").append(this._getText(a))},a}(h),l=function(t){function a(e,a,s,i){var r;return(r=t.call(this,e,i)||this)._baseData=a,r._compareData=s,r._woodCompare=i,r._printTextComparison(),r}d(a,t);var s=a.prototype;return s._getBaseProperty=function(e,t){var a=this._baseData[t].properties.find((function(t){return t.modifier===e})),s=0,i=!1;return a&&a.amount&&(s=a.amount,i=a.isPercentage),{amount:s,isPercentage:i}},s._getBasePropertySum=function(e){var t=this._getBaseProperty(e,"frame"),a=this._getBaseProperty(e,"trim");return{amount:t.amount+a.amount,isPercentage:a.isPercentage}},s._getCompareProperty=function(e,t){var a=this._compareData[t].properties.find((function(t){return t.modifier===e})),s=0,i=!1;return a&&a.amount&&(s=a.amount,i=a.isPercentage),{amount:s,isPercentage:i}},s._getComparePropertySum=function(e){var t=this._getCompareProperty(e,"frame"),a=this._getCompareProperty(e,"trim");return{amount:t.amount+a.amount,isPercentage:t.isPercentage&&a.isPercentage}},s._getText=function(e){var t=this;var a=0,s=0,i=0,r="",n='<table class="table table-sm table-striped small wood mt-4"><thead>';return n+='<tr><th scope="col">Property</th><th scope="col">Change</th></tr></thead><tbody>',e.properties.forEach((function(e,o){n+="<tr><td>"+o+"</td><td>"+function(e,t,a,s){void 0===s&&(s=1);var i=parseFloat((e-t).toFixed(s));return(a?Object(p.x)(e/100,s):Object(p.r)(e))+' <span class="badge badge-white">'+Object(p.A)(i)+"</span>"}(e.compare,e.base,e.isPercentage),n+='<span class="rate">',e.compare>=0?(e.base>=0?e.compare>e.base?(a=e.base,s=e.compare-e.base,r="pos"):(a=e.compare,s=e.base-e.compare,r="neg"):(a=0,s=e.compare,r="pos"),n+='<span class="bar neutral" style="width:50%;"></span>',n+='<span class="bar pos diff" style="width:'+a/t._woodCompare._minMaxProperty.get(o).max*50+'%;"></span>',n+='<span class="bar '+r+'" style="width:'+s/t._woodCompare._minMaxProperty.get(o).max*50+'%;"></span>'):e.compare<0?(e.base<0?e.compare>=e.base?(a=e.compare,s=e.base-e.compare,i=-e.base,r="pos"):(a=e.base,s=e.compare-e.base,i=-e.compare,r="neg"):(a=0,s=e.compare,i=-e.compare,r="neg"),n+='<span class="bar neutral" style="width:'+(50+i/t._woodCompare._minMaxProperty.get(o).min*50)+'%;"></span>',n+='<span class="bar '+r+'" style="width:'+s/t._woodCompare._minMaxProperty.get(o).min*50+'%;"></span>',n+='<span class="bar neg diff" style="width:'+a/t._woodCompare._minMaxProperty.get(o).min*50+'%;"></span>'):n+='<span class="bar neutral"></span>',n+="</span></td></tr>"})),n+="</tbody></table>"},s._printTextComparison=function(){var t=this,a={frame:this._compareData.frame.name,trim:this._compareData.trim.name};a.properties=new Map,this._woodCompare.propertyNames.forEach((function(e){var s=t._getBasePropertySum(e),i=t._getComparePropertySum(e);a.properties.set(e,{base:s.amount,compare:i.amount,isPercentage:s.isPercentage})})),e(""+this._select).find("div").append(this._getText(a))},a}(h),m=function(){function t(e){this._baseFunction=e,this._baseName="Compare woods",this._baseId=this._baseFunction+"-compare",this._buttonId="button-"+this._baseId,this._modalId="modal-"+this._baseId,this._woodsSelected=[],this._instances=[],this._options={},this._minMaxProperty=new Map,"wood"===this._baseFunction&&this._setupListener()}var d=t.prototype;return d.woodInit=function(){return regeneratorRuntime.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(this._loadAndSetupData());case 2:this._initData();case 3:case"end":return e.stop()}}),null,this)},d._setupData=function(){var e=this,t=function(t,a){return e._woodData[t].find((function(e){return e.name===a})).id};this.propertyNames=new Set([].concat(c(this._woodData.frame.flatMap((function(e){return e.properties.map((function(e){return e.modifier}))}))),c(this._woodData.trim.flatMap((function(e){return e.properties.map((function(e){return e.modifier}))})))).sort()),"wood"===this._baseFunction?(this._defaultWood={frame:t("frame","Fir"),trim:t("trim","Crew Space")},this._columnsCompare=["C1","C2","C3"]):"wood-journey"===this._baseFunction?(this._defaultWood={frame:t("frame","Oak"),trim:t("trim","Oak")},this._columnsCompare=[]):(this._defaultWood={frame:t("frame","Oak"),trim:t("trim","Oak")},this._columnsCompare=["C1","C2"]),this._columns=this._columnsCompare.slice(),this._columns.unshift("Base")},d._loadAndSetupData=function(){return regeneratorRuntime.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,regeneratorRuntime.awrap(a.e(13).then(a.t.bind(null,"c8Sa",3)));case 3:this._woodData=e.sent.default,this._setupData(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(p.J)(e.t0);case 10:case"end":return e.stop()}}),null,this,[[0,7]])},d._setupListener=function(){var e=this,t=!0;document.getElementById(this._buttonId).addEventListener("click",(function(a){return regeneratorRuntime.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(!t){s.next=4;break}return t=!1,s.next=4,regeneratorRuntime.awrap(e._loadAndSetupData());case 4:Object(n.b)("Tools",e._baseName),a.stopPropagation(),e._woodCompareSelected();case 7:case"end":return s.stop()}}))}))},d._woodCompareSelected=function(){document.getElementById(this._modalId)||this._initModal(),e("#"+this._modalId).modal("show")},d._initData=function(){var e=this;this._frameSelectData=this._woodData.frame.sort(Object(p.M)(["name"])),this._trimSelectData=this._woodData.trim.sort(Object(p.M)(["name"])),this._setOption(this._frameSelectData.map((function(e){return'<option value="'+e.id+'">'+e.name+"</option>"})),this._trimSelectData.map((function(e){return'<option value="'+e.id+'">'+e.name+"</option>"}))),this.propertyNames.forEach((function(t){var a=c(e._woodData.frame.map((function(e){return e.properties.filter((function(e){return e.modifier===t})).map((function(e){return e.amount}))[0]}))),r=c(e._woodData.trim.map((function(e){return e.properties.filter((function(e){return e.modifier===t})).map((function(e){return e.amount}))[0]}))),n=Object(s.a)(a)||0,o=Object(i.a)(a)||0,p=Object(s.a)(r)||0,d=Object(i.a)(r)||0;e._addMinMaxProperty(t,{min:n+p>=0?0:n+p,max:o+d})}))},d._injectModal=function(){var e=this;Object(o.B)(this._modalId,this._baseName);var t=Object(r.a)("#"+this._modalId+" .modal-body").append("div").attr("class","container-fluid").append("div").attr("class","row wood");this._columns.forEach((function(a){var s=t.append("div").attr("class","col-md-3 ml-auto pt-2 "+("Base"===a?"column-base":"column-comp"));["frame","trim"].forEach((function(t){var i=e._baseFunction+"-"+t+"-"+a+"-select";s.append("label").attr("for",i),s.append("select").attr("name",i).attr("id",i).attr("class","selectpicker")})),s.append("div").attr("id",e._baseFunction+"-"+a)}))},d._initModal=function(){var t=this;this._initData(),this._injectModal(),this._columns.forEach((function(a){["frame","trim"].forEach((function(s){var i=e("#"+t._baseFunction+"-"+s+"-"+a+"-select");t._setupWoodSelects(a,s,i),t._setupSelectListener(a,s,i)}))}))},d._setWoodsSelected=function(e,t,a){this._woodsSelected[e]||(this._woodsSelected[e]={}),this._woodsSelected[e][t]=a},d._setupWoodSelects=function(e,t,a){this._setWoodsSelected(e,t,this._defaultWood[t]),a.append(this._options[t]),("wood"!==this._baseFunction||"Base"!==e&&"wood"===this._baseFunction)&&a.attr("disabled","disabled")},d._setOtherSelect=function(t,a){var s="frame"===a?"trim":"frame";this._woodsSelected[t][s]===this._defaultWood[s]&&e("#"+this._baseFunction+"-"+s+"-"+t+"-select").val(this._defaultWood[s]).selectpicker("refresh")},d.enableSelects=function(t){var a=this;["frame","trim"].forEach((function(s){e("#"+a._baseFunction+"-"+s+"-"+t+"-select").removeAttr("disabled").selectpicker("refresh")}))},d._woodSelected=function(e,t,a){var s=this,i=Number(a.val());this._setWoodsSelected(e,t,i),this._setOtherSelect(e,t),"Base"===e?(this._addInstance(e,new u("Base",this._getWoodData("Base"),this)),this._columnsCompare.forEach((function(e){"wood"===s._baseFunction&&s.enableSelects(e),s._instances[e]&&s._addInstance(e,new l(e,s._getWoodData("Base"),s._getWoodData(e),s))}))):this._addInstance(e,new l(e,this._getWoodData("Base"),this._getWoodData(e),this))},d._setupSelectListener=function(e,t,a){var s=this;a.on("change",(function(){return s._woodSelected(e,t,a)})).selectpicker({title:"Select "+t})},d._getWoodData=function(e){return{frame:this.getWoodTypeData("frame",this._woodsSelected[e].frame),trim:this.getWoodTypeData("trim",this._woodsSelected[e].trim)}},d._addMinMaxProperty=function(e,t){this._minMaxProperty.set(e,t)},d._setOption=function(e,t){this._options.frame=e,this._options.trim=t},d._addInstance=function(e,t){this._instances[e]=t},d.getWoodTypeData=function(e,t){return this._woodData[e].find((function(e){return e.id===t}))},t}()}).call(this,a("xeH2"))},t1jV:function(e,t){e.exports="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 146.5 386.1'%3E%3Cpath fill='%236a7153' d='M73.5 382.8l25 .1 25 .1c19.6-73.9 24.6-165.2 15.9-239.9S108.4 10.4 73.5 3H73C38.1 10.4 15.8 68.5 7.1 143.2S3.4 309.1 23 383l25-.1 25-.1'/%3E%3C/svg%3E"}}]);
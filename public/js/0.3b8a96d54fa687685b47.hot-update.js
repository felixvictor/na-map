webpackHotUpdate(0,{

/***/ 133:
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("/* WEBPACK VAR INJECTION */(function($) {/* harmony export (immutable) */ __webpack_exports__[\"a\"] = naDisplay;\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_d3_geo__ = __webpack_require__(134);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_d3_queue__ = __webpack_require__(178);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_d3_request__ = __webpack_require__(181);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_d3_selection__ = __webpack_require__(1);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_d3_voronoi__ = __webpack_require__(229);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_d3_zoom__ = __webpack_require__(234);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_d3fc_label_layout__ = __webpack_require__(289);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_d3fc_label_layout___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_d3fc_label_layout__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_topojson_client__ = __webpack_require__(334);\nfunction naDisplay(a){function b(){var a,b,c;m=w.geoPath().projection(l),j=document.getElementById(\"na\").offsetWidth-{top:0,right:0,bottom:0,left:0}.left-{top:0,right:0,bottom:0,left:0}.right,j=4000>j?4000:j,a=m.bounds(u),b=a[1][0]-a[0][0],c=a[1][1]-a[0][1],k=j/(b/c)-{top:0,right:0,bottom:0,left:0}.top-{top:0,right:0,bottom:0,left:0}.bottom,l=w.geoEquirectangular().fitExtent([[-b,-c],[j+b,k+c]],u),m=w.geoPath().projection(l)}function c(){n=w.select(\"#na\").append(\"svg\").attr(\"id\",\"na-svg\").attr(\"width\",j).attr(\"height\",k).on(\"click\",e,!0),n.append(\"rect\").attr(\"class\",\"background\").attr(\"width\",j).attr(\"height\",k),p=w.zoom().scaleExtent([0.6,3]).on(\"zoom\",d),n.call(p),o=n.append(\"defs\")}function d(){r.attr(\"transform\",transform),q.attr(\"transform\",transform),s.attr(\"transform\",transform),q.selectAll(\".label text\").style(\"font-size\",function(){return\"naFontSize / transform.k\"}),q.selectAll(\".label circle\").attr(\"r\",10/transform.k)}function e(){__WEBPACK_IMPORTED_MODULE_3_d3_selection__[\"event\"].defaultPrevented&&__WEBPACK_IMPORTED_MODULE_3_d3_selection__[\"event\"].stopPropagation()}function f(){var a=o.append(\"filter\").attr(\"id\",\"border\");a.append(\"feColorMatrix\").attr(\"in\",\"SourceGraphic\").attr(\"type\",\"matrix\").attr(\"values\",\"0 0 0 0 0.302  0 0 0 0 0.263  0 0 0 0 0.216  0 0 0 1 0\").attr(\"result\",\"fmask\"),a.append(\"feGaussianBlur\").attr(\"in\",\"fmask\").attr(\"stdDeviation\",15).attr(\"result\",\"f1blur\"),a.append(\"feColorMatrix\").attr(\"in\",\"SourceGraphic\").attr(\"type\",\"matrix\").attr(\"values\",\"0 0 0 0 0   0 0 0 0 0   0 0 0 0 0   0 0 0 1 0\").attr(\"result\",\"f2mask1\"),a.append(\"feMorphology\").attr(\"in\",\"f2mask1\").attr(\"radius\",1).attr(\"operator\",\"erode\").attr(\"result\",\"f2m\"),a.append(\"feGaussianBlur\").attr(\"in\",\"f2m\").attr(\"stdDeviation\",5).attr(\"result\",\"f2blur\"),a.append(\"feColorMatrix\").attr(\"in\",\"f2blur\").attr(\"type\",\"matrix\").attr(\"values\",\"1 0 0 0 0.302 0 1 0 0 0.263 0 0 1 0 0.216 0 0 0 -1 1\").attr(\"result\",\"f2mask2\"),a.append(\"feComposite\").attr(\"operator\",\"in\").attr(\"in\",\"f2mask2\").attr(\"in2\",\"f2mask1\").attr(\"result\",\"f2border\");var b=a.append(\"feMerge\");b.append(\"feMergeNode\").attr(\"in\",\"f1blur\"),b.append(\"feMergeNode\").attr(\"in\",\"SourceGraphic\"),b.append(\"feMergeNode\").attr(\"in\",\"f2border\"),r=n.append(\"g\"),r.append(\"path\").attr(\"class\",\"na-country\").datum(u).attr(\"d\",m).style(\"filter\",\"url(#border)\")}function g(){for(var d=0;d<=[\"DE\",\"DK\",\"ES\",\"FR\",\"FT\",\"GB\",\"NL\",\"NT\",\"PL\",\"PR\",\"RU\",\"SE\",\"US\"];d++)o.append(\"pattern\").attr(\"id\",\"n\"+d).attr(\"x\",\"0%\").attr(\"y\",\"0%\").attr(\"width\",\"100%\").attr(\"height\",\"100%\").attr(\"viewBox\",\"0 0 50 50\").append(\"image\").attr(\"x\",\"0\").attr(\"y\",\"0\").attr(\"height\",\"50\").attr(\"width\",\"50\").attr(\"xlink:href\",\"icons/\"+d+\".svg\");var a=x.layoutTextLabel().padding(3).value(function(a){return a.properties.name}),b=x.layoutGreedy(),c=x.layoutLabel(b).size(function(a,b,c){var d=w.select(c[b]).select(\"text\").node().getBBox();return[d.width,d.height]}).position(function(a){return l(a.geometry.coordinates)}).component(a);q=n.append(\"g\").datum(v.features).call(c),q.selectAll(\".label text\").attr(\"dx\",10).attr(\"class\",function(a){var b;return b=a.properties.shallow||a.properties.countyCapital?\"na-port-out\":\"na-port-in\",b}),q.selectAll(\".label rect\").attr(\"class\",\"label-rect\"),q.selectAll(\".label circle\").attr(\"id\",function(a){return\"p\"+a.properties.id}).attr(\"r\",10).attr(\"fill\",function(a){return\"url(#\"+a.properties.nation+\")\"}).on(\"mouseover\",function(a){w.select(this).attr(\"data-toggle\",\"tooltip\").attr(\"title\",function(a){return h(a.properties)}),$(\"#p\"+a.properties.id).tooltip({delay:{show:100,hide:100},html:!0,placement:\"auto\"}).tooltip(\"show\")}).on(\"mouseout\",function(a){$(\"#p\"+a.properties.id).tooltip(\"hide\")})}function h(a){var b;return b=\"<table><tbody<tr><td><i class='flag-icon \"+a.nation+\"'></i></td>\",b+=\"<td class='port-name'>\"+a.name+\"</td></tr></tbody></table>\",b+=\"<p>\"+(a.shallow?\"Shallow\":\"Deep\"),b+=\" water port\",a.countyCapital&&(b+=\", county capital\"),b+=a.nonCapturable?\", not capturable\":\", \"+a.brLimit+\" BR limit\",a.capturer&&(b+=\", owned by \"+a.capturer),b+=\"</p>\",b+=\"<table class='table table-sm'>\",a.produces.length&&(b+=\"<tr><td>Produces</td><td>\"+a.produces.join(\", \")+\"</td></tr>\"),a.drops.length&&(b+=\"<tr><td>Drops</td><td>\"+a.drops.join(\", \")+\"</tr>\"),a.consumes.length&&(b+=\"<tr><td>Consumes</td><td>\"+a.consumes.join(\", \")+\"</tr>\"),b+=\"</table>\",b}function i(){var a=v.features.filter(function(a){return!a.properties.shallow&&!a.properties.countyCapital}).map(function(a){return[a.geometry.coordinates[0],a.geometry.coordinates[1]]});s=n.append(\"g\").attr(\"class\",\"voronoi\").call(p).selectAll(\".voronoi\").data(a).enter().append(\"g\");var b=j/10,c=w.voronoi().extent([[-1,-1],[j+1,k+1]]),d=c(a.map(l));s.append(\"path\").data(c.polygons(a.map(l))).attr(\"d\",function(a){return a?\"M\"+a.join(\"L\")+\"Z\":null}).attr(\"pointer-events\",\"visibleFill\").on(\"mouseover\",function(){var a=Object(__WEBPACK_IMPORTED_MODULE_3_d3_selection__[\"mouse\"])(this),c=a[0],e=a[1],f=d.find(c,e,b);t=s._groups[0][f.index],t.classList.add(\"highlight-voronoi\")}).on(\"mouseout\",function(){t.classList.remove(\"highlight-voronoi\")})}var j,k,l,m,n,o,p,q,r,s,t,u,v,w={geoEquirectangular:__WEBPACK_IMPORTED_MODULE_0_d3_geo__[\"a\" /* geoEquirectangular */],geoPath:__WEBPACK_IMPORTED_MODULE_0_d3_geo__[\"b\" /* geoPath */],json:__WEBPACK_IMPORTED_MODULE_2_d3_request__[\"a\" /* json */],queue:__WEBPACK_IMPORTED_MODULE_1_d3_queue__[\"a\" /* queue */],request:__WEBPACK_IMPORTED_MODULE_2_d3_request__[\"b\" /* request */],select:__WEBPACK_IMPORTED_MODULE_3_d3_selection__[\"select\"],voronoi:__WEBPACK_IMPORTED_MODULE_4_d3_voronoi__[\"a\" /* voronoi */],zoom:__WEBPACK_IMPORTED_MODULE_5_d3_zoom__[\"a\" /* zoom */]},x={layoutTextLabel:__WEBPACK_IMPORTED_MODULE_6_d3fc_label_layout__[\"layoutTextLabel\"],layoutGreedy:__WEBPACK_IMPORTED_MODULE_6_d3fc_label_layout__[\"layoutGreedy\"],layoutLabel:__WEBPACK_IMPORTED_MODULE_6_d3fc_label_layout__[\"layoutLabel\"]},y={feature:__WEBPACK_IMPORTED_MODULE_7_topojson_client__[\"a\" /* feature */]},z=parseInt(window.getComputedStyle(document.getElementById(\"na\")).fontSize);w.queue().defer(w.json,a+\".json\").await(function(a,d){if(a)throw a;u=y.feature(d,d.objects.countries),v=y.feature(d,d.objects.ports),b(),c(),i(),f(),g()})}\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(14)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy9uYS1kaXNwbGF5LmpzP2UwMjkiXSwibmFtZXMiOlsibmFEaXNwbGF5IiwiZ2VvUGF0aCIsInByb2plY3Rpb24iLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwib2Zmc2V0V2lkdGgiLCJsZWZ0IiwicmlnaHQiLCJib3VuZHMiLCJ0b3AiLCJib3R0b20iLCJnZW9FcXVpcmVjdGFuZ3VsYXIiLCJmaXRFeHRlbnQiLCJzZWxlY3QiLCJhcHBlbmQiLCJhdHRyIiwib24iLCJ6b29tIiwic2NhbGVFeHRlbnQiLCJjYWxsIiwidHJhbnNmb3JtIiwic2VsZWN0QWxsIiwic3R5bGUiLCJrIiwiY3VycmVudEQzRXZlbnQiLCJkZWZhdWx0UHJldmVudGVkIiwic3RvcFByb3BhZ2F0aW9uIiwiZGF0dW0iLCJsYXlvdXRUZXh0TGFiZWwiLCJwYWRkaW5nIiwidmFsdWUiLCJwcm9wZXJ0aWVzIiwibmFtZSIsImxheW91dEdyZWVkeSIsImxheW91dExhYmVsIiwic2l6ZSIsIm5vZGUiLCJnZXRCQm94Iiwid2lkdGgiLCJoZWlnaHQiLCJwb3NpdGlvbiIsImdlb21ldHJ5IiwiY29vcmRpbmF0ZXMiLCJjb21wb25lbnQiLCJmZWF0dXJlcyIsInNoYWxsb3ciLCJjb3VudHlDYXBpdGFsIiwiaWQiLCJuYXRpb24iLCIkIiwidG9vbHRpcCIsIm5vbkNhcHR1cmFibGUiLCJickxpbWl0IiwiY2FwdHVyZXIiLCJwcm9kdWNlcyIsImxlbmd0aCIsImpvaW4iLCJkcm9wcyIsImNvbnN1bWVzIiwiZmlsdGVyIiwibWFwIiwiZGF0YSIsImVudGVyIiwidm9yb25vaSIsImV4dGVudCIsInBvbHlnb25zIiwiY3VycmVudEQzbW91c2UiLCJmaW5kIiwiX2dyb3VwcyIsImluZGV4IiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwianNvbiIsInF1ZXVlIiwicmVxdWVzdCIsImZlYXR1cmUiLCJwYXJzZUludCIsIndpbmRvdyIsImdldENvbXB1dGVkU3R5bGUi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U0FBU0MsT0FBT0MsZ0JBQVAsQ0FBd0I1RSxTQUFTQyxjQUFULENBQXdCLElBQXhCLENBQXhCLEVBQXVENEUsUUFBaEUsQ0F2Qm5CLENBMlhBLEVBQ0tOLEtBREwsR0FFS08sS0FGTCxDQUVXLEVBQUdSLElBRmQsQ0FuV2tCLEVBQWEsT0FtVy9CLEVBR0tTLEtBSEwsQ0FqQkEsYUFBK0IsQ0FDM0IsS0FDSSxRQUlKLEVBQWMsRUFBU04sT0FBVCxHQUF3QixFQUFNTyxPQUFOLENBQWNDLFNBQXRDLENBTmEsQ0FPM0IsRUFBVSxFQUFTUixPQUFULEdBQXdCLEVBQU1PLE9BQU4sQ0FBY0UsS0FBdEMsQ0FQaUIsQ0FTM0IsR0FUMkIsQ0FVM0IsR0FWMkIsQ0FZM0IsR0FaMkIsQ0FhM0IsR0FiMkIsQ0FjM0IsR0FDSCxDQUVELENBSUgsQyIsImZpbGUiOiIxMzMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuICAgIERyYXdzIHRlbGVwb3J0IG1hcCBmb3IgTmF2YWwgQWN0aW9uXG5cbiAgICBpQiAyMDE3XG4gKi9cblxuaW1wb3J0IHsgZ2VvRXF1aXJlY3Rhbmd1bGFyIGFzIGQzZ2VvRXF1aXJlY3Rhbmd1bGFyLCBnZW9QYXRoIGFzIGQzR2VvUGF0aCB9IGZyb20gXCJkMy1nZW9cIjtcbmltcG9ydCB7IHF1ZXVlIGFzIGQzUXVldWUgfSBmcm9tIFwiZDMtcXVldWVcIjtcbmltcG9ydCB7IGpzb24gYXMgZDNKc29uLCByZXF1ZXN0IGFzIGQzUmVxdWVzdCB9IGZyb20gXCJkMy1yZXF1ZXN0XCI7XG4vLyBldmVudCBuZWVkcyBsaXZlLWJpbmRpbmdcbmltcG9ydCB7IGV2ZW50IGFzIGN1cnJlbnREM0V2ZW50LCBtb3VzZSBhcyBjdXJyZW50RDNtb3VzZSwgc2VsZWN0IGFzIGQzU2VsZWN0IH0gZnJvbSBcImQzLXNlbGVjdGlvblwiO1xuaW1wb3J0IHsgdm9yb25vaSBhcyBkM1Zvcm9ub2kgfSBmcm9tIFwiZDMtdm9yb25vaVwiO1xuaW1wb3J0IHsgem9vbSBhcyBkM1pvb20gfSBmcm9tIFwiZDMtem9vbVwiO1xuXG5pbXBvcnQge1xuICAgIGxheW91dFRleHRMYWJlbCBhcyBmY0xheW91dFRleHRMYWJlbCxcbiAgICBsYXlvdXRHcmVlZHkgYXMgZmNMYXlvdXRHcmVlZHksXG4gICAgbGF5b3V0TGFiZWwgYXMgZmNMYXlvdXRMYWJlbFxufSBmcm9tIFwiZDNmYy1sYWJlbC1sYXlvdXRcIjtcblxuaW1wb3J0IHsgZmVhdHVyZSBhcyB0b3BvanNvbkZlYXR1cmUgfSBmcm9tIFwidG9wb2pzb24tY2xpZW50XCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIG5hRGlzcGxheShzZXJ2ZXJOYW1lKSB7XG4gICAgY29uc3QgZDMgPSB7XG4gICAgICAgICAgICBnZW9FcXVpcmVjdGFuZ3VsYXI6IGQzZ2VvRXF1aXJlY3Rhbmd1bGFyLFxuICAgICAgICAgICAgZ2VvUGF0aDogZDNHZW9QYXRoLFxuICAgICAgICAgICAganNvbjogZDNKc29uLFxuICAgICAgICAgICAgcXVldWU6IGQzUXVldWUsXG4gICAgICAgICAgICByZXF1ZXN0OiBkM1JlcXVlc3QsXG4gICAgICAgICAgICBzZWxlY3Q6IGQzU2VsZWN0LFxuICAgICAgICAgICAgdm9yb25vaTogZDNWb3Jvbm9pLFxuICAgICAgICAgICAgem9vbTogZDNab29tXG4gICAgICAgIH0sXG4gICAgICAgIGZjID0ge1xuICAgICAgICAgICAgbGF5b3V0VGV4dExhYmVsOiBmY0xheW91dFRleHRMYWJlbCxcbiAgICAgICAgICAgIGxheW91dEdyZWVkeTogZmNMYXlvdXRHcmVlZHksXG4gICAgICAgICAgICBsYXlvdXRMYWJlbDogZmNMYXlvdXRMYWJlbFxuICAgICAgICB9LFxuICAgICAgICB0b3BvanNvbiA9IHtcbiAgICAgICAgICAgIGZlYXR1cmU6IHRvcG9qc29uRmVhdHVyZVxuICAgICAgICB9O1xuXG4gICAgbGV0IG5hV2lkdGgsIG5hSGVpZ2h0O1xuICAgIGxldCBuYVByb2plY3Rpb24sIG5hUGF0aCwgbmFTdmcsIG5hRGVmcywgbmFab29tO1xuICAgIGxldCBnUG9ydHMsIGdDb3VudHJpZXMsIGdWb3Jvbm9pLCBuYUN1cnJlbnRWb3Jvbm9pO1xuICAgIGxldCBuYUNvdW50cmllcywgbmFQb3J0cztcbiAgICBjb25zdCBuYUZvbnRTaXplID0gcGFyc2VJbnQod2luZG93LmdldENvbXB1dGVkU3R5bGUoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJuYVwiKSkuZm9udFNpemUpO1xuICAgIGNvbnN0IG5hTWFwSnNvbiA9IHNlcnZlck5hbWUgKyBcIi5qc29uXCI7XG5cbiAgICBmdW5jdGlvbiBuYVNldHVwUHJvamVjdGlvbigpIHtcbiAgICAgICAgY29uc3QgbmFNYXJnaW4gPSB7IHRvcDogMCwgcmlnaHQ6IDAsIGJvdHRvbTogMCwgbGVmdDogMCB9O1xuICAgICAgICBjb25zdCBtaW5XaWR0aCA9IDQwMDA7XG4gICAgICAgIGxldCBuYUJvdW5kcywgbmFCb3VuZHNXaWR0aCwgbmFCb3VuZHNIZWlnaHQ7XG5cbiAgICAgICAgbmFQYXRoID0gZDMuZ2VvUGF0aCgpLnByb2plY3Rpb24obmFQcm9qZWN0aW9uKTtcbiAgICAgICAgbmFXaWR0aCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibmFcIikub2Zmc2V0V2lkdGggLSBuYU1hcmdpbi5sZWZ0IC0gbmFNYXJnaW4ucmlnaHQ7XG4gICAgICAgIG5hV2lkdGggPSBtaW5XaWR0aCA+IG5hV2lkdGggPyBtaW5XaWR0aCA6IG5hV2lkdGg7XG4gICAgICAgIG5hQm91bmRzID0gbmFQYXRoLmJvdW5kcyhuYUNvdW50cmllcyk7XG4gICAgICAgIG5hQm91bmRzV2lkdGggPSBuYUJvdW5kc1sxXVswXSAtIG5hQm91bmRzWzBdWzBdO1xuICAgICAgICBuYUJvdW5kc0hlaWdodCA9IG5hQm91bmRzWzFdWzFdIC0gbmFCb3VuZHNbMF1bMV07XG4gICAgICAgIG5hSGVpZ2h0ID0gbmFXaWR0aCAvIChuYUJvdW5kc1dpZHRoIC8gbmFCb3VuZHNIZWlnaHQpIC0gbmFNYXJnaW4udG9wIC0gbmFNYXJnaW4uYm90dG9tO1xuXG4gICAgICAgIG5hUHJvamVjdGlvbiA9IGQzXG4gICAgICAgICAgICAuZ2VvRXF1aXJlY3Rhbmd1bGFyKClcbiAgICAgICAgICAgIC5maXRFeHRlbnQoXG4gICAgICAgICAgICAgICAgW1stbmFCb3VuZHNXaWR0aCwgLW5hQm91bmRzSGVpZ2h0XSwgW25hV2lkdGggKyBuYUJvdW5kc1dpZHRoLCBuYUhlaWdodCArIG5hQm91bmRzSGVpZ2h0XV0sXG4gICAgICAgICAgICAgICAgbmFDb3VudHJpZXNcbiAgICAgICAgICAgICk7XG4gICAgICAgIG5hUGF0aCA9IGQzLmdlb1BhdGgoKS5wcm9qZWN0aW9uKG5hUHJvamVjdGlvbik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbmFTZXR1cENhbnZhcygpIHtcbiAgICAgICAgbmFTdmcgPSBkM1xuICAgICAgICAgICAgLnNlbGVjdChcIiNuYVwiKVxuICAgICAgICAgICAgLmFwcGVuZChcInN2Z1wiKVxuICAgICAgICAgICAgLmF0dHIoXCJpZFwiLCBcIm5hLXN2Z1wiKVxuICAgICAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCBuYVdpZHRoKVxuICAgICAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgbmFIZWlnaHQpXG4gICAgICAgICAgICAub24oXCJjbGlja1wiLCBuYVN0b3BQcm9wLCB0cnVlKTtcblxuICAgICAgICBuYVN2Z1xuICAgICAgICAgICAgLmFwcGVuZChcInJlY3RcIilcbiAgICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJiYWNrZ3JvdW5kXCIpXG4gICAgICAgICAgICAuYXR0cihcIndpZHRoXCIsIG5hV2lkdGgpXG4gICAgICAgICAgICAuYXR0cihcImhlaWdodFwiLCBuYUhlaWdodCk7XG5cbiAgICAgICAgbmFab29tID0gZDNcbiAgICAgICAgICAgIC56b29tKClcbiAgICAgICAgICAgIC5zY2FsZUV4dGVudChbMC42LCAzXSlcbiAgICAgICAgICAgIC5vbihcInpvb21cIiwgbmFab29tZWQpO1xuXG4gICAgICAgIG5hU3ZnLmNhbGwobmFab29tKTtcblxuICAgICAgICBuYURlZnMgPSBuYVN2Zy5hcHBlbmQoXCJkZWZzXCIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG5hWm9vbWVkKCkge1xuICAgICAgICBnQ291bnRyaWVzLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgdHJhbnNmb3JtKTtcbiAgICAgICAgZ1BvcnRzLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgdHJhbnNmb3JtKTtcbiAgICAgICAgZ1Zvcm9ub2kuYXR0cihcInRyYW5zZm9ybVwiLCB0cmFuc2Zvcm0pO1xuXG4gICAgICAgIGdQb3J0cy5zZWxlY3RBbGwoXCIubGFiZWwgdGV4dFwiKS5zdHlsZShcImZvbnQtc2l6ZVwiLCBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJuYUZvbnRTaXplIC8gdHJhbnNmb3JtLmtcIjtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZ1BvcnRzLnNlbGVjdEFsbChcIi5sYWJlbCBjaXJjbGVcIikuYXR0cihcInJcIiwgMTAgLyB0cmFuc2Zvcm0uayk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbmFTdG9wUHJvcCgpIHtcbiAgICAgICAgaWYgKGN1cnJlbnREM0V2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgICAgIGN1cnJlbnREM0V2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbmFEaXNwbGF5Q291bnRyaWVzKCkge1xuICAgICAgICBsZXQgbmFGaWx0ZXIgPSBuYURlZnMuYXBwZW5kKFwiZmlsdGVyXCIpLmF0dHIoXCJpZFwiLCBcImJvcmRlclwiKTtcblxuICAgICAgICBuYUZpbHRlclxuICAgICAgICAgICAgLmFwcGVuZChcImZlQ29sb3JNYXRyaXhcIilcbiAgICAgICAgICAgIC5hdHRyKFwiaW5cIiwgXCJTb3VyY2VHcmFwaGljXCIpXG4gICAgICAgICAgICAuYXR0cihcInR5cGVcIiwgXCJtYXRyaXhcIilcbiAgICAgICAgICAgIC5hdHRyKFwidmFsdWVzXCIsIFwiMCAwIDAgMCAwLjMwMiAgMCAwIDAgMCAwLjI2MyAgMCAwIDAgMCAwLjIxNiAgMCAwIDAgMSAwXCIpXG4gICAgICAgICAgICAuYXR0cihcInJlc3VsdFwiLCBcImZtYXNrXCIpO1xuXG4gICAgICAgIG5hRmlsdGVyXG4gICAgICAgICAgICAuYXBwZW5kKFwiZmVHYXVzc2lhbkJsdXJcIilcbiAgICAgICAgICAgIC5hdHRyKFwiaW5cIiwgXCJmbWFza1wiKVxuICAgICAgICAgICAgLmF0dHIoXCJzdGREZXZpYXRpb25cIiwgMTUpXG4gICAgICAgICAgICAuYXR0cihcInJlc3VsdFwiLCBcImYxYmx1clwiKTtcblxuICAgICAgICBuYUZpbHRlclxuICAgICAgICAgICAgLmFwcGVuZChcImZlQ29sb3JNYXRyaXhcIilcbiAgICAgICAgICAgIC5hdHRyKFwiaW5cIiwgXCJTb3VyY2VHcmFwaGljXCIpXG4gICAgICAgICAgICAuYXR0cihcInR5cGVcIiwgXCJtYXRyaXhcIilcbiAgICAgICAgICAgIC5hdHRyKFwidmFsdWVzXCIsIFwiMCAwIDAgMCAwICAgMCAwIDAgMCAwICAgMCAwIDAgMCAwICAgMCAwIDAgMSAwXCIpXG4gICAgICAgICAgICAuYXR0cihcInJlc3VsdFwiLCBcImYybWFzazFcIik7XG5cbiAgICAgICAgbmFGaWx0ZXJcbiAgICAgICAgICAgIC5hcHBlbmQoXCJmZU1vcnBob2xvZ3lcIilcbiAgICAgICAgICAgIC5hdHRyKFwiaW5cIiwgXCJmMm1hc2sxXCIpXG4gICAgICAgICAgICAuYXR0cihcInJhZGl1c1wiLCAxKVxuICAgICAgICAgICAgLmF0dHIoXCJvcGVyYXRvclwiLCBcImVyb2RlXCIpXG4gICAgICAgICAgICAuYXR0cihcInJlc3VsdFwiLCBcImYybVwiKTtcblxuICAgICAgICBuYUZpbHRlclxuICAgICAgICAgICAgLmFwcGVuZChcImZlR2F1c3NpYW5CbHVyXCIpXG4gICAgICAgICAgICAuYXR0cihcImluXCIsIFwiZjJtXCIpXG4gICAgICAgICAgICAuYXR0cihcInN0ZERldmlhdGlvblwiLCA1KVxuICAgICAgICAgICAgLmF0dHIoXCJyZXN1bHRcIiwgXCJmMmJsdXJcIik7XG5cbiAgICAgICAgbmFGaWx0ZXJcbiAgICAgICAgICAgIC5hcHBlbmQoXCJmZUNvbG9yTWF0cml4XCIpXG4gICAgICAgICAgICAuYXR0cihcImluXCIsIFwiZjJibHVyXCIpXG4gICAgICAgICAgICAuYXR0cihcInR5cGVcIiwgXCJtYXRyaXhcIilcbiAgICAgICAgICAgIC5hdHRyKFwidmFsdWVzXCIsIFwiMSAwIDAgMCAwLjMwMiAwIDEgMCAwIDAuMjYzIDAgMCAxIDAgMC4yMTYgMCAwIDAgLTEgMVwiKVxuICAgICAgICAgICAgLmF0dHIoXCJyZXN1bHRcIiwgXCJmMm1hc2syXCIpO1xuXG4gICAgICAgIG5hRmlsdGVyXG4gICAgICAgICAgICAuYXBwZW5kKFwiZmVDb21wb3NpdGVcIilcbiAgICAgICAgICAgIC5hdHRyKFwib3BlcmF0b3JcIiwgXCJpblwiKVxuICAgICAgICAgICAgLmF0dHIoXCJpblwiLCBcImYybWFzazJcIilcbiAgICAgICAgICAgIC5hdHRyKFwiaW4yXCIsIFwiZjJtYXNrMVwiKVxuICAgICAgICAgICAgLmF0dHIoXCJyZXN1bHRcIiwgXCJmMmJvcmRlclwiKTtcblxuICAgICAgICBsZXQgZmVNZXJnZSA9IG5hRmlsdGVyLmFwcGVuZChcImZlTWVyZ2VcIik7XG4gICAgICAgIGZlTWVyZ2UuYXBwZW5kKFwiZmVNZXJnZU5vZGVcIikuYXR0cihcImluXCIsIFwiZjFibHVyXCIpO1xuICAgICAgICBmZU1lcmdlLmFwcGVuZChcImZlTWVyZ2VOb2RlXCIpLmF0dHIoXCJpblwiLCBcIlNvdXJjZUdyYXBoaWNcIik7XG4gICAgICAgIGZlTWVyZ2UuYXBwZW5kKFwiZmVNZXJnZU5vZGVcIikuYXR0cihcImluXCIsIFwiZjJib3JkZXJcIik7XG5cbiAgICAgICAgZ0NvdW50cmllcyA9IG5hU3ZnLmFwcGVuZChcImdcIik7XG5cbiAgICAgICAgZ0NvdW50cmllc1xuICAgICAgICAgICAgLmFwcGVuZChcInBhdGhcIilcbiAgICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJuYS1jb3VudHJ5XCIpXG4gICAgICAgICAgICAuZGF0dW0obmFDb3VudHJpZXMpXG4gICAgICAgICAgICAuYXR0cihcImRcIiwgbmFQYXRoKVxuICAgICAgICAgICAgLnN0eWxlKFwiZmlsdGVyXCIsIFwidXJsKCNib3JkZXIpXCIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG5hRGlzcGxheVBvcnRzKCkge1xuICAgICAgICBjb25zdCBsYWJlbFBhZGRpbmcgPSAzO1xuXG4gICAgICAgIGNvbnN0IG5hTmF0aW9ucyA9IFtcIkRFXCIsIFwiREtcIiwgXCJFU1wiLCBcIkZSXCIsIFwiRlRcIiwgXCJHQlwiLCBcIk5MXCIsIFwiTlRcIiwgXCJQTFwiLCBcIlBSXCIsIFwiUlVcIiwgXCJTRVwiLCBcIlVTXCJdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDw9IG5hTmF0aW9uczsgaSsrKSB7XG4gICAgICAgICAgICBuYURlZnNcbiAgICAgICAgICAgICAgICAuYXBwZW5kKFwicGF0dGVyblwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwiaWRcIiwgXCJuXCIgKyBpKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwieFwiLCBcIjAlXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ5XCIsIFwiMCVcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcIndpZHRoXCIsIFwiMTAwJVwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIFwiMTAwJVwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwidmlld0JveFwiLCBcIjAgMCA1MCA1MFwiKVxuICAgICAgICAgICAgICAgIC5hcHBlbmQoXCJpbWFnZVwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwieFwiLCBcIjBcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcInlcIiwgXCIwXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgXCI1MFwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwid2lkdGhcIiwgXCI1MFwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwieGxpbms6aHJlZlwiLCBcImljb25zL1wiICsgaSArIFwiLnN2Z1wiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRoZSBjb21wb25lbnQgdXNlZCB0byByZW5kZXIgZWFjaCBsYWJlbFxuICAgICAgICBsZXQgdGV4dExhYmVsID0gZmNcbiAgICAgICAgICAgIC5sYXlvdXRUZXh0TGFiZWwoKVxuICAgICAgICAgICAgLnBhZGRpbmcobGFiZWxQYWRkaW5nKVxuICAgICAgICAgICAgLnZhbHVlKGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZC5wcm9wZXJ0aWVzLm5hbWU7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICBsZXQgc3RyYXRlZ3kgPSBmYy5sYXlvdXRHcmVlZHkoKTtcblxuICAgICAgICAvLyBjcmVhdGUgdGhlIGxheW91dCB0aGF0IHBvc2l0aW9ucyB0aGUgbGFiZWxzXG4gICAgICAgIGxldCBsYWJlbHMgPSBmY1xuICAgICAgICAgICAgLmxheW91dExhYmVsKHN0cmF0ZWd5KVxuICAgICAgICAgICAgLnNpemUoZnVuY3Rpb24oXywgaSwgZykge1xuICAgICAgICAgICAgICAgIC8vIG1lYXN1cmUgdGhlIGxhYmVsIGFuZCBhZGQgdGhlIHJlcXVpcmVkIHBhZGRpbmdcbiAgICAgICAgICAgICAgICBsZXQgdGV4dFNpemUgPSBkM1xuICAgICAgICAgICAgICAgICAgICAuc2VsZWN0KGdbaV0pXG4gICAgICAgICAgICAgICAgICAgIC5zZWxlY3QoXCJ0ZXh0XCIpXG4gICAgICAgICAgICAgICAgICAgIC5ub2RlKClcbiAgICAgICAgICAgICAgICAgICAgLmdldEJCb3goKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gW3RleHRTaXplLndpZHRoLCB0ZXh0U2l6ZS5oZWlnaHRdO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5wb3NpdGlvbihmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5hUHJvamVjdGlvbihkLmdlb21ldHJ5LmNvb3JkaW5hdGVzKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY29tcG9uZW50KHRleHRMYWJlbCk7XG5cbiAgICAgICAgLy8gcmVuZGVyIVxuICAgICAgICBnUG9ydHMgPSBuYVN2Z1xuICAgICAgICAgICAgLmFwcGVuZChcImdcIilcbiAgICAgICAgICAgIC5kYXR1bShuYVBvcnRzLmZlYXR1cmVzKVxuICAgICAgICAgICAgLmNhbGwobGFiZWxzKTtcblxuICAgICAgICAvLyBQb3J0IHRleHQgY29sb3VyXG4gICAgICAgIGdQb3J0c1xuICAgICAgICAgICAgLnNlbGVjdEFsbChcIi5sYWJlbCB0ZXh0XCIpXG4gICAgICAgICAgICAuYXR0cihcImR4XCIsIDEwKVxuICAgICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBmdW5jdGlvbihkKSB7XG4gICAgICAgICAgICAgICAgbGV0IGY7XG4gICAgICAgICAgICAgICAgaWYgKCFkLnByb3BlcnRpZXMuc2hhbGxvdyAmJiAhZC5wcm9wZXJ0aWVzLmNvdW50eUNhcGl0YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgZiA9IFwibmEtcG9ydC1pblwiO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGYgPSBcIm5hLXBvcnQtb3V0XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBmO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgZ1BvcnRzLnNlbGVjdEFsbChcIi5sYWJlbCByZWN0XCIpLmF0dHIoXCJjbGFzc1wiLCBcImxhYmVsLXJlY3RcIik7XG5cbiAgICAgICAgLy8gUG9ydCBjaXJjbGUgY29sb3VyIGFuZCBzaXplXG4gICAgICAgIGdQb3J0c1xuICAgICAgICAgICAgLnNlbGVjdEFsbChcIi5sYWJlbCBjaXJjbGVcIilcbiAgICAgICAgICAgIC5hdHRyKFwiaWRcIiwgZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcInBcIiArIGQucHJvcGVydGllcy5pZDtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuYXR0cihcInJcIiwgMTApXG4gICAgICAgICAgICAuYXR0cihcImZpbGxcIiwgZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcInVybCgjXCIgKyBkLnByb3BlcnRpZXMubmF0aW9uICsgXCIpXCI7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgICAgICBkM1xuICAgICAgICAgICAgICAgICAgICAuc2VsZWN0KHRoaXMpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwiZGF0YS10b2dnbGVcIiwgXCJ0b29sdGlwXCIpXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwidGl0bGVcIiwgZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5hVG9vbHRpcERhdGEoZC5wcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgJChcIiNwXCIgKyBkLnByb3BlcnRpZXMuaWQpXG4gICAgICAgICAgICAgICAgICAgIC50b29sdGlwKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGF5OiB7IHNob3c6IDEwMCwgaGlkZTogMTAwIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBodG1sOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50OiBcImF1dG9cIlxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAudG9vbHRpcChcInNob3dcIik7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLm9uKFwibW91c2VvdXRcIiwgZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgICAgICQoXCIjcFwiICsgZC5wcm9wZXJ0aWVzLmlkKS50b29sdGlwKFwiaGlkZVwiKTtcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG5hVG9vbHRpcERhdGEoZCkge1xuICAgICAgICBsZXQgaDtcbiAgICAgICAgaCA9IFwiPHRhYmxlPjx0Ym9keTx0cj48dGQ+PGkgY2xhc3M9J2ZsYWctaWNvbiBcIiArIGQubmF0aW9uICsgXCInPjwvaT48L3RkPlwiO1xuICAgICAgICBoICs9IFwiPHRkIGNsYXNzPSdwb3J0LW5hbWUnPlwiICsgZC5uYW1lICsgXCI8L3RkPjwvdHI+PC90Ym9keT48L3RhYmxlPlwiO1xuICAgICAgICBoICs9IFwiPHA+XCIgKyAoZC5zaGFsbG93ID8gXCJTaGFsbG93XCIgOiBcIkRlZXBcIik7XG4gICAgICAgIGggKz0gXCIgd2F0ZXIgcG9ydFwiO1xuICAgICAgICBpZiAoZC5jb3VudHlDYXBpdGFsKSB7XG4gICAgICAgICAgICBoICs9IFwiLCBjb3VudHkgY2FwaXRhbFwiO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZC5ub25DYXB0dXJhYmxlKSB7XG4gICAgICAgICAgICBoICs9IFwiLCBcIiArIGQuYnJMaW1pdCArIFwiIEJSIGxpbWl0XCI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoICs9IFwiLCBub3QgY2FwdHVyYWJsZVwiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkLmNhcHR1cmVyKSB7XG4gICAgICAgICAgICBoICs9IFwiLCBvd25lZCBieSBcIiArIGQuY2FwdHVyZXI7XG4gICAgICAgIH1cbiAgICAgICAgaCArPSBcIjwvcD5cIjtcbiAgICAgICAgaCArPSBcIjx0YWJsZSBjbGFzcz0ndGFibGUgdGFibGUtc20nPlwiO1xuICAgICAgICBpZiAoZC5wcm9kdWNlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGggKz0gXCI8dHI+PHRkPlByb2R1Y2VzPC90ZD48dGQ+XCIgKyBkLnByb2R1Y2VzLmpvaW4oXCIsIFwiKSArIFwiPC90ZD48L3RyPlwiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkLmRyb3BzLmxlbmd0aCkge1xuICAgICAgICAgICAgaCArPSBcIjx0cj48dGQ+RHJvcHM8L3RkPjx0ZD5cIiArIGQuZHJvcHMuam9pbihcIiwgXCIpICsgXCI8L3RyPlwiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChkLmNvbnN1bWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgaCArPSBcIjx0cj48dGQ+Q29uc3VtZXM8L3RkPjx0ZD5cIiArIGQuY29uc3VtZXMuam9pbihcIiwgXCIpICsgXCI8L3RyPlwiO1xuICAgICAgICB9XG4gICAgICAgIGggKz0gXCI8L3RhYmxlPlwiO1xuXG4gICAgICAgIHJldHVybiBoO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG5hRGlzcGxheVRlbGVwb3J0QXJlYXMoKSB7XG4gICAgICAgIC8vIEV4dHJhY3QgcG9ydCBjb29yZGluYXRlc1xuICAgICAgICBsZXQgcG9ydHMgPSBuYVBvcnRzLmZlYXR1cmVzXG4gICAgICAgICAgICAvLyBVc2Ugb25seSBwb3J0cyB0aGF0IGRlZXAgd2F0ZXIgcG9ydHMgYW5kIG5vdCBhIGNvdW50eSBjYXBpdGFsXG4gICAgICAgICAgICAuZmlsdGVyKGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIWQucHJvcGVydGllcy5zaGFsbG93ICYmICFkLnByb3BlcnRpZXMuY291bnR5Q2FwaXRhbDtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAvLyBNYXAgdG8gY29vcmRpbmF0ZXMgYXJyYXlcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbZC5nZW9tZXRyeS5jb29yZGluYXRlc1swXSwgZC5nZW9tZXRyeS5jb29yZGluYXRlc1sxXV07XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAvLyBBcHBlbmQgZ3JvdXAgd2l0aCBjbGFzcyAudm9yb25vaVxuICAgICAgICBnVm9yb25vaSA9IG5hU3ZnXG4gICAgICAgICAgICAuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcInZvcm9ub2lcIilcbiAgICAgICAgICAgIC5jYWxsKG5hWm9vbSlcbiAgICAgICAgICAgIC5zZWxlY3RBbGwoXCIudm9yb25vaVwiKVxuICAgICAgICAgICAgLmRhdGEocG9ydHMpXG4gICAgICAgICAgICAuZW50ZXIoKVxuICAgICAgICAgICAgLmFwcGVuZChcImdcIik7XG5cbiAgICAgICAgLy8gbGltaXQgaG93IGZhciBhd2F5IHRoZSBtb3VzZSBjYW4gYmUgZnJvbSBmaW5kaW5nIGEgdm9yb25vaSBzaXRlXG4gICAgICAgIGNvbnN0IHZvcm9ub2lSYWRpdXMgPSBuYVdpZHRoIC8gMTA7XG4gICAgICAgIGNvbnN0IG5hVm9yb25vaSA9IGQzLnZvcm9ub2koKS5leHRlbnQoW1stMSwgLTFdLCBbbmFXaWR0aCArIDEsIG5hSGVpZ2h0ICsgMV1dKTtcbiAgICAgICAgY29uc3QgbmFWb3Jvbm9pRGlhZ3JhbSA9IG5hVm9yb25vaShwb3J0cy5tYXAobmFQcm9qZWN0aW9uKSk7XG5cbiAgICAgICAgLy8gRHJhdyB0ZWxlcG9ydCBhcmVhc1xuICAgICAgICBnVm9yb25vaVxuICAgICAgICAgICAgLmFwcGVuZChcInBhdGhcIilcbiAgICAgICAgICAgIC5kYXRhKG5hVm9yb25vaS5wb2x5Z29ucyhwb3J0cy5tYXAobmFQcm9qZWN0aW9uKSkpXG4gICAgICAgICAgICAuYXR0cihcImRcIiwgZnVuY3Rpb24oZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBkID8gXCJNXCIgKyBkLmpvaW4oXCJMXCIpICsgXCJaXCIgOiBudWxsO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5hdHRyKFwicG9pbnRlci1ldmVudHNcIiwgXCJ2aXNpYmxlRmlsbFwiKVxuICAgICAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIGZ1bmN0aW9uKGQpIHtcbiAgICAgICAgICAgICAgICAvLyBnZXQgdGhlIGN1cnJlbnQgbW91c2UgcG9zaXRpb25cbiAgICAgICAgICAgICAgICBsZXQgcmVmID0gY3VycmVudEQzbW91c2UodGhpcyk7XG4gICAgICAgICAgICAgICAgY29uc3QgbXggPSByZWZbMF0sXG4gICAgICAgICAgICAgICAgICAgIG15ID0gcmVmWzFdO1xuXG4gICAgICAgICAgICAgICAgLy8gdXNlIHRoZSBuZXcgZGlhZ3JhbS5maW5kKCkgZnVuY3Rpb24gdG8gZmluZCB0aGUgdm9yb25vaSBzaXRlIGNsb3Nlc3QgdG9cbiAgICAgICAgICAgICAgICAvLyB0aGUgbW91c2UsIGxpbWl0ZWQgYnkgbWF4IGRpc3RhbmNlIGRlZmluZWQgYnkgdm9yb25vaVJhZGl1c1xuICAgICAgICAgICAgICAgIGNvbnN0IHNpdGUgPSBuYVZvcm9ub2lEaWFncmFtLmZpbmQobXgsIG15LCB2b3Jvbm9pUmFkaXVzKTtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwic2l0ZTogXCIgKyBzaXRlLmluZGV4KTtcbiAgICAgICAgICAgICAgICBuYUN1cnJlbnRWb3Jvbm9pID0gZ1Zvcm9ub2kuX2dyb3Vwc1swXVtzaXRlLmluZGV4XTtcbiAgICAgICAgICAgICAgICBuYUN1cnJlbnRWb3Jvbm9pLmNsYXNzTGlzdC5hZGQoXCJoaWdobGlnaHQtdm9yb25vaVwiKTtcbiAgICAgICAgICAgICAgICAvLyBoaWdobGlnaHQgdGhlIHBvaW50IGlmIHdlIGZvdW5kIG9uZSwgb3RoZXJ3aXNlIGhpZGUgdGhlIGhpZ2hsaWdodCBjaXJjbGVcbiAgICAgICAgICAgICAgICAvL25hVm9yb25vaUhpZ2hsaWdodChzaXRlLmRhdGEsIHNpdGUuaW5kZXgpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5vbihcIm1vdXNlb3V0XCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIC8vIGhpZGUgdGhlIGhpZ2hsaWdodCBjaXJjbGUgd2hlbiB0aGUgbW91c2UgbGVhdmVzIHRoZSBjaGFydFxuICAgICAgICAgICAgICAgIC8vbmFWb3Jvbm9pSGlnaGxpZ2h0KG51bGwpO1xuICAgICAgICAgICAgICAgIG5hQ3VycmVudFZvcm9ub2kuY2xhc3NMaXN0LnJlbW92ZShcImhpZ2hsaWdodC12b3Jvbm9pXCIpO1xuICAgICAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gY2FsbGJhY2sgdG8gaGlnaGxpZ2h0IGEgcG9pbnRcbiAgICBmdW5jdGlvbiBuYVZvcm9ub2lIaWdobGlnaHQoZCwgaWQpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJkOiBcIiArIGQpO1xuICAgICAgICAvLyBubyBwb2ludCB0byBoaWdobGlnaHQgLSBoaWRlIHRoZSBjaXJjbGUgYW5kIGNsZWFyIHRoZSB0ZXh0XG4gICAgICAgIGlmICghZCkge1xuICAgICAgICAgICAgZDMuc2VsZWN0KFwiI3BcIiArIGlkKS5hdHRyKFwiclwiLCAxMCk7XG4gICAgICAgICAgICAvLyBvdGhlcndpc2UsIHNob3cgdGhlIGhpZ2hsaWdodCBjaXJjbGUgYXQgdGhlIGNvcnJlY3QgcG9zaXRpb25cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGQzXG4gICAgICAgICAgICAgICAgLnNlbGVjdChcIiNwXCIgKyBpZClcbiAgICAgICAgICAgICAgICAuc3R5bGUoXCJkaXNwbGF5XCIsIFwiXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJyXCIsIDMwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG5hUmVhZHkoZXJyb3IsIG5hTWFwKSB7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBSZWFkIG1hcCBkYXRhXG4gICAgICAgIG5hQ291bnRyaWVzID0gdG9wb2pzb24uZmVhdHVyZShuYU1hcCwgbmFNYXAub2JqZWN0cy5jb3VudHJpZXMpO1xuICAgICAgICBuYVBvcnRzID0gdG9wb2pzb24uZmVhdHVyZShuYU1hcCwgbmFNYXAub2JqZWN0cy5wb3J0cyk7XG5cbiAgICAgICAgbmFTZXR1cFByb2plY3Rpb24oKTtcbiAgICAgICAgbmFTZXR1cENhbnZhcygpO1xuXG4gICAgICAgIG5hRGlzcGxheVRlbGVwb3J0QXJlYXMoKTtcbiAgICAgICAgbmFEaXNwbGF5Q291bnRyaWVzKCk7XG4gICAgICAgIG5hRGlzcGxheVBvcnRzKCk7XG4gICAgfVxuXG4gICAgZDNcbiAgICAgICAgLnF1ZXVlKClcbiAgICAgICAgLmRlZmVyKGQzLmpzb24sIG5hTWFwSnNvbilcbiAgICAgICAgLmF3YWl0KG5hUmVhZHkpO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vanMvbmEtZGlzcGxheS5qcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///133\n");

/***/ })

})
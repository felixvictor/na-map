!function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,e),s.l=!0,s.exports}var i={};e.m=t,e.c=i,e.d=function(t,i,n){e.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:n})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,i){if(1&i&&(t=e(t)),8&i)return t;if(4&i&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(e.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var s in t)e.d(n,s,function(e){return t[e]}.bind(null,s));return n},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=9)}([function(t,e,i){var n=Math.round,s=Math.abs,o=Math.min,a=Math.floor,r=Math.ceil;(function(t){t.exports=function(){"use strict";function e(){return oe.apply(null,arguments)}function i(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function l(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function d(t){return void 0===t}function h(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function c(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function u(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function p(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function f(t,e){for(var i in e)p(e,i)&&(t[i]=e[i]);return p(e,"toString")&&(t.toString=e.toString),p(e,"valueOf")&&(t.valueOf=e.valueOf),t}function m(t,e,i,n){return St(t,e,i,n,!0).utc()}function _(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function g(t){if(null==t._isValid){var e=_(t),i=ae.call(e.parsedDateParts,function(t){return null!=t}),n=!isNaN(t._d.getTime())&&0>e.overflow&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&i);if(t._strict&&(n=n&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return n;t._isValid=n}return t._isValid}function v(t){var e=m(NaN);return null==t?_(e).userInvalidated=!0:f(_(e),t),e}function y(t,e){var i,n,s;if(d(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),d(e._i)||(t._i=e._i),d(e._f)||(t._f=e._f),d(e._l)||(t._l=e._l),d(e._strict)||(t._strict=e._strict),d(e._tzm)||(t._tzm=e._tzm),d(e._isUTC)||(t._isUTC=e._isUTC),d(e._offset)||(t._offset=e._offset),d(e._pf)||(t._pf=_(e)),d(e._locale)||(t._locale=e._locale),0<re.length)for(i=0;i<re.length;i++)n=re[i],d(s=e[n])||(t[n]=s);return t}function b(t){y(this,t),this._d=new Date(null==t._d?NaN:t._d.getTime()),this.isValid()||(this._d=new Date(NaN)),!1===le&&(le=!0,e.updateOffset(this),le=!1)}function w(t){return t instanceof b||null!=t&&null!=t._isAMomentObject}function D(t){return 0>t?r(t)||0:a(t)}function k(t){var e=+t,i=0;return 0!=e&&isFinite(e)&&(i=D(e)),i}function x(t,e,i){var n,a=o(t.length,e.length),r=s(t.length-e.length),l=0;for(n=0;n<a;n++)(i&&t[n]!==e[n]||!i&&k(t[n])!==k(e[n]))&&l++;return l+r}function S(t){!1===e.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function C(t,i){var n=!0;return f(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),n){for(var s,o=[],a=0;a<arguments.length;a++){if(s="","object"==typeof arguments[a]){for(var r in s+="\n["+a+"] ",arguments[0])s+=r+": "+arguments[0][r]+", ";s=s.slice(0,-2)}else s=arguments[a];o.push(s)}S(t+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),n=!1}return i.apply(this,arguments)},i)}function T(t,i){null!=e.deprecationHandler&&e.deprecationHandler(t,i),de[t]||(S(i),de[t]=!0)}function E(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function M(t,e){var i,n=f({},t);for(i in e)p(e,i)&&(l(t[i])&&l(e[i])?(n[i]={},f(n[i],t[i]),f(n[i],e[i])):null==e[i]?delete n[i]:n[i]=e[i]);for(i in t)p(t,i)&&!p(e,i)&&l(t[i])&&(n[i]=f({},n[i]));return n}function I(t){null!=t&&this.set(t)}function A(t,e){var i=t.toLowerCase();ce[i]=ce[i+"s"]=ce[e]=t}function O(t){return"string"==typeof t?ce[t]||ce[t.toLowerCase()]:void 0}function P(t){var e,i,n={};for(i in t)p(t,i)&&(e=O(i))&&(n[e]=t[i]);return n}function N(t,e){ue[t]=e}function L(t,e,i){var n=""+s(t),o=e-n.length;return(0<=t?i?"+":"":"-")+Math.pow(10,Math.max(0,o)).toString().substr(1)+n}function H(t,e,i,n){var s=n;"string"==typeof n&&(s=function(){return this[n]()}),t&&(_e[t]=s),e&&(_e[e[0]]=function(){return L(s.apply(this,arguments),e[1],e[2])}),i&&(_e[i]=function(){return this.localeData().ordinal(s.apply(this,arguments),t)})}function F(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function $(t,e){return t.isValid()?(e=R(e,t.localeData()),me[e]=me[e]||function(t){var e,i,n=t.match(pe);for(e=0,i=n.length;e<i;e++)n[e]=_e[n[e]]?_e[n[e]]:F(n[e]);return function(e){var s,o="";for(s=0;s<i;s++)o+=E(n[s])?n[s].call(e,t):n[s];return o}}(e),me[e](t)):t.localeData().invalidDate()}function R(t,e){function i(t){return e.longDateFormat(t)||t}var n=5;for(fe.lastIndex=0;0<=n&&fe.test(t);)t=t.replace(fe,i),fe.lastIndex=0,n-=1;return t}function Y(t,e,i){Pe[t]=E(e)?e:function(t){return t&&i?i:e}}function z(t,e){return p(Pe,t)?Pe[t](e._strict,e._locale):new RegExp(function(t){return B(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,s){return e||i||n||s}))}(t))}function B(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function V(t,e){var i,n=e;for("string"==typeof t&&(t=[t]),h(e)&&(n=function(t,i){i[e]=k(t)}),i=0;i<t.length;i++)Ne[t[i]]=n}function W(t,e){V(t,function(t,i,n,s){n._w=n._w||{},e(t,n._w,n,s)})}function j(t,e,i){null!=e&&p(Ne,t)&&Ne[t](e,i._a,i,t)}function U(t){return G(t)?366:365}function G(t){return 0==t%4&&0!=t%100||0==t%400}function q(t,i){return function(n){return null==n?Z(this,t):(K(this,t,n),e.updateOffset(this,i),this)}}function Z(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function K(t,e,i){t.isValid()&&!isNaN(i)&&("FullYear"===e&&G(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](i,t.month(),Q(i,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](i))}function Q(t,e){if(isNaN(t)||isNaN(e))return NaN;var i=function(t,e){return(t%e+e)%e}(e,12);return t+=(e-i)/12,1===i?G(t)?29:28:31-i%7%2}function J(t,e){var i;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=k(e);else if(!h(e=t.localeData().monthsParse(e)))return t;return i=o(t.date(),Q(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t}function X(t){return null==t?Z(this,"Month"):(J(this,t),e.updateOffset(this,!0),this)}function tt(){function t(t,e){return e.length-t.length}var e,i,n=[],s=[],o=[];for(e=0;12>e;e++)i=m([2e3,e]),n.push(this.monthsShort(i,"")),s.push(this.months(i,"")),o.push(this.months(i,"")),o.push(this.monthsShort(i,""));for(n.sort(t),s.sort(t),o.sort(t),e=0;12>e;e++)n[e]=B(n[e]),s[e]=B(s[e]);for(e=0;24>e;e++)o[e]=B(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function et(t){var e=new Date(Date.UTC.apply(null,arguments));return 100>t&&0<=t&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function it(t,e,i){var n=7+e-i,s=(7+et(t,0,n).getUTCDay()-e)%7;return-s+n-1}function nt(t,e,i,n,s){var o,a,r=it(t,n,s),l=1+7*(e-1)+(7+i-n)%7+r;return 0>=l?a=U(o=t-1)+l:l>U(t)?(o=t+1,a=l-U(t)):(o=t,a=l),{year:o,dayOfYear:a}}function st(t,e,i){var n,s,o=it(t.year(),e,i),r=a((t.dayOfYear()-o-1)/7)+1;return 1>r?(s=t.year()-1,n=r+ot(s,e,i)):r>ot(t.year(),e,i)?(n=r-ot(t.year(),e,i),s=t.year()+1):(s=t.year(),n=r),{week:n,year:s}}function ot(t,e,i){var n=it(t,e,i),s=it(t+1,e,i);return(U(t)-n+s)/7}function at(){function t(t,e){return e.length-t.length}var e,i,n,s,o,a=[],r=[],l=[],d=[];for(e=0;7>e;e++)i=m([2e3,1]).day(e),n=this.weekdaysMin(i,""),s=this.weekdaysShort(i,""),o=this.weekdays(i,""),a.push(n),r.push(s),l.push(o),d.push(n),d.push(s),d.push(o);for(a.sort(t),r.sort(t),l.sort(t),d.sort(t),e=0;7>e;e++)r[e]=B(r[e]),l[e]=B(l[e]),d[e]=B(d[e]);this._weekdaysRegex=new RegExp("^("+d.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function rt(){return this.hours()%12||12}function lt(t,e){H(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function dt(t,e){return e._meridiemParse}function ht(t){return t?t.toLowerCase().replace("_","-"):t}function ct(e){var i=null;if(!Je[e]&&void 0!==t&&t&&t.exports)try{i=Ze._abbr,function(){var t=new Error("Cannot find module 'undefined'");throw t.code="MODULE_NOT_FOUND",t}(),ut(i)}catch(e){}return Je[e]}function ut(t,e){var i;return t&&((i=d(e)?ft(t):pt(t,e))?Ze=i:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Ze._abbr}function pt(t,e){if(null!==e){var i,n=Qe;if(e.abbr=t,null!=Je[t])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Je[t]._config;else if(null!=e.parentLocale)if(null!=Je[e.parentLocale])n=Je[e.parentLocale]._config;else{if(null==(i=ct(e.parentLocale)))return Xe[e.parentLocale]||(Xe[e.parentLocale]=[]),Xe[e.parentLocale].push({name:t,config:e}),null;n=i._config}return Je[t]=new I(M(n,e)),Xe[t]&&Xe[t].forEach(function(t){pt(t.name,t.config)}),ut(t),Je[t]}return delete Je[t],null}function ft(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Ze;if(!i(t)){if(e=ct(t))return e;t=[t]}return function(t){for(var e,i,n,s,o=0;o<t.length;){for(s=ht(t[o]).split("-"),e=s.length,i=(i=ht(t[o+1]))?i.split("-"):null;0<e;){if(n=ct(s.slice(0,e).join("-")))return n;if(i&&i.length>=e&&x(s,i,!0)>=e-1)break;e--}o++}return Ze}(t)}function mt(t){var e,i=t._a;return i&&-2===_(t).overflow&&(e=0>i[He]||11<i[He]?He:1>i[Fe]||i[Fe]>Q(i[Le],i[He])?Fe:0>i[$e]||24<i[$e]||24===i[$e]&&(0!==i[Re]||0!==i[Ye]||0!==i[ze])?$e:0>i[Re]||59<i[Re]?Re:0>i[Ye]||59<i[Ye]?Ye:0>i[ze]||999<i[ze]?ze:-1,_(t)._overflowDayOfYear&&(e<Le||e>Fe)&&(e=Fe),_(t)._overflowWeeks&&-1===e&&(e=Be),_(t)._overflowWeekday&&-1===e&&(e=Ve),_(t).overflow=e),t}function _t(t,e,i){return null==t?null==e?i:e:t}function gt(t){var i=new Date(e.now());return t._useUTC?[i.getUTCFullYear(),i.getUTCMonth(),i.getUTCDate()]:[i.getFullYear(),i.getMonth(),i.getDate()]}function vt(t){var e,i,n,s,o,a=[];if(!t._d){for(n=gt(t),t._w&&null==t._a[Fe]&&null==t._a[He]&&function(t){var e,i,n,s,o,a,r,l;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)o=1,a=4,i=_t(e.GG,t._a[Le],st(Ct(),1,4).year),n=_t(e.W,1),(1>(s=_t(e.E,1))||7<s)&&(l=!0);else{o=t._locale._week.dow,a=t._locale._week.doy;var d=st(Ct(),o,a);i=_t(e.gg,t._a[Le],d.year),n=_t(e.w,d.week),null==e.d?null==e.e?s=o:(s=e.e+o,(0>e.e||6<e.e)&&(l=!0)):(0>(s=e.d)||6<s)&&(l=!0)}1>n||n>ot(i,o,a)?_(t)._overflowWeeks=!0:null==l?(r=nt(i,n,s,o,a),t._a[Le]=r.year,t._dayOfYear=r.dayOfYear):_(t)._overflowWeekday=!0}(t),null!=t._dayOfYear&&(o=_t(t._a[Le],n[Le]),(t._dayOfYear>U(o)||0===t._dayOfYear)&&(_(t)._overflowDayOfYear=!0),i=et(o,0,t._dayOfYear),t._a[He]=i.getUTCMonth(),t._a[Fe]=i.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=a[e]=n[e];for(;7>e;e++)t._a[e]=a[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[$e]&&0===t._a[Re]&&0===t._a[Ye]&&0===t._a[ze]&&(t._nextDay=!0,t._a[$e]=0),t._d=(t._useUTC?et:function(t,e,i,n,s,o,a){var r=new Date(t,e,i,n,s,o,a);return 100>t&&0<=t&&isFinite(r.getFullYear())&&r.setFullYear(t),r}).apply(null,a),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[$e]=24),t._w&&void 0!==t._w.d&&t._w.d!==s&&(_(t).weekdayMismatch=!0)}}function yt(t){var e,i,n,s,o,a,r=t._i,l=ti.exec(r)||ei.exec(r);if(l){for(_(t).iso=!0,e=0,i=ni.length;e<i;e++)if(ni[e][1].exec(l[1])){s=ni[e][0],n=!1!==ni[e][2];break}if(null==s)return void(t._isValid=!1);if(l[3]){for(e=0,i=si.length;e<i;e++)if(si[e][1].exec(l[3])){o=(l[2]||" ")+si[e][0];break}if(null==o)return void(t._isValid=!1)}if(!n&&null!=o)return void(t._isValid=!1);if(l[4]){if(!ii.exec(l[4]))return void(t._isValid=!1);a="Z"}t._f=s+(o||"")+(a||""),Dt(t)}else t._isValid=!1}function bt(t,e,i,n,s,o){var a=[function(t){var e=parseInt(t,10);return 49>=e?2e3+e:999>=e?1900+e:e}(t),Ge.indexOf(e),parseInt(i,10),parseInt(n,10),parseInt(s,10)];return o&&a.push(parseInt(o,10)),a}function wt(t){var e=ai.exec(function(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}(t._i));if(e){var i=bt(e[4],e[3],e[2],e[5],e[6],e[7]);if(!function(t,e,i){if(t){var n=qe.indexOf(t),s=new Date(e[0],e[1],e[2]).getDay();if(n!==s)return _(i).weekdayMismatch=!0,i._isValid=!1,!1}return!0}(e[1],i,t))return;t._a=i,t._tzm=function(t,e,i){if(t)return ri[t];if(e)return 0;var n=parseInt(i,10),s=n%100;return(n-s)/100*60+s}(e[8],e[9],e[10]),t._d=et.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),_(t).rfc2822=!0}else t._isValid=!1}function Dt(t){if(t._f!==e.ISO_8601)if(t._f!==e.RFC_2822){t._a=[],_(t).empty=!0;var i,n,s,o,a,r=""+t._i,l=r.length,d=0;for(s=R(t._f,t._locale).match(pe)||[],i=0;i<s.length;i++)o=s[i],(n=(r.match(z(o,t))||[])[0])&&(0<(a=r.substr(0,r.indexOf(n))).length&&_(t).unusedInput.push(a),r=r.slice(r.indexOf(n)+n.length),d+=n.length),_e[o]?(n?_(t).empty=!1:_(t).unusedTokens.push(o),j(o,n,t)):t._strict&&!n&&_(t).unusedTokens.push(o);_(t).charsLeftOver=l-d,0<r.length&&_(t).unusedInput.push(r),12>=t._a[$e]&&!0===_(t).bigHour&&0<t._a[$e]&&(_(t).bigHour=void 0),_(t).parsedDateParts=t._a.slice(0),_(t).meridiem=t._meridiem,t._a[$e]=function(t,e,i){var n;return null==i?e:null==t.meridiemHour?null==t.isPM?e:((n=t.isPM(i))&&12>e&&(e+=12),n||12!==e||(e=0),e):t.meridiemHour(e,i)}(t._locale,t._a[$e],t._meridiem),vt(t),mt(t)}else wt(t);else yt(t)}function kt(t){var e=t._i,n=t._f;return t._locale=t._locale||ft(t._l),null===e||void 0===n&&""===e?v({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),w(e)?new b(mt(e)):(c(e)?t._d=e:i(n)?function(t){var e,i,n,s,o;if(0===t._f.length)return _(t).invalidFormat=!0,void(t._d=new Date(NaN));for(s=0;s<t._f.length;s++)o=0,e=y({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[s],Dt(e),g(e)&&(o+=_(e).charsLeftOver,o+=10*_(e).unusedTokens.length,_(e).score=o,(null==n||o<n)&&(n=o,i=e));f(t,i||e)}(t):n?Dt(t):xt(t),g(t)||(t._d=null),t))}function xt(t){var n=t._i;d(n)?t._d=new Date(e.now()):c(n)?t._d=new Date(n.valueOf()):"string"==typeof n?function(t){var i=oi.exec(t._i);null===i?(yt(t),!1===t._isValid&&(delete t._isValid,wt(t),!1===t._isValid&&(delete t._isValid,e.createFromInputFallback(t)))):t._d=new Date(+i[1])}(t):i(n)?(t._a=u(n.slice(0),function(t){return parseInt(t,10)}),vt(t)):l(n)?function(t){if(!t._d){var e=P(t._i);t._a=u([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),vt(t)}}(t):h(n)?t._d=new Date(n):e.createFromInputFallback(t)}function St(t,e,n,s,o){var a={};return(!0===n||!1===n)&&(s=n,n=void 0),(l(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||i(t)&&0===t.length)&&(t=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=o,a._l=n,a._i=t,a._f=e,a._strict=s,function(t){var e=new b(mt(kt(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}(a)}function Ct(t,e,i,n){return St(t,e,i,n,!1)}function Tt(t,e){var n,s;if(1===e.length&&i(e[0])&&(e=e[0]),!e.length)return Ct();for(n=e[0],s=1;s<e.length;++s)(!e[s].isValid()||e[s][t](n))&&(n=e[s]);return n}function Et(t){var e=P(t),i=e.year||0,n=e.quarter||0,s=e.month||0,o=e.week||0,a=e.day||0,r=e.hour||0,l=e.minute||0,d=e.second||0,h=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===We.call(hi,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var i=!1,n=0;n<hi.length;++n)if(t[hi[n]]){if(i)return!1;parseFloat(t[hi[n]])!==k(t[hi[n]])&&(i=!0)}return!0}(e),this._milliseconds=+h+1e3*d+6e4*l+1e3*r*60*60,this._days=+a+7*o,this._months=+s+3*n+12*i,this._data={},this._locale=ft(),this._bubble()}function Mt(t){return t instanceof Et}function It(t){return 0>t?-1*n(-1*t):n(t)}function At(t,e){H(t,0,0,function(){var t=this.utcOffset(),i="+";return 0>t&&(t=-t,i="-"),i+L(~~(t/60),2)+e+L(~~t%60,2)})}function Ot(t,e){var i=(e||"").match(t);if(null===i)return null;var n=i[i.length-1]||[],s=(n+"").match(ci)||["-",0,0],o=60*s[1]+k(s[2]);return 0===o?0:"+"===s[0]?o:-o}function Pt(t,i){var n,s;return i._isUTC?(n=i.clone(),s=(w(t)||c(t)?t.valueOf():Ct(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+s),e.updateOffset(n,!1),n):Ct(t).local()}function Nt(t){return 15*-n(t._d.getTimezoneOffset()/15)}function Lt(){return!!this.isValid()&&this._isUTC&&0===this._offset}function Ht(t,e){var i,n,s,o=t,a=null;return Mt(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:h(t)?(o={},e?o[e]=t:o.milliseconds=t):(a=ui.exec(t))?(i="-"===a[1]?-1:1,o={y:0,d:k(a[Fe])*i,h:k(a[$e])*i,m:k(a[Re])*i,s:k(a[Ye])*i,ms:k(It(1e3*a[ze]))*i}):(a=pi.exec(t))?(i="-"===a[1]?-1:(a[1],1),o={y:Ft(a[2],i),M:Ft(a[3],i),w:Ft(a[4],i),d:Ft(a[5],i),h:Ft(a[6],i),m:Ft(a[7],i),s:Ft(a[8],i)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(s=function(t,e){var i;return t.isValid()&&e.isValid()?(e=Pt(e,t),t.isBefore(e)?i=$t(t,e):((i=$t(e,t)).milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}(Ct(o.from),Ct(o.to)),(o={}).ms=s.milliseconds,o.M=s.months),n=new Et(o),Mt(t)&&p(t,"_locale")&&(n._locale=t._locale),n}function Ft(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function $t(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function Rt(t,e){return function(i,n){var s;return null===n||isNaN(+n)||(T(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=i,i=n,n=s),Yt(this,Ht(i="string"==typeof i?+i:i,n),t),this}}function Yt(t,i,n,s){var o=i._milliseconds,a=It(i._days),r=It(i._months);t.isValid()&&(s=null==s||s,r&&J(t,Z(t,"Month")+r*n),a&&K(t,"Date",Z(t,"Date")+a*n),o&&t._d.setTime(t._d.valueOf()+o*n),s&&e.updateOffset(t,a||r))}function zt(t,e){var i,n,s=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(s,"months");return 0>e-o?(i=t.clone().add(s-1,"months"),n=(e-o)/(o-i)):(i=t.clone().add(s+1,"months"),n=(e-o)/(i-o)),-(s+n)||0}function Bt(t){var e;return void 0===t?this._locale._abbr:(null!=(e=ft(t))&&(this._locale=e),this)}function Vt(){return this._locale}function Wt(t,e){H(0,[t,t.length],0,e)}function jt(t,e,i,n,s){var o;return null==t?st(this,n,s).year:(o=ot(t,n,s),e>o&&(e=o),function(t,e,i,n,s){var o=nt(t,e,i,n,s),a=et(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,t,e,i,n,s))}function Ut(t,e){e[ze]=k(1e3*("0."+t))}function Gt(t){return t}function qt(t,e,i,n){var s=ft(),o=m().set(n,e);return s[i](o,t)}function Zt(t,e,i){if(h(t)&&(e=t,t=void 0),t=t||"",null!=e)return qt(t,e,i,"month");var n,s=[];for(n=0;12>n;n++)s[n]=qt(t,n,i,"month");return s}function Kt(t,e,i,n){"boolean"==typeof t?(h(e)&&(i=e,e=void 0),e=e||""):(i=e=t,t=!1,h(e)&&(i=e,e=void 0),e=e||"");var s=ft(),o=t?s._week.dow:0;if(null!=i)return qt(e,(i+o)%7,n,"day");var a,r=[];for(a=0;7>a;a++)r[a]=qt(e,(a+o)%7,n,"day");return r}function Qt(t,e,i,n){var s=Ht(e,i);return t._milliseconds+=n*s._milliseconds,t._days+=n*s._days,t._months+=n*s._months,t._bubble()}function Jt(t){return 0>t?a(t):r(t)}function Xt(t){return 4800*t/146097}function te(t){return 146097*t/4800}function ee(t){return function(){return this.as(t)}}function ie(t){return function(){return this.isValid()?this._data[t]:NaN}}function ne(t){return(0<t)-(0>t)||+t}function se(){if(!this.isValid())return this.localeData().invalidDate();var t,e,i=Bi(this._milliseconds)/1e3,n=Bi(this._days),s=Bi(this._months);t=D(i/60),e=D(t/60),i%=60,t%=60;var o=D(s/12),a=s%=12,r=n,l=e,d=t,h=i?i.toFixed(3).replace(/\.?0+$/,""):"",c=this.asSeconds();if(!c)return"P0D";var u=0>c?"-":"",p=ne(this._months)===ne(c)?"":"-",f=ne(this._days)===ne(c)?"":"-",m=ne(this._milliseconds)===ne(c)?"":"-";return u+"P"+(o?p+o+"Y":"")+(a?p+a+"M":"")+(r?f+r+"D":"")+(l||d||h?"T":"")+(l?m+l+"H":"")+(d?m+d+"M":"")+(h?m+h+"S":"")}var oe,ae;ae=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),i=e.length>>>0,n=0;n<i;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};var re=e.momentProperties=[],le=!1,de={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var he=Object.keys?Object.keys:function(t){var e,i=[];for(e in t)p(t,e)&&i.push(e);return i},ce={},ue={},pe=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,fe=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,me={},_e={},ge=/\d/,ve=/\d\d/,ye=/\d{3}/,be=/\d{4}/,we=/[+-]?\d{6}/,De=/\d\d?/,ke=/\d\d\d\d?/,xe=/\d\d\d\d\d\d?/,Se=/\d{1,3}/,Ce=/\d{1,4}/,Te=/[+-]?\d{1,6}/,Ee=/\d+/,Me=/[+-]?\d+/,Ie=/Z|[+-]\d\d:?\d\d/gi,Ae=/Z|[+-]\d\d(?::?\d\d)?/gi,Oe=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Pe={},Ne={},Le=0,He=1,Fe=2,$e=3,Re=4,Ye=5,ze=6,Be=7,Ve=8;H("Y",0,0,function(){var t=this.year();return 9999>=t?""+t:"+"+t}),H(0,["YY",2],0,function(){return this.year()%100}),H(0,["YYYY",4],0,"year"),H(0,["YYYYY",5],0,"year"),H(0,["YYYYYY",6,!0],0,"year"),A("year","y"),N("year",1),Y("Y",Me),Y("YY",De,ve),Y("YYYY",Ce,be),Y("YYYYY",Te,we),Y("YYYYYY",Te,we),V(["YYYYY","YYYYYY"],Le),V("YYYY",function(t,i){i[Le]=2===t.length?e.parseTwoDigitYear(t):k(t)}),V("YY",function(t,i){i[Le]=e.parseTwoDigitYear(t)}),V("Y",function(t,e){e[Le]=parseInt(t,10)}),e.parseTwoDigitYear=function(t){return k(t)+(68<k(t)?1900:2e3)};var We,je=q("FullYear",!0);We=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},H("M",["MM",2],"Mo",function(){return this.month()+1}),H("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),H("MMMM",0,0,function(t){return this.localeData().months(this,t)}),A("month","M"),N("month",8),Y("M",De),Y("MM",De,ve),Y("MMM",function(t,e){return e.monthsShortRegex(t)}),Y("MMMM",function(t,e){return e.monthsRegex(t)}),V(["M","MM"],function(t,e){e[He]=k(t)-1}),V(["MMM","MMMM"],function(t,e,i,n){var s=i._locale.monthsParse(t,n,i._strict);null==s?_(i).invalidMonth=t:e[He]=s});var Ue=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ge=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];H("w",["ww",2],"wo","week"),H("W",["WW",2],"Wo","isoWeek"),A("week","w"),A("isoWeek","W"),N("week",5),N("isoWeek",5),Y("w",De),Y("ww",De,ve),Y("W",De),Y("WW",De,ve),W(["w","ww","W","WW"],function(t,e,i,n){e[n.substr(0,1)]=k(t)}),H("d",0,"do","day"),H("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),H("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),H("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),H("e",0,0,"weekday"),H("E",0,0,"isoWeekday"),A("day","d"),A("weekday","e"),A("isoWeekday","E"),N("day",11),N("weekday",11),N("isoWeekday",11),Y("d",De),Y("e",De),Y("E",De),Y("dd",function(t,e){return e.weekdaysMinRegex(t)}),Y("ddd",function(t,e){return e.weekdaysShortRegex(t)}),Y("dddd",function(t,e){return e.weekdaysRegex(t)}),W(["dd","ddd","dddd"],function(t,e,i,n){var s=i._locale.weekdaysParse(t,n,i._strict);null==s?_(i).invalidWeekday=t:e.d=s}),W(["d","e","E"],function(t,e,i,n){e[n]=k(t)});var qe=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];H("H",["HH",2],0,"hour"),H("h",["hh",2],0,rt),H("k",["kk",2],0,function(){return this.hours()||24}),H("hmm",0,0,function(){return""+rt.apply(this)+L(this.minutes(),2)}),H("hmmss",0,0,function(){return""+rt.apply(this)+L(this.minutes(),2)+L(this.seconds(),2)}),H("Hmm",0,0,function(){return""+this.hours()+L(this.minutes(),2)}),H("Hmmss",0,0,function(){return""+this.hours()+L(this.minutes(),2)+L(this.seconds(),2)}),lt("a",!0),lt("A",!1),A("hour","h"),N("hour",13),Y("a",dt),Y("A",dt),Y("H",De),Y("h",De),Y("k",De),Y("HH",De,ve),Y("hh",De,ve),Y("kk",De,ve),Y("hmm",ke),Y("hmmss",xe),Y("Hmm",ke),Y("Hmmss",xe),V(["H","HH"],$e),V(["k","kk"],function(t,e){var i=k(t);e[$e]=24===i?0:i}),V(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),V(["h","hh"],function(t,e,i){e[$e]=k(t),_(i).bigHour=!0}),V("hmm",function(t,e,i){var n=t.length-2;e[$e]=k(t.substr(0,n)),e[Re]=k(t.substr(n)),_(i).bigHour=!0}),V("hmmss",function(t,e,i){var n=t.length-4,s=t.length-2;e[$e]=k(t.substr(0,n)),e[Re]=k(t.substr(n,2)),e[Ye]=k(t.substr(s)),_(i).bigHour=!0}),V("Hmm",function(t,e){var i=t.length-2;e[$e]=k(t.substr(0,i)),e[Re]=k(t.substr(i))}),V("Hmmss",function(t,e){var i=t.length-4,n=t.length-2;e[$e]=k(t.substr(0,i)),e[Re]=k(t.substr(i,2)),e[Ye]=k(t.substr(n))});var Ze,Ke=q("Hours",!0),Qe={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:Ge,week:{dow:0,doy:6},weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekdaysShort:qe,meridiemParse:/[ap]\.?m?\.?/i},Je={},Xe={},ti=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ei=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ii=/Z|[+-]\d\d(?::?\d\d)?/,ni=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],si=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],oi=/^\/?Date\((\-?\d+)/i,ai=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,ri={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};e.createFromInputFallback=C("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){};var li=C("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ct.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:v()}),di=C("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ct.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:v()}),hi=["year","quarter","month","week","day","hour","minute","second","millisecond"];At("Z",":"),At("ZZ",""),Y("Z",Ae),Y("ZZ",Ae),V(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=Ot(Ae,t)});var ci=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var ui=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,pi=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Ht.fn=Et.prototype,Ht.invalid=function(){return Ht(NaN)};var fi=Rt(1,"add"),mi=Rt(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var _i=C("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});H(0,["gg",2],0,function(){return this.weekYear()%100}),H(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Wt("gggg","weekYear"),Wt("ggggg","weekYear"),Wt("GGGG","isoWeekYear"),Wt("GGGGG","isoWeekYear"),A("weekYear","gg"),A("isoWeekYear","GG"),N("weekYear",1),N("isoWeekYear",1),Y("G",Me),Y("g",Me),Y("GG",De,ve),Y("gg",De,ve),Y("GGGG",Ce,be),Y("gggg",Ce,be),Y("GGGGG",Te,we),Y("ggggg",Te,we),W(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,n){e[n.substr(0,2)]=k(t)}),W(["gg","GG"],function(t,i,n,s){i[s]=e.parseTwoDigitYear(t)}),H("Q",0,"Qo","quarter"),A("quarter","Q"),N("quarter",7),Y("Q",ge),V("Q",function(t,e){e[He]=3*(k(t)-1)}),H("D",["DD",2],"Do","date"),A("date","D"),N("date",9),Y("D",De),Y("DD",De,ve),Y("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),V(["D","DD"],Fe),V("Do",function(t,e){e[Fe]=k(t.match(De)[0])});var gi=q("Date",!0);H("DDD",["DDDD",3],"DDDo","dayOfYear"),A("dayOfYear","DDD"),N("dayOfYear",4),Y("DDD",Se),Y("DDDD",ye),V(["DDD","DDDD"],function(t,e,i){i._dayOfYear=k(t)}),H("m",["mm",2],0,"minute"),A("minute","m"),N("minute",14),Y("m",De),Y("mm",De,ve),V(["m","mm"],Re);var vi=q("Minutes",!1);H("s",["ss",2],0,"second"),A("second","s"),N("second",15),Y("s",De),Y("ss",De,ve),V(["s","ss"],Ye);var yi,bi=q("Seconds",!1);for(H("S",0,0,function(){return~~(this.millisecond()/100)}),H(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),H(0,["SSS",3],0,"millisecond"),H(0,["SSSS",4],0,function(){return 10*this.millisecond()}),H(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),H(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),H(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),H(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),H(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),A("millisecond","ms"),N("millisecond",16),Y("S",Se,ge),Y("SS",Se,ve),Y("SSS",Se,ye),yi="SSSS";9>=yi.length;yi+="S")Y(yi,Ee);for(yi="S";9>=yi.length;yi+="S")V(yi,Ut);var wi=q("Milliseconds",!1);H("z",0,0,"zoneAbbr"),H("zz",0,0,"zoneName");var Di=b.prototype;Di.add=fi,Di.calendar=function(t,i){var n=t||Ct(),s=Pt(n,this).startOf("day"),o=e.calendarFormat(this,s)||"sameElse",a=i&&(E(i[o])?i[o].call(this,n):i[o]);return this.format(a||this.localeData().calendar(o,this,Ct(n)))},Di.clone=function(){return new b(this)},Di.diff=function(t,e,i){var n,s,o;return this.isValid()&&(n=Pt(t,this)).isValid()?(s=6e4*(n.utcOffset()-this.utcOffset()),e=O(e),o="year"===e?zt(this,n)/12:"month"===e?zt(this,n):"quarter"===e?zt(this,n)/3:"second"===e?(this-n)/1e3:"minute"===e?(this-n)/6e4:"hour"===e?(this-n)/36e5:"day"===e?(this-n-s)/864e5:"week"===e?(this-n-s)/6048e5:this-n,i?o:D(o)):NaN},Di.endOf=function(t){return void 0===(t=O(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))},Di.format=function(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var i=$(this,t);return this.localeData().postformat(i)},Di.from=function(t,e){return this.isValid()&&(w(t)&&t.isValid()||Ct(t).isValid())?Ht({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},Di.fromNow=function(t){return this.from(Ct(),t)},Di.to=function(t,e){return this.isValid()&&(w(t)&&t.isValid()||Ct(t).isValid())?Ht({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},Di.toNow=function(t){return this.to(Ct(),t)},Di.get=function(t){return E(this[t=O(t)])?this[t]():this},Di.invalidAt=function(){return _(this).overflow},Di.isAfter=function(t,e){var i=w(t)?t:Ct(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=O(d(e)?"millisecond":e))?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf())},Di.isBefore=function(t,e){var i=w(t)?t:Ct(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=O(d(e)?"millisecond":e))?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf())},Di.isBetween=function(t,e,i,n){return("("===(n=n||"()")[0]?this.isAfter(t,i):!this.isBefore(t,i))&&(")"===n[1]?this.isBefore(e,i):!this.isAfter(e,i))},Di.isSame=function(t,e){var i,n=w(t)?t:Ct(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=O(e||"millisecond"))?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf()))},Di.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},Di.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},Di.isValid=function(){return g(this)},Di.lang=_i,Di.locale=Bt,Di.localeData=Vt,Di.max=di,Di.min=li,Di.parsingFlags=function(){return f({},_(this))},Di.set=function(t,e){if("object"==typeof t)for(var i=function(t){var e=[];for(var i in t)e.push({unit:i,priority:ue[i]});return e.sort(function(t,e){return t.priority-e.priority}),e}(t=P(t)),n=0;n<i.length;n++)this[i[n].unit](t[i[n].unit]);else if(E(this[t=O(t)]))return this[t](e);return this},Di.startOf=function(t){switch(t=O(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*a(this.month()/3)),this},Di.subtract=mi,Di.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},Di.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},Di.toDate=function(){return new Date(this.valueOf())},Di.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,i=e?this.clone().utc():this;return 0>i.year()||9999<i.year()?$(i,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):E(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",$(i,"Z")):$(i,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Di.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var i="["+t+'("]',n=0<=this.year()&&9999>=this.year()?"YYYY":"YYYYYY",s=e+'[")]';return this.format(i+n+"-MM-DD[T]HH:mm:ss.SSS"+s)},Di.toJSON=function(){return this.isValid()?this.toISOString():null},Di.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Di.unix=function(){return a(this.valueOf()/1e3)},Di.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Di.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Di.year=je,Di.isLeapYear=function(){return G(this.year())},Di.weekYear=function(t){return jt.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Di.isoWeekYear=function(t){return jt.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},Di.quarter=Di.quarters=function(t){return null==t?r((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},Di.month=X,Di.daysInMonth=function(){return Q(this.year(),this.month())},Di.week=Di.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},Di.isoWeek=Di.isoWeeks=function(t){var e=st(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},Di.weeksInYear=function(){var t=this.localeData()._week;return ot(this.year(),t.dow,t.doy)},Di.isoWeeksInYear=function(){return ot(this.year(),1,4)},Di.date=gi,Di.day=Di.days=function(t){if(!this.isValid())return null==t?NaN:this;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null==t?e:(t=function(t,e){return"string"==typeof t?isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10):t}(t,this.localeData()),this.add(t-e,"d"))},Di.weekday=function(t){if(!this.isValid())return null==t?NaN:this;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},Di.isoWeekday=function(t){if(!this.isValid())return null==t?NaN:this;if(null!=t){var e=function(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},Di.dayOfYear=function(t){var e=n((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},Di.hour=Di.hours=Ke,Di.minute=Di.minutes=vi,Di.second=Di.seconds=bi,Di.millisecond=Di.milliseconds=wi,Di.utcOffset=function(t,i,n){var o,a=this._offset||0;if(!this.isValid())return null==t?NaN:this;if(null!=t){if("string"!=typeof t)16>s(t)&&!n&&(t*=60);else if(null===(t=Ot(Ae,t)))return this;return!this._isUTC&&i&&(o=Nt(this)),this._offset=t,this._isUTC=!0,null!=o&&this.add(o,"m"),a!==t&&(!i||this._changeInProgress?Yt(this,Ht(t-a,"m"),1,!1):!this._changeInProgress&&(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?a:Nt(this)},Di.utc=function(t){return this.utcOffset(0,t)},Di.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Nt(this),"m")),this},Di.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Ot(Ie,this._i);null==t?this.utcOffset(0,!0):this.utcOffset(t)}return this},Di.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?Ct(t).utcOffset():0,0==(this.utcOffset()-t)%60)},Di.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Di.isLocal=function(){return!!this.isValid()&&!this._isUTC},Di.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Di.isUtc=Lt,Di.isUTC=Lt,Di.zoneAbbr=function(){return this._isUTC?"UTC":""},Di.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Di.dates=C("dates accessor is deprecated. Use date instead.",gi),Di.months=C("months accessor is deprecated. Use month instead",X),Di.years=C("years accessor is deprecated. Use year instead",je),Di.zone=C("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null==t?-this.utcOffset():("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this)}),Di.isDSTShifted=C("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!d(this._isDSTShifted))return this._isDSTShifted;var t={};if(y(t,this),(t=kt(t))._a){var e=t._isUTC?m(t._a):Ct(t._a);this._isDSTShifted=this.isValid()&&0<x(t._a,e.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted});var ki=I.prototype;ki.calendar=function(t,e,i){var n=this._calendar[t]||this._calendar.sameElse;return E(n)?n.call(e,i):n},ki.longDateFormat=function(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},ki.invalidDate=function(){return this._invalidDate},ki.ordinal=function(t){return this._ordinal.replace("%d",t)},ki.preparse=Gt,ki.postformat=Gt,ki.relativeTime=function(t,e,i,n){var s=this._relativeTime[i];return E(s)?s(t,e,i,n):s.replace(/%d/i,t)},ki.pastFuture=function(t,e){var i=this._relativeTime[0<t?"future":"past"];return E(i)?i(e):i.replace(/%s/i,e)},ki.set=function(t){var e,i;for(i in t)E(e=t[i])?this[i]=e:this["_"+i]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},ki.months=function(t,e){return t?i(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Ue).test(e)?"format":"standalone"][t.month()]:i(this._months)?this._months:this._months.standalone},ki.monthsShort=function(t,e){return t?i(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Ue.test(e)?"format":"standalone"][t.month()]:i(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},ki.monthsParse=function(t,e,i){var n,s,o;if(this._monthsParseExact)return function(t,e,i){var n,s,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;12>n;++n)o=m([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(o,"").toLocaleLowerCase();return i?"MMM"===e?-1===(s=We.call(this._shortMonthsParse,a))?null:s:-1===(s=We.call(this._longMonthsParse,a))?null:s:"MMM"===e?-1!==(s=We.call(this._shortMonthsParse,a))?s:-1===(s=We.call(this._longMonthsParse,a))?null:s:-1!==(s=We.call(this._longMonthsParse,a))?s:-1===(s=We.call(this._shortMonthsParse,a))?null:s}.call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;12>n;n++){if(s=m([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(o="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[n]=new RegExp(o.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}},ki.monthsRegex=function(t){return this._monthsParseExact?(p(this,"_monthsRegex")||tt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(p(this,"_monthsRegex")||(this._monthsRegex=Oe),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},ki.monthsShortRegex=function(t){return this._monthsParseExact?(p(this,"_monthsRegex")||tt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(p(this,"_monthsShortRegex")||(this._monthsShortRegex=Oe),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},ki.week=function(t){return st(t,this._week.dow,this._week.doy).week},ki.firstDayOfYear=function(){return this._week.doy},ki.firstDayOfWeek=function(){return this._week.dow},ki.weekdays=function(t,e){return t?i(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:i(this._weekdays)?this._weekdays:this._weekdays.standalone},ki.weekdaysMin=function(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin},ki.weekdaysShort=function(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort},ki.weekdaysParse=function(t,e,i){var n,s,o;if(this._weekdaysParseExact)return function(t,e,i){var n,s,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;7>n;++n)o=m([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(o,"").toLocaleLowerCase();return i?"dddd"===e?-1===(s=We.call(this._weekdaysParse,a))?null:s:"ddd"===e?-1===(s=We.call(this._shortWeekdaysParse,a))?null:s:-1===(s=We.call(this._minWeekdaysParse,a))?null:s:"dddd"===e?-1!==(s=We.call(this._weekdaysParse,a))?s:-1!==(s=We.call(this._shortWeekdaysParse,a))?s:-1===(s=We.call(this._minWeekdaysParse,a))?null:s:"ddd"===e?-1!==(s=We.call(this._shortWeekdaysParse,a))?s:-1!==(s=We.call(this._weekdaysParse,a))?s:-1===(s=We.call(this._minWeekdaysParse,a))?null:s:-1!==(s=We.call(this._minWeekdaysParse,a))?s:-1!==(s=We.call(this._weekdaysParse,a))?s:-1===(s=We.call(this._shortWeekdaysParse,a))?null:s}.call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;7>n;n++){if(s=m([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(o="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[n]=new RegExp(o.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(i&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(i&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!i&&this._weekdaysParse[n].test(t))return n}},ki.weekdaysRegex=function(t){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||at.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(p(this,"_weekdaysRegex")||(this._weekdaysRegex=Oe),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},ki.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||at.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(p(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Oe),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},ki.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(p(this,"_weekdaysRegex")||at.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(p(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Oe),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},ki.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},ki.meridiem=function(t,e,i){return 11<t?i?"pm":"PM":i?"am":"AM"},ut("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,i=1===k(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th";return t+i}}),e.lang=C("moment.lang is deprecated. Use moment.locale instead.",ut),e.langData=C("moment.langData is deprecated. Use moment.localeData instead.",ft);var xi=s,Si=ee("ms"),Ci=ee("s"),Ti=ee("m"),Ei=ee("h"),Mi=ee("d"),Ii=ee("w"),Ai=ee("M"),Oi=ee("y"),Pi=ie("milliseconds"),Ni=ie("seconds"),Li=ie("minutes"),Hi=ie("hours"),Fi=ie("days"),$i=ie("months"),Ri=ie("years"),Yi=n,zi={ss:44,s:45,m:45,h:22,d:26,M:11},Bi=s,Vi=Et.prototype;return Vi.isValid=function(){return this._isValid},Vi.abs=function(){var t=this._data;return this._milliseconds=xi(this._milliseconds),this._days=xi(this._days),this._months=xi(this._months),t.milliseconds=xi(t.milliseconds),t.seconds=xi(t.seconds),t.minutes=xi(t.minutes),t.hours=xi(t.hours),t.months=xi(t.months),t.years=xi(t.years),this},Vi.add=function(t,e){return Qt(this,t,e,1)},Vi.subtract=function(t,e){return Qt(this,t,e,-1)},Vi.as=function(t){if(!this.isValid())return NaN;var e,i,s=this._milliseconds;if("month"===(t=O(t))||"year"===t)return e=this._days+s/864e5,i=this._months+Xt(e),"month"===t?i:i/12;switch(e=this._days+n(te(this._months)),t){case"week":return e/7+s/6048e5;case"day":return e+s/864e5;case"hour":return 24*e+s/36e5;case"minute":return 1440*e+s/6e4;case"second":return 86400*e+s/1e3;case"millisecond":return a(864e5*e)+s;default:throw new Error("Unknown unit "+t)}},Vi.asMilliseconds=Si,Vi.asSeconds=Ci,Vi.asMinutes=Ti,Vi.asHours=Ei,Vi.asDays=Mi,Vi.asWeeks=Ii,Vi.asMonths=Ai,Vi.asYears=Oi,Vi.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*k(this._months/12):NaN},Vi._bubble=function(){var t,e,i,n,s,o=this._milliseconds,a=this._days,r=this._months,l=this._data;return 0<=o&&0<=a&&0<=r||0>=o&&0>=a&&0>=r||(o+=864e5*Jt(te(r)+a),a=0,r=0),l.milliseconds=o%1e3,t=D(o/1e3),l.seconds=t%60,e=D(t/60),l.minutes=e%60,i=D(e/60),l.hours=i%24,a+=D(i/24),s=D(Xt(a)),r+=s,a-=Jt(te(s)),n=D(r/12),r%=12,l.days=a,l.months=r,l.years=n,this},Vi.clone=function(){return Ht(this)},Vi.get=function(t){return t=O(t),this.isValid()?this[t+"s"]():NaN},Vi.milliseconds=Pi,Vi.seconds=Ni,Vi.minutes=Li,Vi.hours=Hi,Vi.days=Fi,Vi.weeks=function(){return D(this.days()/7)},Vi.months=$i,Vi.years=Ri,Vi.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),i=function(t,e,i){var n=Ht(t).abs(),s=Yi(n.as("s")),o=Yi(n.as("m")),a=Yi(n.as("h")),r=Yi(n.as("d")),l=Yi(n.as("M")),d=Yi(n.as("y")),h=s<=zi.ss&&["s",s]||s<zi.s&&["ss",s]||1>=o&&["m"]||o<zi.m&&["mm",o]||1>=a&&["h"]||a<zi.h&&["hh",a]||1>=r&&["d"]||r<zi.d&&["dd",r]||1>=l&&["M"]||l<zi.M&&["MM",l]||1>=d&&["y"]||["yy",d];return h[2]=e,h[3]=0<+t,h[4]=i,function(t,e,i,n,s){return s.relativeTime(e||1,!!i,t,n)}.apply(null,h)}(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)},Vi.toISOString=se,Vi.toString=se,Vi.toJSON=se,Vi.locale=Bt,Vi.localeData=Vt,Vi.toIsoString=C("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",se),Vi.lang=_i,H("X",0,0,"unix"),H("x",0,0,"valueOf"),Y("x",Me),Y("X",/[+-]?\d+(\.\d{1,3})?/),V("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),V("x",function(t,e,i){i._d=new Date(k(t))}),e.version="2.22.2",function(t){oe=t}(Ct),e.fn=Di,e.min=function(){var t=[].slice.call(arguments,0);return Tt("isBefore",t)},e.max=function(){var t=[].slice.call(arguments,0);return Tt("isAfter",t)},e.now=function(){return Date.now?Date.now():+new Date},e.utc=m,e.unix=function(t){return Ct(1e3*t)},e.months=function(t,e){return Zt(t,e,"months")},e.isDate=c,e.locale=ut,e.invalid=v,e.duration=Ht,e.isMoment=w,e.weekdays=function(t,e,i){return Kt(t,e,i,"weekdays")},e.parseZone=function(){return Ct.apply(null,arguments).parseZone()},e.localeData=ft,e.isDuration=Mt,e.monthsShort=function(t,e){return Zt(t,e,"monthsShort")},e.weekdaysMin=function(t,e,i){return Kt(t,e,i,"weekdaysMin")},e.defineLocale=pt,e.updateLocale=function(t,e){if(null!=e){var i,n,s=Qe;null!=(n=ct(t))&&(s=n._config),e=M(s,e),(i=new I(e)).parentLocale=Je[t],Je[t]=i,ut(t)}else null!=Je[t]&&(null==Je[t].parentLocale?null!=Je[t]&&delete Je[t]:Je[t]=Je[t].parentLocale);return Je[t]},e.locales=function(){return he(Je)},e.weekdaysShort=function(t,e,i){return Kt(t,e,i,"weekdaysShort")},e.normalizeUnits=O,e.relativeTimeRounding=function(t){return void 0===t?Yi:"function"==typeof t&&(Yi=t,!0)},e.relativeTimeThreshold=function(t,e){return void 0!==zi[t]&&(void 0===e?zi[t]:(zi[t]=e,"s"===t&&(zi.ss=e-1),!0))},e.calendarFormat=function(t,e){var i=t.diff(e,"days",!0);return-6>i?"sameElse":-1>i?"lastWeek":0>i?"lastDay":1>i?"sameDay":2>i?"nextDay":7>i?"nextWeek":"sameElse"},e.prototype=Di,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},e}()}).call(this,i(15)(t))},function(t,e,i){var n,s;!function(o){void 0!==(s="function"==typeof(n=o)?n.call(e,i,e,t):n)&&(t.exports=s),t.exports=o()}(function(){function t(){for(var t=0,e={};t<arguments.length;t++){var i=arguments[t];for(var n in i)e[n]=i[n]}return e}return function e(i){function n(e,s,o){var a;if("undefined"!=typeof document){if(1<arguments.length){if("number"==typeof(o=t({path:"/"},n.defaults,o)).expires){var r=new Date;r.setMilliseconds(r.getMilliseconds()+864e5*o.expires),o.expires=r}o.expires=o.expires?o.expires.toUTCString():"";try{a=JSON.stringify(s),/^[\{\[]/.test(a)&&(s=a)}catch(e){}s=i.write?i.write(s,e):encodeURIComponent(s+"").replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(e+"")).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape);var l="";for(var d in o)o[d]&&(l+="; "+d,!0!==o[d])&&(l+="="+o[d]);return document.cookie=e+"="+s+l}e||(a={});for(var h=document.cookie?document.cookie.split("; "):[],c=/(%[0-9A-Z]{2})+/g,u=0;u<h.length;u++){var p=h[u].split("="),f=p.slice(1).join("=");this.json||'"'!==f.charAt(0)||(f=f.slice(1,-1));try{var m=p[0].replace(c,decodeURIComponent);if(f=i.read?i.read(f,m):i(f,m)||f.replace(c,decodeURIComponent),this.json)try{f=JSON.parse(f)}catch(e){}if(e===m){a=f;break}e||(a[m]=f)}catch(e){}}return a}}return n.set=n,n.get=function(t){return n.call(n,t)},n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(e,i){n(e,"",t(i,{expires:-1}))},n.withConverter=e,n}(function(){})})},function(t,e,i){!function(t){"use strict";t.defineLocale("en-gb",{months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"],longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function(t){var e=t%10,i=1==~~(t%100/10)?"th":1==e?"st":2==e?"nd":3==e?"rd":"th";return t+i},week:{dow:1,doy:4}})}(i(0))},function(t){var e=function(t){function e(t){return{}.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase()}function i(e){var i=this,n=!1;return t(this).one(s.TRANSITION_END,function(){n=!0}),setTimeout(function(){n||s.triggerTransitionEnd(i)},e),this}var n="transitionend",s={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");e&&"#"!==e||(e=t.getAttribute("href")||"");try{return document.querySelector(e)?e:null}catch(t){return null}},getTransitionDurationFromElement:function(e){if(!e)return 0;var i=t(e).css("transition-duration");return parseFloat(i)?(i=i.split(",")[0],1e3*parseFloat(i)):0},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(e){t(e).trigger(n)},supportsTransitionEnd:function(){return!!n},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,i,n){for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o)){var a=n[o],r=i[o],l=r&&s.isElement(r)?"element":e(r);if(!new RegExp(a).test(l))throw new Error(t.toUpperCase()+': Option "'+o+'" provided type "'+l+'" but expected type "'+a+'".')}}};return t.fn.emulateTransitionEnd=i,t.event.special[s.TRANSITION_END]={bindType:n,delegateType:n,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}},s}($);t.exports=e},function(){!function(t){function e(t){return{}.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase()}function i(e){var i=this,n=!1;return t(this).one(s.TRANSITION_END,function(){n=!0}),setTimeout(function(){n||s.triggerTransitionEnd(i)},e),this}var n="transitionend",s={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");e&&"#"!==e||(e=t.getAttribute("href")||"");try{return document.querySelector(e)?e:null}catch(t){return null}},getTransitionDurationFromElement:function(e){if(!e)return 0;var i=t(e).css("transition-duration");return parseFloat(i)?(i=i.split(",")[0],1e3*parseFloat(i)):0},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(e){t(e).trigger(n)},supportsTransitionEnd:function(){return!!n},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,i,n){for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o)){var a=n[o],r=i[o],l=r&&s.isElement(r)?"element":e(r);if(!new RegExp(a).test(l))throw new Error(t.toUpperCase()+': Option "'+o+'" provided type "'+l+'" but expected type "'+a+'".')}}};t.fn.emulateTransitionEnd=i,t.event.special[s.TRANSITION_END]={bindType:n,delegateType:n,handle:function(e){return t(e.target).is(this)?e.handleObj.handler.apply(this,arguments):void 0}}}($)},function(t,e,i){"use strict";var n=Math.round,s=Math.max,o=Math.min,a=Math.floor;i.r(e),function(t){function i(t){return t&&"[object Function]"==={}.toString.call(t)}function r(t,e){if(1!==t.nodeType)return[];var i=getComputedStyle(t,null);return e?i[e]:i}function l(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function d(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=r(t),i=e.overflow,n=e.overflowX,s=e.overflowY;return/(auto|scroll|overlay)/.test(i+s+n)?t:d(l(t))}function h(t){return 11===t?q:10===t?Z:q||Z}function c(t){if(!t)return document.documentElement;for(var e=h(10)?document.body:null,i=t.offsetParent;i===e&&t.nextElementSibling;)i=(t=t.nextElementSibling).offsetParent;var n=i&&i.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TD","TABLE"].indexOf(i.nodeName)&&"static"===r(i,"position")?c(i):i:t?t.ownerDocument.documentElement:document.documentElement}function u(t){return null===t.parentNode?t:u(t.parentNode)}function p(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var i=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,n=i?t:e,s=i?e:t,o=document.createRange();o.setStart(n,0),o.setEnd(s,0);var a=o.commonAncestorContainer;if(t!==a&&e!==a||n.contains(s))return function(t){var e=t.nodeName;return"BODY"!==e&&("HTML"===e||c(t.firstElementChild)===t)}(a)?a:c(a);var r=u(t);return r.host?p(r.host,e):p(t,u(e).host)}function f(t){var e="top"===(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",i=t.nodeName;if("BODY"===i||"HTML"===i){var n=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||n)[e]}return t[e]}function m(t,e){var i=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],n=f(e,"top"),s=f(e,"left"),o=i?-1:1;return t.top+=n*o,t.bottom+=n*o,t.left+=s*o,t.right+=s*o,t}function _(t,e){var i="x"===e?"Left":"Top",n="Left"===i?"Right":"Bottom";return parseFloat(t["border"+i+"Width"],10)+parseFloat(t["border"+n+"Width"],10)}function g(t,e,i,n){return s(e["offset"+t],e["scroll"+t],i["client"+t],i["offset"+t],i["scroll"+t],h(10)?i["offset"+t]+n["margin"+("Height"===t?"Top":"Left")]+n["margin"+("Height"===t?"Bottom":"Right")]:0)}function v(){var t=document.body,e=document.documentElement,i=h(10)&&getComputedStyle(e);return{height:g("Height",t,e,i),width:g("Width",t,e,i)}}function y(t){return X({},t,{right:t.left+t.width,bottom:t.top+t.height})}function b(t){var e={};try{if(h(10)){e=t.getBoundingClientRect();var i=f(t,"top"),n=f(t,"left");e.top+=i,e.left+=n,e.bottom+=i,e.right+=n}else e=t.getBoundingClientRect()}catch(e){}var s={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o="HTML"===t.nodeName?v():{},a=o.width||t.clientWidth||s.right-s.left,l=o.height||t.clientHeight||s.bottom-s.top,d=t.offsetWidth-a,c=t.offsetHeight-l;if(d||c){var u=r(t);d-=_(u,"x"),c-=_(u,"y"),s.width-=d,s.height-=c}return y(s)}function w(t,e){var i=!!(2<arguments.length&&void 0!==arguments[2])&&arguments[2],n=h(10),o="HTML"===e.nodeName,a=b(t),l=b(e),c=d(t),u=r(e),p=parseFloat(u.borderTopWidth,10),f=parseFloat(u.borderLeftWidth,10);i&&"HTML"===e.nodeName&&(l.top=s(l.top,0),l.left=s(l.left,0));var _=y({top:a.top-l.top-p,left:a.left-l.left-f,width:a.width,height:a.height});if(_.marginTop=0,_.marginLeft=0,!n&&o){var g=parseFloat(u.marginTop,10),v=parseFloat(u.marginLeft,10);_.top-=p-g,_.bottom-=p-g,_.left-=f-v,_.right-=f-v,_.marginTop=g,_.marginLeft=v}return(n&&!i?e.contains(c):e===c&&"BODY"!==c.nodeName)&&(_=m(_,e)),_}function D(t){var e=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],i=t.ownerDocument.documentElement,n=w(t,i),o=s(i.clientWidth,window.innerWidth||0),a=s(i.clientHeight,window.innerHeight||0),r=e?0:f(i),l=e?0:f(i,"left");return y({top:r-n.top+n.marginTop,left:l-n.left+n.marginLeft,width:o,height:a})}function k(t){var e=t.nodeName;return"BODY"!==e&&"HTML"!==e&&(!("fixed"!==r(t,"position"))||k(l(t)))}function x(t){if(!t||!t.parentElement||h())return document.documentElement;for(var e=t.parentElement;e&&"none"===r(e,"transform");)e=e.parentElement;return e||document.documentElement}function S(t,e,i,n){var s=!!(4<arguments.length&&void 0!==arguments[4])&&arguments[4],o={top:0,left:0},a=s?x(t):p(t,e);if("viewport"===n)o=D(a,s);else{var r;"scrollParent"===n?"BODY"===(r=d(l(e))).nodeName&&(r=t.ownerDocument.documentElement):r="window"===n?t.ownerDocument.documentElement:n;var h=w(r,a,s);if("HTML"!==r.nodeName||k(a))o=h;else{var c=v(),u=c.height,f=c.width;o.top+=h.top-h.marginTop,o.bottom=u+h.top,o.left+=h.left-h.marginLeft,o.right=f+h.left}}return o.left+=i,o.top+=i,o.right-=i,o.bottom-=i,o}function C(t,e,i,n,s){var o=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var a=S(i,n,o,s),r={top:{width:a.width,height:e.top-a.top},right:{width:a.right-e.right,height:a.height},bottom:{width:a.width,height:a.bottom-e.bottom},left:{width:e.left-a.left,height:a.height}},l=Object.keys(r).map(function(t){return X({key:t},r[t],{area:function(t){return t.width*t.height}(r[t])})}).sort(function(t,e){return e.area-t.area}),d=l.filter(function(t){var e=t.width,n=t.height;return e>=i.clientWidth&&n>=i.clientHeight}),h=0<d.length?d[0].key:l[0].key,c=t.split("-")[1];return h+(c?"-"+c:"")}function T(t,e,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return w(i,n?x(e):p(e,i),n)}function E(t){var e=getComputedStyle(t),i=parseFloat(e.marginTop)+parseFloat(e.marginBottom),n=parseFloat(e.marginLeft)+parseFloat(e.marginRight);return{width:t.offsetWidth+n,height:t.offsetHeight+i}}function M(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function I(t,e,i){i=i.split("-")[0];var n=E(t),s={width:n.width,height:n.height},o=-1!==["right","left"].indexOf(i),a=o?"top":"left",r=o?"left":"top",l=o?"height":"width",d=o?"width":"height";return s[a]=e[a]+e[l]/2-n[l]/2,s[r]=i===r?e[r]-n[d]:e[M(r)],s}function A(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function O(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,i){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===i});var n=A(t,function(t){return t[e]===i});return t.indexOf(n)}(t,"name",n))).forEach(function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&i(n)&&(e.offsets.popper=y(e.offsets.popper),e.offsets.reference=y(e.offsets.reference),e=n(e,t))}),e}function P(t,e){return t.some(function(t){var i=t.name;return t.enabled&&i===e})}function N(t){for(var e=[!1,"ms","Webkit","Moz","O"],i=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<e.length;n++){var s=e[n],o=s?""+s+i:t;if(void 0!==document.body.style[o])return o}return null}function L(t){var e=t.ownerDocument;return e?e.defaultView:window}function H(t,e,i,n){i.updateBound=n,L(t).addEventListener("resize",i.updateBound,{passive:!0});var s=d(t);return function t(e,i,n,s){var o="BODY"===e.nodeName,a=o?e.ownerDocument.defaultView:e;a.addEventListener(i,n,{passive:!0}),o||t(d(a.parentNode),i,n,s),s.push(a)}(s,"scroll",i.updateBound,i.scrollParents),i.scrollElement=s,i.eventsEnabled=!0,i}function F(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=function(t,e){return L(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e}(this.reference,this.state))}function $(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function R(t,e){Object.keys(e).forEach(function(i){var n="";-1!==["width","height","top","right","bottom","left"].indexOf(i)&&$(e[i])&&(n="px"),t.style[i]=e[i]+n})}function Y(t,e,i){var n=A(t,function(t){return t.name===e}),s=!!n&&t.some(function(t){return t.name===i&&t.enabled&&t.order<n.order});if(!s){var o="`"+e+"`";console.warn("`"+i+"` modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return s}function z(t){var e=!!(1<arguments.length&&void 0!==arguments[1])&&arguments[1],i=et.indexOf(t),n=et.slice(i+1).concat(et.slice(0,i));return e?n.reverse():n}function B(t,e,i,n){var o=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),a=+o[1],r=o[2];if(!a)return t;if(0===r.indexOf("%")){var l;switch(r){case"%p":l=i;break;case"%":case"%r":default:l=n}return y(l)[e]/100*a}return"vh"===r||"vw"===r?("vh"===r?s(document.documentElement.clientHeight,window.innerHeight||0):s(document.documentElement.clientWidth,window.innerWidth||0))/100*a:a}for(var V="undefined"!=typeof window&&"undefined"!=typeof document,W=["Edge","Trident","Firefox"],j=0,U=0;U<W.length;U+=1)if(V&&0<=navigator.userAgent.indexOf(W[U])){j=1;break}var G=V&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},j))}},q=V&&!(!window.MSInputMethodContext||!document.documentMode),Z=V&&/MSIE 10/.test(navigator.userAgent),K=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Q=function(){function t(t,e){for(var i,n=0;n<e.length;n++)(i=e[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),J=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t},X=Object.assign||function(t){for(var e,i=1;i<arguments.length;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},tt=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],et=tt.slice(3),it="flip",nt="clockwise",st="counterclockwise",ot=function(){function t(e,n){var s=this,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};K(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(s.update)},this.update=G(this.update.bind(this)),this.options=X({},t.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(X({},t.Defaults.modifiers,o.modifiers)).forEach(function(e){s.options.modifiers[e]=X({},t.Defaults.modifiers[e]||{},o.modifiers?o.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return X({name:t},s.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(t){t.enabled&&i(t.onLoad)&&t.onLoad(s.reference,s.popper,s.options,t,s.state)}),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return Q(t,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=T(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=C(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=I(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=O(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,P(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[N("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=H(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return F.call(this)}}]),t}();ot.Utils=("undefined"==typeof window?t:window).PopperUtils,ot.placements=tt,ot.Defaults={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,i=e.split("-")[0],n=e.split("-")[1];if(n){var s=t.offsets,o=s.reference,a=s.popper,r=-1!==["bottom","top"].indexOf(i),l=r?"left":"top",d=r?"width":"height",h={start:J({},l,o[l]),end:J({},l,o[l]+o[d]-a[d])};t.offsets.popper=X({},a,h[n])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var i,n=e.offset,s=t.placement,o=t.offsets,a=o.popper,r=o.reference,l=s.split("-")[0];return i=$(+n)?[+n,0]:function(t,e,i,n){var s=[0,0],o=-1!==["right","left"].indexOf(n),a=t.split(/(\+|\-)/).map(function(t){return t.trim()}),r=a.indexOf(A(a,function(t){return-1!==t.search(/,|\s/)}));a[r]&&-1===a[r].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,d=-1===r?[a]:[a.slice(0,r).concat([a[r].split(l)[0]]),[a[r].split(l)[1]].concat(a.slice(r+1))];return(d=d.map(function(t,n){var s=(1===n?!o:o)?"height":"width",a=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,a=!0,t):a?(t[t.length-1]+=e,a=!1,t):t.concat(e)},[]).map(function(t){return B(t,s,e,i)})})).forEach(function(t,e){t.forEach(function(i,n){$(i)&&(s[e]+=i*("-"===t[n-1]?-1:1))})}),s}(n,a,r,l),"left"===l?(a.top+=i[0],a.left-=i[1]):"right"===l?(a.top+=i[0],a.left+=i[1]):"top"===l?(a.left+=i[0],a.top-=i[1]):"bottom"===l&&(a.left+=i[0],a.top+=i[1]),t.popper=a,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var i=e.boundariesElement||c(t.instance.popper);t.instance.reference===i&&(i=c(i));var n=N("transform"),a=t.instance.popper.style,r=a.top,l=a.left,d=a[n];a.top="",a.left="",a[n]="";var h=S(t.instance.popper,t.instance.reference,e.padding,i,t.positionFixed);a.top=r,a.left=l,a[n]=d,e.boundaries=h;var u=e.priority,p=t.offsets.popper,f={primary:function(t){var i=p[t];return p[t]<h[t]&&!e.escapeWithReference&&(i=s(p[t],h[t])),J({},t,i)},secondary:function(t){var i="right"===t?"left":"top",n=p[i];return p[t]>h[t]&&!e.escapeWithReference&&(n=o(p[i],h[t]-("right"===t?p.width:p.height))),J({},i,n)}};return u.forEach(function(t){var e=-1===["left","top"].indexOf(t)?"secondary":"primary";p=X({},p,f[e](t))}),t.offsets.popper=p,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,i=e.popper,n=e.reference,s=t.placement.split("-")[0],o=a,r=-1!==["top","bottom"].indexOf(s),l=r?"right":"bottom",d=r?"left":"top",h=r?"width":"height";return i[l]<o(n[d])&&(t.offsets.popper[d]=o(n[d])-i[h]),i[d]>o(n[l])&&(t.offsets.popper[d]=o(n[l])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var i;if(!Y(t.instance.modifiers,"arrow","keepTogether"))return t;var a=e.element;if("string"==typeof a){if(!(a=t.instance.popper.querySelector(a)))return t}else if(!t.instance.popper.contains(a))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var l=t.placement.split("-")[0],d=t.offsets,h=d.popper,c=d.reference,u=-1!==["left","right"].indexOf(l),p=u?"height":"width",f=u?"Top":"Left",m=f.toLowerCase(),_=u?"left":"top",g=u?"bottom":"right",v=E(a)[p];c[g]-v<h[m]&&(t.offsets.popper[m]-=h[m]-(c[g]-v)),c[m]+v>h[g]&&(t.offsets.popper[m]+=c[m]+v-h[g]),t.offsets.popper=y(t.offsets.popper);var b=c[m]+c[p]/2-v/2,w=r(t.instance.popper),D=parseFloat(w["margin"+f],10),k=parseFloat(w["border"+f+"Width"],10),x=b-t.offsets.popper[m]-D-k;return x=s(o(h[p]-v,x),0),t.arrowElement=a,t.offsets.arrow=(J(i={},m,n(x)),J(i,_,""),i),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(P(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var i=S(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),n=t.placement.split("-")[0],s=M(n),o=t.placement.split("-")[1]||"",r=[];switch(e.behavior){case it:r=[n,s];break;case nt:r=z(n);break;case st:r=z(n,!0);break;default:r=e.behavior}return r.forEach(function(l,d){if(n!==l||r.length===d+1)return t;n=t.placement.split("-")[0],s=M(n);var h=t.offsets.popper,c=t.offsets.reference,u=a,p="left"===n&&u(h.right)>u(c.left)||"right"===n&&u(h.left)<u(c.right)||"top"===n&&u(h.bottom)>u(c.top)||"bottom"===n&&u(h.top)<u(c.bottom),f=u(h.left)<u(i.left),m=u(h.right)>u(i.right),_=u(h.top)<u(i.top),g=u(h.bottom)>u(i.bottom),v="left"===n&&f||"right"===n&&m||"top"===n&&_||"bottom"===n&&g,y=-1!==["top","bottom"].indexOf(n),b=!!e.flipVariations&&(y&&"start"===o&&f||y&&"end"===o&&m||!y&&"start"===o&&_||!y&&"end"===o&&g);(p||v||b)&&(t.flipped=!0,(p||v)&&(n=r[d+1]),b&&(o=function(t){return"end"===t?"start":"start"===t?"end":t}(o)),t.placement=n+(o?"-"+o:""),t.offsets.popper=X({},t.offsets.popper,I(t.instance.popper,t.offsets.reference,t.placement)),t=O(t.instance.modifiers,t,"flip"))}),t},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,i=e.split("-")[0],n=t.offsets,s=n.popper,o=n.reference,a=-1!==["left","right"].indexOf(i),r=-1===["top","left"].indexOf(i);return s[a?"left":"top"]=o[i]-(r?s[a?"width":"height"]:0),t.placement=M(e),t.offsets.popper=y(s),t}},hide:{order:800,enabled:!0,fn:function(t){if(!Y(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,i=A(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<i.top||e.left>i.right||e.top>i.bottom||e.right<i.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var i=e.x,s=e.y,o=t.offsets.popper,r=A(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;void 0!==r&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var l,d,h=void 0===r?e.gpuAcceleration:r,u=b(c(t.instance.popper)),p={position:o.position},f={left:a(o.left),top:n(o.top),bottom:n(o.bottom),right:a(o.right)},m="bottom"===i?"top":"bottom",_="right"===s?"left":"right",g=N("transform");if(d="bottom"==m?-u.height+f.bottom:f.top,l="right"==_?-u.width+f.right:f.left,h&&g)p[g]="translate3d("+l+"px, "+d+"px, 0)",p[m]=0,p[_]=0,p.willChange="transform";else{var v="bottom"==m?-1:1,y="right"==_?-1:1;p[m]=d*v,p[_]=l*y,p.willChange=m+", "+_}var w={"x-placement":t.placement};return t.attributes=X({},w,t.attributes),t.styles=X({},p,t.styles),t.arrowStyles=X({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){return R(t.instance.popper,t.styles),function(t,e){Object.keys(e).forEach(function(i){!1===e[i]?t.removeAttribute(i):t.setAttribute(i,e[i])})}(t.instance.popper,t.attributes),t.arrowElement&&Object.keys(t.arrowStyles).length&&R(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,i,n,s){var o=T(s,e,t,i.positionFixed),a=C(i.placement,o,e,t,i.modifiers.flip.boundariesElement,i.modifiers.flip.padding);return e.setAttribute("x-placement",a),R(e,{position:i.positionFixed?"fixed":"absolute"}),i},gpuAcceleration:void 0}}},e.default=ot}.call(this,i(13))},function(t,e,i){(function(t,e){function i(t){for(var e=1;e<arguments.length;e++){var i=null==arguments[e]?{}:arguments[e],s=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),s.forEach(function(e){n(t,e,i[e])})}return t}function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function s(t,e){for(var i,n=0;n<e.length;n++)(i=e[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}function o(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t}!function(n){var s="tooltip",a="bs.tooltip",r="."+a,l=n.fn[s],d=/(^|\s)bs-tooltip\S+/g,h={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)"},c={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},u={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent"},p="show",f="out",m={HIDE:"hide"+r,HIDDEN:"hidden"+r,SHOW:"show"+r,SHOWN:"shown"+r,INSERTED:"inserted"+r,CLICK:"click"+r,FOCUSIN:"focusin"+r,FOCUSOUT:"focusout"+r,MOUSEENTER:"mouseenter"+r,MOUSELEAVE:"mouseleave"+r},_="fade",g="show",v=".tooltip-inner",y=".arrow",b="hover",w="focus",D="click",k="manual",x=function(){function l(e,i){if(void 0===t)throw new TypeError("Bootstrap tooltips require Popper.js (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=e,this.config=this._getConfig(i),this.tip=null,this._setListeners()}var x=l.prototype;return x.enable=function(){this._isEnabled=!0},x.disable=function(){this._isEnabled=!1},x.toggleEnabled=function(){this._isEnabled=!this._isEnabled},x.toggle=function(t){if(this._isEnabled)if(t){var e=this.constructor.DATA_KEY,i=n(t.currentTarget).data(e);i||(i=new this.constructor(t.currentTarget,this._getDelegateConfig()),n(t.currentTarget).data(e,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(n(this.getTipElement()).hasClass(g))return void this._leave(null,this);this._enter(null,this)}},x.dispose=function(){clearTimeout(this._timeout),n.removeData(this.element,this.constructor.DATA_KEY),n(this.element).off(this.constructor.EVENT_KEY),n(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&n(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},x.show=function(){var i=this;if("none"===n(this.element).css("display"))throw new Error("Please use show on visible elements");var s=n.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){n(this.element).trigger(s);var o=n.contains(this.element.ownerDocument.documentElement,this.element);if(s.isDefaultPrevented()||!o)return;var a=this.getTipElement(),r=e.getUID(this.constructor.NAME);a.setAttribute("id",r),this.element.setAttribute("aria-describedby",r),this.setContent(),this.config.animation&&n(a).addClass(_);var l="function"==typeof this.config.placement?this.config.placement.call(this,a,this.element):this.config.placement,d=this._getAttachment(l);this.addAttachmentClass(d);var h=!1===this.config.container?document.body:n(document).find(this.config.container);n(a).data(this.constructor.DATA_KEY,this),n.contains(this.element.ownerDocument.documentElement,this.tip)||n(a).appendTo(h),n(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new t(this.element,a,{placement:d,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:y},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(t){t.originalPlacement!==t.placement&&i._handlePopperPlacementChange(t)},onUpdate:function(t){i._handlePopperPlacementChange(t)}}),n(a).addClass(g),"ontouchstart"in document.documentElement&&n(document.body).children().on("mouseover",null,n.noop);var c=function(){i.config.animation&&i._fixTransition();var t=i._hoverState;i._hoverState=null,n(i.element).trigger(i.constructor.Event.SHOWN),t===f&&i._leave(null,i)};if(n(this.tip).hasClass(_)){var u=e.getTransitionDurationFromElement(this.tip);n(this.tip).one(e.TRANSITION_END,c).emulateTransitionEnd(u)}else c()}},x.hide=function(t){var i=this,s=this.getTipElement(),o=n.Event(this.constructor.Event.HIDE),a=function(){i._hoverState!==p&&s.parentNode&&s.parentNode.removeChild(s),i._cleanTipClass(),i.element.removeAttribute("aria-describedby"),n(i.element).trigger(i.constructor.Event.HIDDEN),null!==i._popper&&i._popper.destroy(),t&&t()};if(n(this.element).trigger(o),!o.isDefaultPrevented()){if(n(s).removeClass(g),"ontouchstart"in document.documentElement&&n(document.body).children().off("mouseover",null,n.noop),this._activeTrigger[D]=!1,this._activeTrigger[w]=!1,this._activeTrigger[b]=!1,n(this.tip).hasClass(_)){var r=e.getTransitionDurationFromElement(s);n(s).one(e.TRANSITION_END,a).emulateTransitionEnd(r)}else a();this._hoverState=""}},x.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},x.isWithContent=function(){return!!this.getTitle()},x.addAttachmentClass=function(t){n(this.getTipElement()).addClass("bs-tooltip-"+t)},x.getTipElement=function(){return this.tip=this.tip||n(this.config.template)[0],this.tip},x.setContent=function(){var t=this.getTipElement();this.setElementContent(n(t.querySelectorAll(v)),this.getTitle()),n(t).removeClass(_+" "+g)},x.setElementContent=function(t,e){var i=this.config.html;"object"==typeof e&&(e.nodeType||e.jquery)?i?!n(e).parent().is(t)&&t.empty().append(e):t.text(n(e).text()):t[i?"html":"text"](e)},x.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},x._getAttachment=function(t){return c[t.toUpperCase()]},x._setListeners=function(){var t=this;this.config.trigger.split(" ").forEach(function(e){if("click"===e)n(t.element).on(t.constructor.Event.CLICK,t.config.selector,function(e){return t.toggle(e)});else if(e!==k){var i=e===b?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,s=e===b?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;n(t.element).on(i,t.config.selector,function(e){return t._enter(e)}).on(s,t.config.selector,function(e){return t._leave(e)})}n(t.element).closest(".modal").on("hide.bs.modal",function(){return t.hide()})}),this.config.selector?this.config=i({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},x._fixTitle=function(){var t=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!=t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},x._enter=function(t,e){var i=this.constructor.DATA_KEY;return(e=e||n(t.currentTarget).data(i))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),n(t.currentTarget).data(i,e)),t&&(e._activeTrigger["focusin"===t.type?w:b]=!0),n(e.getTipElement()).hasClass(g)||e._hoverState===p?void(e._hoverState=p):(clearTimeout(e._timeout),e._hoverState=p,e.config.delay&&e.config.delay.show?void(e._timeout=setTimeout(function(){e._hoverState===p&&e.show()},e.config.delay.show)):void e.show())},x._leave=function(t,e){var i=this.constructor.DATA_KEY;if((e=e||n(t.currentTarget).data(i))||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),n(t.currentTarget).data(i,e)),t&&(e._activeTrigger["focusout"===t.type?w:b]=!1),!e._isWithActiveTrigger())return clearTimeout(e._timeout),e._hoverState=f,e.config.delay&&e.config.delay.hide?void(e._timeout=setTimeout(function(){e._hoverState===f&&e.hide()},e.config.delay.hide)):void e.hide()},x._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},x._getConfig=function(t){return"number"==typeof(t=i({},this.constructor.Default,n(this.element).data(),"object"==typeof t&&t?t:{})).delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),e.typeCheckConfig(s,t,this.constructor.DefaultType),t},x._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},x._cleanTipClass=function(){var t=n(this.getTipElement()),e=t.attr("class").match(d);null!==e&&e.length&&t.removeClass(e.join(""))},x._handlePopperPlacementChange=function(t){var e=t.instance;this.tip=e.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},x._fixTransition=function(){var t=this.getTipElement(),e=this.config.animation;null!==t.getAttribute("x-placement")||(n(t).removeClass(_),this.config.animation=!1,this.hide(),this.show(),this.config.animation=e)},l._jQueryInterface=function(t){return this.each(function(){var e=n(this).data(a);if((e||!/dispose|hide/.test(t))&&(e||(e=new l(this,"object"==typeof t&&t),n(this).data(a,e)),"string"==typeof t)){if(void 0===e[t])throw new TypeError('No method named "'+t+'"');e[t]()}})},o(l,null,[{key:"VERSION",get:function(){return"4.1.2"}},{key:"Default",get:function(){return u}},{key:"NAME",get:function(){return s}},{key:"DATA_KEY",get:function(){return a}},{key:"Event",get:function(){return m}},{key:"EVENT_KEY",get:function(){return r}},{key:"DefaultType",get:function(){return h}}]),l}();n.fn[s]=x._jQueryInterface,n.fn[s].Constructor=x,n.fn[s].noConflict=function(){return n.fn[s]=l,x._jQueryInterface}}($)}).call(this,i(5).default,i(3))},function(t,e,i){var n=Math.max,s=Math.floor;(function(t){if("undefined"==typeof jQuery)throw new Error("Tempus Dominus Bootstrap4's requires jQuery. jQuery must be included before Tempus Dominus Bootstrap4's JavaScript.");if(function(t){var e=jQuery.fn.jquery.split(" ")[0].split(".");if(2>e[0]&&9>e[1]||1===e[0]&&9===e[1]&&1>e[2]||4<=e[0])throw new Error("Tempus Dominus Bootstrap4's requires at least jQuery v3.0.0 but less than v4.0.0")}(),void 0===t)throw new Error("Tempus Dominus Bootstrap4's requires moment.js. Moment.js must be included before Tempus Dominus Bootstrap4's JavaScript.");var e=t.version.split(".");if(2>=e[0]&&17>e[1]||3<=e[0])throw new Error("Tempus Dominus Bootstrap4's requires at least moment.js v2.17.0 but less than v3.0.0");!function(){function e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function t(t,e){for(var i,n=0;n<e.length;n++)(i=e[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=function(t,i){var s="datetimepicker",a=""+s,r="."+a,l=".data-api",d={DATA_TOGGLE:'[data-toggle="'+a+'"]'},h={INPUT:s+"-input"},c={CHANGE:"change"+r,BLUR:"blur"+r,KEYUP:"keyup"+r,KEYDOWN:"keydown"+r,FOCUS:"focus"+r,CLICK_DATA_API:"click"+r+l,UPDATE:"update"+r,ERROR:"error"+r,HIDE:"hide"+r,SHOW:"show"+r},u=[{CLASS_NAME:"days",NAV_FUNCTION:"M",NAV_STEP:1},{CLASS_NAME:"months",NAV_FUNCTION:"y",NAV_STEP:1},{CLASS_NAME:"years",NAV_FUNCTION:"y",NAV_STEP:10},{CLASS_NAME:"decades",NAV_FUNCTION:"y",NAV_STEP:100}],p={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t",delete:46,46:"delete"},f=["times","days","months","years","decades"],m={},_={},g=0,v={timeZone:"",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:i.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-arrow-up",down:"fa fa-arrow-down",previous:"fa fa-chevron-left",next:"fa fa-chevron-right",today:"fa fa-calendar-check-o",clear:"fa fa-delete",close:"fa fa-times"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time",selectDate:"Select Date"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",buttons:{showToday:!1,showClear:!1,showClose:!1},widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,keyBinds:{up:function(){if(!this.widget)return!1;var t=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")?this.date(t.clone().subtract(7,"d")):this.date(t.clone().add(this.stepping(),"m")),!0},down:function(){if(!this.widget)return this.show(),!1;var t=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")?this.date(t.clone().add(7,"d")):this.date(t.clone().subtract(this.stepping(),"m")),!0},"control up":function(){if(!this.widget)return!1;var t=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")?this.date(t.clone().subtract(1,"y")):this.date(t.clone().add(1,"h")),!0},"control down":function(){if(!this.widget)return!1;var t=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")?this.date(t.clone().add(1,"y")):this.date(t.clone().subtract(1,"h")),!0},left:function(){if(!this.widget)return!1;var t=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"d")),!0},right:function(){if(!this.widget)return!1;var t=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"d")),!0},pageUp:function(){if(!this.widget)return!1;var t=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"M")),!0},pageDown:function(){if(!this.widget)return!1;var t=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"M")),!0},enter:function(){return!!this.widget&&(this.hide(),!0)},escape:function(){return!!this.widget&&(this.hide(),!0)},"control space":function(){return!!this.widget&&(this.widget.find(".timepicker").is(":visible")&&this.widget.find('.btn[data-action="togglePeriod"]').click(),!0)},t:function(){return!!this.widget&&(this.date(this.getMoment()),!0)},delete:function(){return!!this.widget&&(this.clear(),!0)}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1,allowMultidate:!1,multidateSeparator:","};return function(){function y(t,i){e(this,y),this._options=this._getOptions(i),this._element=t,this._dates=[],this._datesFormatted=[],this._viewDate=null,this.unset=!0,this.component=!1,this.widget=!1,this.use24Hours=null,this.actualFormat=null,this.parseFormats=null,this.currentViewMode=null,this._int()}return y.prototype._int=function(){var e=this._element.data("target-input");this._element.is("input")?this.input=this._element:void 0!==e&&(this.input="nearest"===e?this._element.find("input"):t(e)),this._dates=[],this._dates[0]=this.getMoment(),this._viewDate=this.getMoment().clone(),t.extend(!0,this._options,this._dataToOptions()),this.options(this._options),this._initFormatting(),void 0!==this.input&&this.input.is("input")&&0!==this.input.val().trim().length?this._setValue(this._parseInputDate(this.input.val().trim()),0):this._options.defaultDate&&void 0!==this.input&&void 0===this.input.attr("placeholder")&&this._setValue(this._options.defaultDate,0),this._options.inline&&this.show()},y.prototype._update=function(){this.widget&&(this._fillDate(),this._fillTime())},y.prototype._setValue=function(t,e){var i=this.unset?null:this._dates[e],n="";if(!t)return this._options.allowMultidate&&1!==this._dates.length?(n=(n=this._element.data("date")+",").replace(i.format(this.actualFormat)+",","").replace(",,","").replace(/,\s*$/,""),this._dates.splice(e,1),this._datesFormatted.splice(e,1)):(this.unset=!0,this._dates=[],this._datesFormatted=[]),void 0!==this.input&&(this.input.val(n),this.input.trigger("input")),this._element.data("date",n),this._notifyEvent({type:y.Event.CHANGE,date:!1,oldDate:i}),void this._update();if(t=t.clone().locale(this._options.locale),this._hasTimeZone()&&t.tz(this._options.timeZone),1!==this._options.stepping&&t.minutes(Math.round(t.minutes()/this._options.stepping)*this._options.stepping).seconds(0),this._isValid(t)){if(this._dates[e]=t,this._datesFormatted[e]=t.format("YYYY-MM-DD"),this._viewDate=t.clone(),this._options.allowMultidate&&1<this._dates.length){for(var s=0;s<this._dates.length;s++)n+=""+this._dates[s].format(this.actualFormat)+this._options.multidateSeparator;n=n.replace(/,\s*$/,"")}else n=this._dates[e].format(this.actualFormat);void 0!==this.input&&(this.input.val(n),this.input.trigger("input")),this._element.data("date",n),this.unset=!1,this._update(),this._notifyEvent({type:y.Event.CHANGE,date:this._dates[e].clone(),oldDate:i})}else this._options.keepInvalid?this._notifyEvent({type:y.Event.CHANGE,date:t,oldDate:i}):void 0!==this.input&&(this.input.val(""+(this.unset?"":this._dates[e].format(this.actualFormat))),this.input.trigger("input")),this._notifyEvent({type:y.Event.ERROR,date:t,oldDate:i})},y.prototype._change=function(e){var i=t(e.target).val().trim(),n=i?this._parseInputDate(i):null;return this._setValue(n),e.stopImmediatePropagation(),!1},y.prototype._getOptions=function(e){return e=t.extend(!0,{},v,e)},y.prototype._hasTimeZone=function(){return void 0!==i.tz&&void 0!==this._options.timeZone&&null!==this._options.timeZone&&""!==this._options.timeZone},y.prototype._isEnabled=function(t){if("string"!=typeof t||1<t.length)throw new TypeError("isEnabled expects a single character string parameter");return"y"===t?-1!==this.actualFormat.indexOf("Y"):"M"===t?-1!==this.actualFormat.indexOf("M"):"d"===t?-1!==this.actualFormat.toLowerCase().indexOf("d"):"h"===t||"H"===t?-1!==this.actualFormat.toLowerCase().indexOf("h"):"m"===t?-1!==this.actualFormat.indexOf("m"):"s"===t?-1!==this.actualFormat.indexOf("s"):("a"==t||"A"==t)&&-1!==this.actualFormat.toLowerCase().indexOf("a")},y.prototype._hasTime=function(){return this._isEnabled("h")||this._isEnabled("m")||this._isEnabled("s")},y.prototype._hasDate=function(){return this._isEnabled("y")||this._isEnabled("M")||this._isEnabled("d")},y.prototype._dataToOptions=function(){var e=this._element.data(),i={};return e.dateOptions&&e.dateOptions instanceof Object&&(i=t.extend(!0,i,e.dateOptions)),t.each(this._options,function(t){var n="date"+t.charAt(0).toUpperCase()+t.slice(1);void 0===e[n]?delete i[t]:i[t]=e[n]}),i},y.prototype._notifyEvent=function(t){t.type===y.Event.CHANGE&&t.date&&t.date.isSame(t.oldDate)||!t.date&&!t.oldDate||this._element.trigger(t)},y.prototype._viewUpdate=function(t){"y"===t&&(t="YYYY"),this._notifyEvent({type:y.Event.UPDATE,change:t,viewDate:this._viewDate.clone()})},y.prototype._showMode=function(t){this.widget&&(t&&(this.currentViewMode=n(g,Math.min(3,this.currentViewMode+t))),this.widget.find(".datepicker > div").hide().filter(".datepicker-"+u[this.currentViewMode].CLASS_NAME).show())},y.prototype._isInDisabledDates=function(t){return!0===this._options.disabledDates[t.format("YYYY-MM-DD")]},y.prototype._isInEnabledDates=function(t){return!0===this._options.enabledDates[t.format("YYYY-MM-DD")]},y.prototype._isInDisabledHours=function(t){return!0===this._options.disabledHours[t.format("H")]},y.prototype._isInEnabledHours=function(t){return!0===this._options.enabledHours[t.format("H")]},y.prototype._isValid=function(e,i){if(!e.isValid())return!1;if(this._options.disabledDates&&"d"===i&&this._isInDisabledDates(e))return!1;if(this._options.enabledDates&&"d"===i&&!this._isInEnabledDates(e))return!1;if(this._options.minDate&&e.isBefore(this._options.minDate,i))return!1;if(this._options.maxDate&&e.isAfter(this._options.maxDate,i))return!1;if(this._options.daysOfWeekDisabled&&"d"===i&&-1!==this._options.daysOfWeekDisabled.indexOf(e.day()))return!1;if(this._options.disabledHours&&("h"===i||"m"===i||"s"===i)&&this._isInDisabledHours(e))return!1;if(this._options.enabledHours&&("h"===i||"m"===i||"s"===i)&&!this._isInEnabledHours(e))return!1;if(this._options.disabledTimeIntervals&&("h"===i||"m"===i||"s"===i)){var n=!1;if(t.each(this._options.disabledTimeIntervals,function(){if(e.isBetween(this[0],this[1]))return n=!0,!1}),n)return!1}return!0},y.prototype._parseInputDate=function(t){return void 0===this._options.parseInputDate?!i.isMoment(t)&&(t=this.getMoment(t)):t=this._options.parseInputDate(t),t},y.prototype._keydown=function(t){var e=null,i=void 0,n=void 0,s=void 0,o=void 0,a=[],r={},l=t.which;for(i in m[l]="p",m)m.hasOwnProperty(i)&&"p"===m[i]&&(a.push(i),parseInt(i,10)!==l&&(r[i]=!0));for(i in this._options.keyBinds)if(this._options.keyBinds.hasOwnProperty(i)&&"function"==typeof this._options.keyBinds[i]&&((s=i.split(" ")).length===a.length&&p[l]===s[s.length-1])){for(o=!0,n=s.length-2;0<=n;n--)if(!(p[s[n]]in r)){o=!1;break}if(o){e=this._options.keyBinds[i];break}}e&&e.call(this)&&(t.stopPropagation(),t.preventDefault())},y.prototype._keyup=function(t){m[t.which]="r",_[t.which]&&(_[t.which]=!1,t.stopPropagation(),t.preventDefault())},y.prototype._indexGivenDates=function(e){var i={},n=this;return t.each(e,function(){var t=n._parseInputDate(this);t.isValid()&&(i[t.format("YYYY-MM-DD")]=!0)}),!!Object.keys(i).length&&i},y.prototype._indexGivenHours=function(e){var i={};return t.each(e,function(){i[this]=!0}),!!Object.keys(i).length&&i},y.prototype._initFormatting=function(){var t=this._options.format||"L LT",e=this;this.actualFormat=t.replace(/(\[[^\[]*])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(t){return e._dates[0].localeData().longDateFormat(t)||t}),this.parseFormats=this._options.extraFormats?this._options.extraFormats.slice():[],0>this.parseFormats.indexOf(t)&&0>this.parseFormats.indexOf(this.actualFormat)&&this.parseFormats.push(this.actualFormat),this.use24Hours=1>this.actualFormat.toLowerCase().indexOf("a")&&1>this.actualFormat.replace(/\[.*?]/g,"").indexOf("h"),this._isEnabled("y")&&(g=2),this._isEnabled("M")&&(g=1),this._isEnabled("d")&&(g=0),this.currentViewMode=n(g,this.currentViewMode),this.unset||this._setValue(this._dates[0],0)},y.prototype._getLastPickedDate=function(){return this._dates[this._getLastPickedDateIndex()]},y.prototype._getLastPickedDateIndex=function(){return this._dates.length-1},y.prototype.getMoment=function(t){var e;return e=void 0===t||null===t?i():this._hasTimeZone()?i.tz(t,this.parseFormats,this._options.locale,this._options.useStrict,this._options.timeZone):i(t,this.parseFormats,this._options.locale,this._options.useStrict),this._hasTimeZone()&&e.tz(this._options.timeZone),e},y.prototype.toggle=function(){return this.widget?this.hide():this.show()},y.prototype.ignoreReadonly=function(t){if(0===arguments.length)return this._options.ignoreReadonly;if("boolean"!=typeof t)throw new TypeError("ignoreReadonly () expects a boolean parameter");this._options.ignoreReadonly=t},y.prototype.options=function(e){if(0===arguments.length)return t.extend(!0,{},this._options);if(!(e instanceof Object))throw new TypeError("options() this.options parameter should be an object");t.extend(!0,this._options,e);var i=this;t.each(this._options,function(t,e){void 0!==i[t]&&i[t](e)})},y.prototype.date=function(t,e){if(e=e||0,0===arguments.length)return this.unset?null:this._options.allowMultidate?this._dates.join(this._options.multidateSeparator):this._dates[e].clone();if(!(null===t||"string"==typeof t||i.isMoment(t)||t instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");this._setValue(null===t?null:this._parseInputDate(t),e)},y.prototype.format=function(t){if(0===arguments.length)return this._options.format;if("string"!=typeof t&&("boolean"!=typeof t||!1!==t))throw new TypeError("format() expects a string or boolean:false parameter "+t);this._options.format=t,this.actualFormat&&this._initFormatting()},y.prototype.timeZone=function(t){if(0===arguments.length)return this._options.timeZone;if("string"!=typeof t)throw new TypeError("newZone() expects a string parameter");this._options.timeZone=t},y.prototype.dayViewHeaderFormat=function(t){if(0===arguments.length)return this._options.dayViewHeaderFormat;if("string"!=typeof t)throw new TypeError("dayViewHeaderFormat() expects a string parameter");this._options.dayViewHeaderFormat=t},y.prototype.extraFormats=function(t){if(0===arguments.length)return this._options.extraFormats;if(!1!==t&&!(t instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");this._options.extraFormats=t,this.parseFormats&&this._initFormatting()},y.prototype.disabledDates=function(e){if(0===arguments.length)return this._options.disabledDates?t.extend({},this._options.disabledDates):this._options.disabledDates;if(!e)return this._options.disabledDates=!1,this._update(),!0;if(!(e instanceof Array))throw new TypeError("disabledDates() expects an array parameter");this._options.disabledDates=this._indexGivenDates(e),this._options.enabledDates=!1,this._update()},y.prototype.enabledDates=function(e){if(0===arguments.length)return this._options.enabledDates?t.extend({},this._options.enabledDates):this._options.enabledDates;if(!e)return this._options.enabledDates=!1,this._update(),!0;if(!(e instanceof Array))throw new TypeError("enabledDates() expects an array parameter");this._options.enabledDates=this._indexGivenDates(e),this._options.disabledDates=!1,this._update()},y.prototype.daysOfWeekDisabled=function(t){if(0===arguments.length)return this._options.daysOfWeekDisabled.splice(0);if("boolean"==typeof t&&!t)return this._options.daysOfWeekDisabled=!1,this._update(),!0;if(!(t instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(this._options.daysOfWeekDisabled=t.reduce(function(t,e){return 6<(e=parseInt(e,10))||0>e||isNaN(e)?t:(-1===t.indexOf(e)&&t.push(e),t)},[]).sort(),this._options.useCurrent&&!this._options.keepInvalid)for(var e,i=0;i<this._dates.length;i++){for(e=0;!this._isValid(this._dates[i],"d");){if(this._dates[i].add(1,"d"),31===e)throw"Tried 31 times to find a valid date";e++}this._setValue(this._dates[i],i)}this._update()},y.prototype.maxDate=function(t){if(0===arguments.length)return this._options.maxDate?this._options.maxDate.clone():this._options.maxDate;if("boolean"==typeof t&&!1===t)return this._options.maxDate=!1,this._update(),!0;"string"==typeof t&&("now"===t||"moment"===t)&&(t=this.getMoment());var e=this._parseInputDate(t);if(!e.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+t);if(this._options.minDate&&e.isBefore(this._options.minDate))throw new TypeError("maxDate() date parameter is before this.options.minDate: "+e.format(this.actualFormat));this._options.maxDate=e;for(var i=0;i<this._dates.length;i++)this._options.useCurrent&&!this._options.keepInvalid&&this._dates[i].isAfter(t)&&this._setValue(this._options.maxDate,i);this._viewDate.isAfter(e)&&(this._viewDate=e.clone().subtract(this._options.stepping,"m")),this._update()},y.prototype.minDate=function(t){if(0===arguments.length)return this._options.minDate?this._options.minDate.clone():this._options.minDate;if("boolean"==typeof t&&!1===t)return this._options.minDate=!1,this._update(),!0;"string"==typeof t&&("now"===t||"moment"===t)&&(t=this.getMoment());var e=this._parseInputDate(t);if(!e.isValid())throw new TypeError("minDate() Could not parse date parameter: "+t);if(this._options.maxDate&&e.isAfter(this._options.maxDate))throw new TypeError("minDate() date parameter is after this.options.maxDate: "+e.format(this.actualFormat));this._options.minDate=e;for(var i=0;i<this._dates.length;i++)this._options.useCurrent&&!this._options.keepInvalid&&this._dates[i].isBefore(t)&&this._setValue(this._options.minDate,i);this._viewDate.isBefore(e)&&(this._viewDate=e.clone().add(this._options.stepping,"m")),this._update()},y.prototype.defaultDate=function(t){if(0===arguments.length)return this._options.defaultDate?this._options.defaultDate.clone():this._options.defaultDate;if(!t)return this._options.defaultDate=!1,!0;"string"==typeof t&&(t="now"===t||"moment"===t?this.getMoment():this.getMoment(t));var e=this._parseInputDate(t);if(!e.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+t);if(!this._isValid(e))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");this._options.defaultDate=e,(this._options.defaultDate&&this._options.inline||void 0!==this.input&&""===this.input.val().trim())&&this._setValue(this._options.defaultDate,0)},y.prototype.locale=function(t){if(0===arguments.length)return this._options.locale;if(!i.localeData(t))throw new TypeError("locale() locale "+t+" is not loaded from moment locales!");this._options.locale=t;for(var e=0;e<this._dates.length;e++)this._dates[e].locale(this._options.locale);this._viewDate.locale(this._options.locale),this.actualFormat&&this._initFormatting(),this.widget&&(this.hide(),this.show())},y.prototype.stepping=function(t){return 0===arguments.length?this._options.stepping:(t=parseInt(t,10),(isNaN(t)||1>t)&&(t=1),void(this._options.stepping=t))},y.prototype.useCurrent=function(t){var e=["year","month","day","hour","minute"];if(0===arguments.length)return this._options.useCurrent;if("boolean"!=typeof t&&"string"!=typeof t)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof t&&-1===e.indexOf(t.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+e.join(", "));this._options.useCurrent=t},y.prototype.collapse=function(t){if(0===arguments.length)return this._options.collapse;if("boolean"!=typeof t)throw new TypeError("collapse() expects a boolean parameter");return this._options.collapse===t||(this._options.collapse=t,void(this.widget&&(this.hide(),this.show())))},y.prototype.icons=function(e){if(0===arguments.length)return t.extend({},this._options.icons);if(!(e instanceof Object))throw new TypeError("icons() expects parameter to be an Object");t.extend(this._options.icons,e),this.widget&&(this.hide(),this.show())},y.prototype.tooltips=function(e){if(0===arguments.length)return t.extend({},this._options.tooltips);if(!(e instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");t.extend(this._options.tooltips,e),this.widget&&(this.hide(),this.show())},y.prototype.useStrict=function(t){if(0===arguments.length)return this._options.useStrict;if("boolean"!=typeof t)throw new TypeError("useStrict() expects a boolean parameter");this._options.useStrict=t},y.prototype.sideBySide=function(t){if(0===arguments.length)return this._options.sideBySide;if("boolean"!=typeof t)throw new TypeError("sideBySide() expects a boolean parameter");this._options.sideBySide=t,this.widget&&(this.hide(),this.show())},y.prototype.viewMode=function(t){if(0===arguments.length)return this._options.viewMode;if("string"!=typeof t)throw new TypeError("viewMode() expects a string parameter");if(-1===y.ViewModes.indexOf(t))throw new TypeError("viewMode() parameter must be one of ("+y.ViewModes.join(", ")+") value");this._options.viewMode=t,this.currentViewMode=n(y.ViewModes.indexOf(t)-1,y.MinViewModeNumber),this._showMode()},y.prototype.calendarWeeks=function(t){if(0===arguments.length)return this._options.calendarWeeks;if("boolean"!=typeof t)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");this._options.calendarWeeks=t,this._update()},y.prototype.buttons=function(e){if(0===arguments.length)return t.extend({},this._options.buttons);if(!(e instanceof Object))throw new TypeError("buttons() expects parameter to be an Object");if(t.extend(this._options.buttons,e),"boolean"!=typeof this._options.buttons.showToday)throw new TypeError("buttons.showToday expects a boolean parameter");if("boolean"!=typeof this._options.buttons.showClear)throw new TypeError("buttons.showClear expects a boolean parameter");if("boolean"!=typeof this._options.buttons.showClose)throw new TypeError("buttons.showClose expects a boolean parameter");this.widget&&(this.hide(),this.show())},y.prototype.keepOpen=function(t){if(0===arguments.length)return this._options.keepOpen;if("boolean"!=typeof t)throw new TypeError("keepOpen() expects a boolean parameter");this._options.keepOpen=t},y.prototype.focusOnShow=function(t){if(0===arguments.length)return this._options.focusOnShow;if("boolean"!=typeof t)throw new TypeError("focusOnShow() expects a boolean parameter");this._options.focusOnShow=t},y.prototype.inline=function(t){if(0===arguments.length)return this._options.inline;if("boolean"!=typeof t)throw new TypeError("inline() expects a boolean parameter");this._options.inline=t},y.prototype.clear=function(){this._setValue(null)},y.prototype.keyBinds=function(t){return 0===arguments.length?this._options.keyBinds:void(this._options.keyBinds=t)},y.prototype.debug=function(t){if("boolean"!=typeof t)throw new TypeError("debug() expects a boolean parameter");this._options.debug=t},y.prototype.allowInputToggle=function(t){if(0===arguments.length)return this._options.allowInputToggle;if("boolean"!=typeof t)throw new TypeError("allowInputToggle() expects a boolean parameter");this._options.allowInputToggle=t},y.prototype.keepInvalid=function(t){if(0===arguments.length)return this._options.keepInvalid;if("boolean"!=typeof t)throw new TypeError("keepInvalid() expects a boolean parameter");this._options.keepInvalid=t},y.prototype.datepickerInput=function(t){if(0===arguments.length)return this._options.datepickerInput;if("string"!=typeof t)throw new TypeError("datepickerInput() expects a string parameter");this._options.datepickerInput=t},y.prototype.parseInputDate=function(t){if(0===arguments.length)return this._options.parseInputDate;if("function"!=typeof t)throw new TypeError("parseInputDate() should be as function");this._options.parseInputDate=t},y.prototype.disabledTimeIntervals=function(e){if(0===arguments.length)return this._options.disabledTimeIntervals?t.extend({},this._options.disabledTimeIntervals):this._options.disabledTimeIntervals;if(!e)return this._options.disabledTimeIntervals=!1,this._update(),!0;if(!(e instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");this._options.disabledTimeIntervals=e,this._update()},y.prototype.disabledHours=function(e){if(0===arguments.length)return this._options.disabledHours?t.extend({},this._options.disabledHours):this._options.disabledHours;if(!e)return this._options.disabledHours=!1,this._update(),!0;if(!(e instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(this._options.disabledHours=this._indexGivenHours(e),this._options.enabledHours=!1,this._options.useCurrent&&!this._options.keepInvalid)for(var i,n=0;n<this._dates.length;n++){for(i=0;!this._isValid(this._dates[n],"h");){if(this._dates[n].add(1,"h"),24===i)throw"Tried 24 times to find a valid date";i++}this._setValue(this._dates[n],n)}this._update()},y.prototype.enabledHours=function(e){if(0===arguments.length)return this._options.enabledHours?t.extend({},this._options.enabledHours):this._options.enabledHours;if(!e)return this._options.enabledHours=!1,this._update(),!0;if(!(e instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(this._options.enabledHours=this._indexGivenHours(e),this._options.disabledHours=!1,this._options.useCurrent&&!this._options.keepInvalid)for(var i,n=0;n<this._dates.length;n++){for(i=0;!this._isValid(this._dates[n],"h");){if(this._dates[n].add(1,"h"),24===i)throw"Tried 24 times to find a valid date";i++}this._setValue(this._dates[n],n)}this._update()},y.prototype.viewDate=function(t){if(0===arguments.length)return this._viewDate.clone();if(!t)return this._viewDate=(this._dates[0]||this.getMoment()).clone(),!0;if(!("string"==typeof t||i.isMoment(t)||t instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");this._viewDate=this._parseInputDate(t),this._viewUpdate()},y.prototype.allowMultidate=function(t){if("boolean"!=typeof t)throw new TypeError("allowMultidate() expects a boolean parameter");this._options.allowMultidate=t},y.prototype.multidateSeparator=function(t){if(0===arguments.length)return this._options.multidateSeparator;if("string"!=typeof t||1<t.length)throw new TypeError("multidateSeparator expects a single character string parameter");this._options.multidateSeparator=t},o(y,null,[{key:"NAME",get:function(){return s}},{key:"DATA_KEY",get:function(){return a}},{key:"EVENT_KEY",get:function(){return r}},{key:"DATA_API_KEY",get:function(){return l}},{key:"DatePickerModes",get:function(){return u}},{key:"ViewModes",get:function(){return f}},{key:"MinViewModeNumber",get:function(){return g}},{key:"Event",get:function(){return c}},{key:"Selector",get:function(){return d}},{key:"Default",get:function(){return v},set:function(t){v=t}},{key:"ClassName",get:function(){return h}}]),y}()}(jQuery,t);!function(t){var n=t.fn[a.NAME],o=["top","bottom","auto"],r=["left","right","auto"],l=["default","top","bottom"],d=function(e){var i,n=e.data("target");return n||(n=e.attr("href")||"",n=/^#[a-z]/i.test(n)?n:null),0===(i=t(n)).length?i:(i.data(a.DATA_KEY)||t.extend({},i.data(),t(this).data()),i)},h=function(n){function d(t,i){e(this,d);var s=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,n.call(this,t,i));return s._init(),s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(d,n),d.prototype._init=function(){if(this._element.hasClass("input-group")){var t=this._element.find(".datepickerbutton");this.component=0===t.length?this._element.find('[data-toggle="datetimepicker"]'):t}},d.prototype._getDatePickerTemplate=function(){var e=t("<thead>").append(t("<tr>").append(t("<th>").addClass("prev").attr("data-action","previous").append(t("<span>").addClass(this._options.icons.previous))).append(t("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",this._options.calendarWeeks?"6":"5")).append(t("<th>").addClass("next").attr("data-action","next").append(t("<span>").addClass(this._options.icons.next)))),i=t("<tbody>").append(t("<tr>").append(t("<td>").attr("colspan",this._options.calendarWeeks?"8":"7")));return[t("<div>").addClass("datepicker-days").append(t("<table>").addClass("table table-sm").append(e).append(t("<tbody>"))),t("<div>").addClass("datepicker-months").append(t("<table>").addClass("table-condensed").append(e.clone()).append(i.clone())),t("<div>").addClass("datepicker-years").append(t("<table>").addClass("table-condensed").append(e.clone()).append(i.clone())),t("<div>").addClass("datepicker-decades").append(t("<table>").addClass("table-condensed").append(e.clone()).append(i.clone()))]},d.prototype._getTimePickerMainTemplate=function(){var e=t("<tr>"),i=t("<tr>"),n=t("<tr>");return this._isEnabled("h")&&(e.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(t("<span>").addClass(this._options.icons.up)))),i.append(t("<td>").append(t("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:this._options.tooltips.pickHour}).attr("data-action","showHours"))),n.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(t("<span>").addClass(this._options.icons.down))))),this._isEnabled("m")&&(this._isEnabled("h")&&(e.append(t("<td>").addClass("separator")),i.append(t("<td>").addClass("separator").html(":")),n.append(t("<td>").addClass("separator"))),e.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(t("<span>").addClass(this._options.icons.up)))),i.append(t("<td>").append(t("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:this._options.tooltips.pickMinute}).attr("data-action","showMinutes"))),n.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(t("<span>").addClass(this._options.icons.down))))),this._isEnabled("s")&&(this._isEnabled("m")&&(e.append(t("<td>").addClass("separator")),i.append(t("<td>").addClass("separator").html(":")),n.append(t("<td>").addClass("separator"))),e.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(t("<span>").addClass(this._options.icons.up)))),i.append(t("<td>").append(t("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:this._options.tooltips.pickSecond}).attr("data-action","showSeconds"))),n.append(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(t("<span>").addClass(this._options.icons.down))))),this.use24Hours||(e.append(t("<td>").addClass("separator")),i.append(t("<td>").append(t("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:this._options.tooltips.togglePeriod}))),n.append(t("<td>").addClass("separator"))),t("<div>").addClass("timepicker-picker").append(t("<table>").addClass("table-condensed").append([e,i,n]))},d.prototype._getTimePickerTemplate=function(){var e=t("<div>").addClass("timepicker-hours").append(t("<table>").addClass("table-condensed")),i=t("<div>").addClass("timepicker-minutes").append(t("<table>").addClass("table-condensed")),n=t("<div>").addClass("timepicker-seconds").append(t("<table>").addClass("table-condensed")),s=[this._getTimePickerMainTemplate()];return this._isEnabled("h")&&s.push(e),this._isEnabled("m")&&s.push(i),this._isEnabled("s")&&s.push(n),s},d.prototype._getToolbar=function(){var e,i,n=[];(this._options.buttons.showToday&&n.push(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1","data-action":"today",title:this._options.tooltips.today}).append(t("<span>").addClass(this._options.icons.today)))),!this._options.sideBySide&&this._hasDate()&&this._hasTime())&&("times"===this._options.viewMode?(e=this._options.tooltips.selectDate,i=this._options.icons.date):(e=this._options.tooltips.selectTime,i=this._options.icons.time),n.push(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1","data-action":"togglePicker",title:e}).append(t("<span>").addClass(i)))));return this._options.buttons.showClear&&n.push(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1","data-action":"clear",title:this._options.tooltips.clear}).append(t("<span>").addClass(this._options.icons.clear)))),this._options.buttons.showClose&&n.push(t("<td>").append(t("<a>").attr({href:"#",tabindex:"-1","data-action":"close",title:this._options.tooltips.close}).append(t("<span>").addClass(this._options.icons.close)))),0===n.length?"":t("<table>").addClass("table-condensed").append(t("<tbody>").append(t("<tr>").append(n)))},d.prototype._getTemplate=function(){var e=t("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),i=t("<div>").addClass("datepicker").append(this._getDatePickerTemplate()),n=t("<div>").addClass("timepicker").append(this._getTimePickerTemplate()),s=t("<ul>").addClass("list-unstyled"),o=t("<li>").addClass("picker-switch"+(this._options.collapse?" accordion-toggle":"")).append(this._getToolbar());return this._options.inline&&e.removeClass("dropdown-menu"),this.use24Hours&&e.addClass("usetwentyfour"),this._isEnabled("s")&&!this.use24Hours&&e.addClass("wider"),this._options.sideBySide&&this._hasDate()&&this._hasTime()?(e.addClass("timepicker-sbs"),"top"===this._options.toolbarPlacement&&e.append(o),e.append(t("<div>").addClass("row").append(i.addClass("col-md-6")).append(n.addClass("col-md-6"))),("bottom"===this._options.toolbarPlacement||"default"===this._options.toolbarPlacement)&&e.append(o),e):("top"===this._options.toolbarPlacement&&s.append(o),this._hasDate()&&s.append(t("<li>").addClass(this._options.collapse&&this._hasTime()?"collapse":"").addClass(this._options.collapse&&this._hasTime()&&"times"===this._options.viewMode?"":"show").append(i)),"default"===this._options.toolbarPlacement&&s.append(o),this._hasTime()&&s.append(t("<li>").addClass(this._options.collapse&&this._hasDate()?"collapse":"").addClass(this._options.collapse&&this._hasDate()&&"times"===this._options.viewMode?"show":"").append(n)),"bottom"===this._options.toolbarPlacement&&s.append(o),e.append(s))},d.prototype._place=function(e){var i=e&&e.data&&e.data.picker||this,n=i._options.widgetPositioning.vertical,s=i._options.widgetPositioning.horizontal,o=void 0,a=(i.component&&i.component.length?i.component:i._element).position(),r=(i.component&&i.component.length?i.component:i._element).offset();if(i._options.widgetParent)o=i._options.widgetParent.append(i.widget);else if(i._element.is("input"))o=i._element.after(i.widget).parent();else{if(i._options.inline)return void(o=i._element.append(i.widget));o=i._element,i._element.children().first().after(i.widget)}if("auto"===n&&(n=r.top+1.5*i.widget.height()>=t(window).height()+t(window).scrollTop()&&i.widget.height()+i._element.outerHeight()<r.top?"top":"bottom"),"auto"===s&&(s=o.width()<r.left+i.widget.outerWidth()/2&&r.left+i.widget.outerWidth()>t(window).width()?"right":"left"),"top"===n?i.widget.addClass("top").removeClass("bottom"):i.widget.addClass("bottom").removeClass("top"),"right"===s?i.widget.addClass("float-right"):i.widget.removeClass("float-right"),"relative"!==o.css("position")&&(o=o.parents().filter(function(){return"relative"===t(this).css("position")}).first()),0===o.length)throw new Error("datetimepicker component should be placed within a relative positioned container");i.widget.css({top:"top"===n?"auto":a.top+i._element.outerHeight()+"px",bottom:"top"===n?o.outerHeight()-(o===i._element?0:a.top)+"px":"auto",left:"left"===s?(o===i._element?0:a.left)+"px":"auto",right:"left"===s?"auto":o.outerWidth()-i._element.outerWidth()-(o===i._element?0:a.left)+"px"})},d.prototype._fillDow=function(){var e=t("<tr>"),i=this._viewDate.clone().startOf("w").startOf("d");for(!0===this._options.calendarWeeks&&e.append(t("<th>").addClass("cw").text("#"));i.isBefore(this._viewDate.clone().endOf("w"));)e.append(t("<th>").addClass("dow").text(i.format("dd"))),i.add(1,"d");this.widget.find(".datepicker-days thead").append(e)},d.prototype._fillMonths=function(){for(var e=[],i=this._viewDate.clone().startOf("y").startOf("d");i.isSame(this._viewDate,"y");)e.push(t("<span>").attr("data-action","selectMonth").addClass("month").text(i.format("MMM"))),i.add(1,"M");this.widget.find(".datepicker-months td").empty().append(e)},d.prototype._updateMonths=function(){var e=this.widget.find(".datepicker-months"),i=e.find("th"),n=e.find("tbody").find("span"),s=this;i.eq(0).find("span").attr("title",this._options.tooltips.prevYear),i.eq(1).attr("title",this._options.tooltips.selectYear),i.eq(2).find("span").attr("title",this._options.tooltips.nextYear),e.find(".disabled").removeClass("disabled"),this._isValid(this._viewDate.clone().subtract(1,"y"),"y")||i.eq(0).addClass("disabled"),i.eq(1).text(this._viewDate.year()),this._isValid(this._viewDate.clone().add(1,"y"),"y")||i.eq(2).addClass("disabled"),n.removeClass("active"),this._getLastPickedDate().isSame(this._viewDate,"y")&&!this.unset&&n.eq(this._getLastPickedDate().month()).addClass("active"),n.each(function(e){s._isValid(s._viewDate.clone().month(e),"M")||t(this).addClass("disabled")})},d.prototype._getStartEndYear=function(t,e){var i=t/10,n=s(e/t)*t;return[n,n+9*i,s(e/i)*i]},d.prototype._updateYears=function(){var t=this.widget.find(".datepicker-years"),e=t.find("th"),i=this._getStartEndYear(10,this._viewDate.year()),n=this._viewDate.clone().year(i[0]),s=this._viewDate.clone().year(i[1]),o="";for(e.eq(0).find("span").attr("title",this._options.tooltips.prevDecade),e.eq(1).attr("title",this._options.tooltips.selectDecade),e.eq(2).find("span").attr("title",this._options.tooltips.nextDecade),t.find(".disabled").removeClass("disabled"),this._options.minDate&&this._options.minDate.isAfter(n,"y")&&e.eq(0).addClass("disabled"),e.eq(1).text(n.year()+"-"+s.year()),this._options.maxDate&&this._options.maxDate.isBefore(s,"y")&&e.eq(2).addClass("disabled"),o+='<span data-action="selectYear" class="year old'+(this._isValid(n,"y")?"":" disabled")+'">'+(n.year()-1)+"</span>";!n.isAfter(s,"y");)o+='<span data-action="selectYear" class="year'+(n.isSame(this._getLastPickedDate(),"y")&&!this.unset?" active":"")+(this._isValid(n,"y")?"":" disabled")+'">'+n.year()+"</span>",n.add(1,"y");o+='<span data-action="selectYear" class="year old'+(this._isValid(n,"y")?"":" disabled")+'">'+n.year()+"</span>",t.find("td").html(o)},d.prototype._updateDecades=function(){var t=this.widget.find(".datepicker-decades"),e=t.find("th"),i=this._getStartEndYear(100,this._viewDate.year()),n=this._viewDate.clone().year(i[0]),s=this._viewDate.clone().year(i[1]),o=!1,a=!1,r=void 0,l="";for(e.eq(0).find("span").attr("title",this._options.tooltips.prevCentury),e.eq(2).find("span").attr("title",this._options.tooltips.nextCentury),t.find(".disabled").removeClass("disabled"),(0===n.year()||this._options.minDate&&this._options.minDate.isAfter(n,"y"))&&e.eq(0).addClass("disabled"),e.eq(1).text(n.year()+"-"+s.year()),this._options.maxDate&&this._options.maxDate.isBefore(s,"y")&&e.eq(2).addClass("disabled"),l+=0>n.year()-10?"<span>&nbsp;</span>":'<span data-action="selectDecade" class="decade old" data-selection="'+(n.year()+6)+'">'+(n.year()-10)+"</span>";!n.isAfter(s,"y");)r=n.year()+11,o=this._options.minDate&&this._options.minDate.isAfter(n,"y")&&this._options.minDate.year()<=r,a=this._options.maxDate&&this._options.maxDate.isAfter(n,"y")&&this._options.maxDate.year()<=r,l+='<span data-action="selectDecade" class="decade'+(this._getLastPickedDate().isAfter(n)&&this._getLastPickedDate().year()<=r?" active":"")+(this._isValid(n,"y")||o||a?"":" disabled")+'" data-selection="'+(n.year()+6)+'">'+n.year()+"</span>",n.add(10,"y");l+='<span data-action="selectDecade" class="decade old" data-selection="'+(n.year()+6)+'">'+n.year()+"</span>",t.find("td").html(l)},d.prototype._fillDate=function(){var e=this.widget.find(".datepicker-days"),i=e.find("th"),n=[],s=void 0,o=void 0,a=void 0,r=void 0;if(this._hasDate()){for(i.eq(0).find("span").attr("title",this._options.tooltips.prevMonth),i.eq(1).attr("title",this._options.tooltips.selectMonth),i.eq(2).find("span").attr("title",this._options.tooltips.nextMonth),e.find(".disabled").removeClass("disabled"),i.eq(1).text(this._viewDate.format(this._options.dayViewHeaderFormat)),this._isValid(this._viewDate.clone().subtract(1,"M"),"M")||i.eq(0).addClass("disabled"),this._isValid(this._viewDate.clone().add(1,"M"),"M")||i.eq(2).addClass("disabled"),s=this._viewDate.clone().startOf("M").startOf("w").startOf("d"),r=0;42>r;r++){if(0===s.weekday()&&(o=t("<tr>"),this._options.calendarWeeks&&o.append('<td class="cw">'+s.week()+"</td>"),n.push(o)),a="",s.isBefore(this._viewDate,"M")&&(a+=" old"),s.isAfter(this._viewDate,"M")&&(a+=" new"),this._options.allowMultidate){var l=this._datesFormatted.indexOf(s.format("YYYY-MM-DD"));-1!==l&&s.isSame(this._datesFormatted[l],"d")&&!this.unset&&(a+=" active")}else s.isSame(this._getLastPickedDate(),"d")&&!this.unset&&(a+=" active");this._isValid(s,"d")||(a+=" disabled"),s.isSame(this.getMoment(),"d")&&(a+=" today"),(0===s.day()||6===s.day())&&(a+=" weekend"),o.append('<td data-action="selectDay" data-day="'+s.format("L")+'" class="day'+a+'">'+s.date()+"</td>"),s.add(1,"d")}e.find("tbody").empty().append(n),this._updateMonths(),this._updateYears(),this._updateDecades()}},d.prototype._fillHours=function(){var e=this.widget.find(".timepicker-hours table"),i=this._viewDate.clone().startOf("d"),n=[],s=t("<tr>");for(11<this._viewDate.hour()&&!this.use24Hours&&i.hour(12);i.isSame(this._viewDate,"d")&&(this.use24Hours||12>this._viewDate.hour()&&12>i.hour()||11<this._viewDate.hour());)0==i.hour()%4&&(s=t("<tr>"),n.push(s)),s.append('<td data-action="selectHour" class="hour'+(this._isValid(i,"h")?"":" disabled")+'">'+i.format(this.use24Hours?"HH":"hh")+"</td>"),i.add(1,"h");e.empty().append(n)},d.prototype._fillMinutes=function(){for(var e=this.widget.find(".timepicker-minutes table"),i=this._viewDate.clone().startOf("h"),n=[],s=1===this._options.stepping?5:this._options.stepping,o=t("<tr>");this._viewDate.isSame(i,"h");)0==i.minute()%(4*s)&&(o=t("<tr>"),n.push(o)),o.append('<td data-action="selectMinute" class="minute'+(this._isValid(i,"m")?"":" disabled")+'">'+i.format("mm")+"</td>"),i.add(s,"m");e.empty().append(n)},d.prototype._fillSeconds=function(){for(var e=this.widget.find(".timepicker-seconds table"),i=this._viewDate.clone().startOf("m"),n=[],s=t("<tr>");this._viewDate.isSame(i,"m");)0==i.second()%20&&(s=t("<tr>"),n.push(s)),s.append('<td data-action="selectSecond" class="second'+(this._isValid(i,"s")?"":" disabled")+'">'+i.format("ss")+"</td>"),i.add(5,"s");e.empty().append(n)},d.prototype._fillTime=function(){var t=void 0,e=void 0,i=this.widget.find(".timepicker span[data-time-component]");this.use24Hours||(t=this.widget.find(".timepicker [data-action=togglePeriod]"),e=this._getLastPickedDate().clone().add(12<=this._getLastPickedDate().hours()?-12:12,"h"),t.text(this._getLastPickedDate().format("A")),this._isValid(e,"h")?t.removeClass("disabled"):t.addClass("disabled")),i.filter("[data-time-component=hours]").text(this._getLastPickedDate().format(this.use24Hours?"HH":"hh")),i.filter("[data-time-component=minutes]").text(this._getLastPickedDate().format("mm")),i.filter("[data-time-component=seconds]").text(this._getLastPickedDate().format("ss")),this._fillHours(),this._fillMinutes(),this._fillSeconds()},d.prototype._doAction=function(e,i){var n=this._getLastPickedDate();if(t(e.currentTarget).is(".disabled"))return!1;switch(i=i||t(e.currentTarget).data("action")){case"next":var s=a.DatePickerModes[this.currentViewMode].NAV_FUNCTION;this._viewDate.add(a.DatePickerModes[this.currentViewMode].NAV_STEP,s),this._fillDate(),this._viewUpdate(s);break;case"previous":var o=a.DatePickerModes[this.currentViewMode].NAV_FUNCTION;this._viewDate.subtract(a.DatePickerModes[this.currentViewMode].NAV_STEP,o),this._fillDate(),this._viewUpdate(o);break;case"pickerSwitch":this._showMode(1);break;case"selectMonth":var r=t(e.target).closest("tbody").find("span").index(t(e.target));this._viewDate.month(r),this.currentViewMode===a.MinViewModeNumber?(this._setValue(n.clone().year(this._viewDate.year()).month(this._viewDate.month()),this._getLastPickedDateIndex()),!this._options.inline&&this.hide()):(this._showMode(-1),this._fillDate()),this._viewUpdate("M");break;case"selectYear":var l=parseInt(t(e.target).text(),10)||0;this._viewDate.year(l),this.currentViewMode===a.MinViewModeNumber?(this._setValue(n.clone().year(this._viewDate.year()),this._getLastPickedDateIndex()),!this._options.inline&&this.hide()):(this._showMode(-1),this._fillDate()),this._viewUpdate("YYYY");break;case"selectDecade":var d=parseInt(t(e.target).data("selection"),10)||0;this._viewDate.year(d),this.currentViewMode===a.MinViewModeNumber?(this._setValue(n.clone().year(this._viewDate.year()),this._getLastPickedDateIndex()),!this._options.inline&&this.hide()):(this._showMode(-1),this._fillDate()),this._viewUpdate("YYYY");break;case"selectDay":var h=this._viewDate.clone();t(e.target).is(".old")&&h.subtract(1,"M"),t(e.target).is(".new")&&h.add(1,"M"),this._setValue(h.date(parseInt(t(e.target).text(),10)),this._getLastPickedDateIndex()),this._hasTime()||this._options.keepOpen||this._options.inline||this.hide();break;case"incrementHours":var c=n.clone().add(1,"h");this._isValid(c,"h")&&this._setValue(c,this._getLastPickedDateIndex());break;case"incrementMinutes":var u=n.clone().add(this._options.stepping,"m");this._isValid(u,"m")&&this._setValue(u,this._getLastPickedDateIndex());break;case"incrementSeconds":var p=n.clone().add(1,"s");this._isValid(p,"s")&&this._setValue(p,this._getLastPickedDateIndex());break;case"decrementHours":var f=n.clone().subtract(1,"h");this._isValid(f,"h")&&this._setValue(f,this._getLastPickedDateIndex());break;case"decrementMinutes":var m=n.clone().subtract(this._options.stepping,"m");this._isValid(m,"m")&&this._setValue(m,this._getLastPickedDateIndex());break;case"decrementSeconds":var _=n.clone().subtract(1,"s");this._isValid(_,"s")&&this._setValue(_,this._getLastPickedDateIndex());break;case"togglePeriod":this._setValue(n.clone().add(12<=n.hours()?-12:12,"h"),this._getLastPickedDateIndex());break;case"togglePicker":var g=t(e.target),v=g.closest("a"),y=g.closest("ul"),b=y.find(".show"),w=y.find(".collapse:not(.show)"),D=g.is("span")?g:g.find("span"),k=void 0;if(b&&b.length){if((k=b.data("collapse"))&&k.transitioning)return!0;b.collapse?(b.collapse("hide"),w.collapse("show")):(b.removeClass("show"),w.addClass("show")),D.toggleClass(this._options.icons.time+" "+this._options.icons.date),D.hasClass(this._options.icons.date)?v.attr("title",this._options.tooltips.selectDate):v.attr("title",this._options.tooltips.selectTime)}break;case"showPicker":this.widget.find(".timepicker > div:not(.timepicker-picker)").hide(),this.widget.find(".timepicker .timepicker-picker").show();break;case"showHours":this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-hours").show();break;case"showMinutes":this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-minutes").show();break;case"showSeconds":this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-seconds").show();break;case"selectHour":var x=parseInt(t(e.target).text(),10);this.use24Hours||(12<=n.hours()?12!==x&&(x+=12):12===x&&(x=0)),this._setValue(n.clone().hours(x),this._getLastPickedDateIndex()),this._isEnabled("a")||this._isEnabled("m")||this._options.keepOpen||this._options.inline?this._doAction(e,"showPicker"):this.hide();break;case"selectMinute":this._setValue(n.clone().minutes(parseInt(t(e.target).text(),10)),this._getLastPickedDateIndex()),this._isEnabled("a")||this._isEnabled("s")||this._options.keepOpen||this._options.inline?this._doAction(e,"showPicker"):this.hide();break;case"selectSecond":this._setValue(n.clone().seconds(parseInt(t(e.target).text(),10)),this._getLastPickedDateIndex()),this._isEnabled("a")||this._options.keepOpen||this._options.inline?this._doAction(e,"showPicker"):this.hide();break;case"clear":this.clear();break;case"close":this.hide();break;case"today":var S=this.getMoment();this._isValid(S,"d")&&this._setValue(S,this._getLastPickedDateIndex())}return!1},d.prototype.hide=function(){var e=!1;this.widget&&(this.widget.find(".collapse").each(function(){var i=t(this).data("collapse");return!(i&&i.transitioning&&(e=!0,1))}),e||(this.component&&this.component.hasClass("btn")&&this.component.toggleClass("active"),this.widget.hide(),t(window).off("resize",this._place()),this.widget.off("click","[data-action]"),this.widget.off("mousedown",!1),this.widget.remove(),this.widget=!1,this._notifyEvent({type:a.Event.HIDE,date:this._getLastPickedDate().clone()}),void 0!==this.input&&this.input.blur(),this._viewDate=this._getLastPickedDate().clone()))},d.prototype.show=function(){var e=void 0,i={year:function(t){return t.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(t){return t.date(1).hours(0).seconds(0).minutes(0)},day:function(t){return t.hours(0).seconds(0).minutes(0)},hour:function(t){return t.seconds(0).minutes(0)},minute:function(t){return t.seconds(0)}};if(void 0!==this.input){if(this.input.prop("disabled")||!this._options.ignoreReadonly&&this.input.prop("readonly")||this.widget)return;void 0!==this.input.val()&&0!==this.input.val().trim().length?this._setValue(this._parseInputDate(this.input.val().trim()),0):this.unset&&this._options.useCurrent&&(e=this.getMoment(),"string"==typeof this._options.useCurrent&&(e=i[this._options.useCurrent](e)),this._setValue(e,0))}else this.unset&&this._options.useCurrent&&(e=this.getMoment(),"string"==typeof this._options.useCurrent&&(e=i[this._options.useCurrent](e)),this._setValue(e,0));this.widget=this._getTemplate(),this._fillDow(),this._fillMonths(),this.widget.find(".timepicker-hours").hide(),this.widget.find(".timepicker-minutes").hide(),this.widget.find(".timepicker-seconds").hide(),this._update(),this._showMode(),t(window).on("resize",{picker:this},this._place),this.widget.on("click","[data-action]",t.proxy(this._doAction,this)),this.widget.on("mousedown",!1),this.component&&this.component.hasClass("btn")&&this.component.toggleClass("active"),this._place(),this.widget.show(),void 0!==this.input&&this._options.focusOnShow&&!this.input.is(":focus")&&this.input.focus(),this._notifyEvent({type:a.Event.SHOW})},d.prototype.destroy=function(){this.hide(),this._element.removeData(a.DATA_KEY),this._element.removeData("date")},d.prototype.disable=function(){this.hide(),this.component&&this.component.hasClass("btn")&&this.component.addClass("disabled"),void 0!==this.input&&this.input.prop("disabled",!0)},d.prototype.enable=function(){this.component&&this.component.hasClass("btn")&&this.component.removeClass("disabled"),void 0!==this.input&&this.input.prop("disabled",!1)},d.prototype.toolbarPlacement=function(t){if(0===arguments.length)return this._options.toolbarPlacement;if("string"!=typeof t)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===l.indexOf(t))throw new TypeError("toolbarPlacement() parameter must be one of ("+l.join(", ")+") value");this._options.toolbarPlacement=t,this.widget&&(this.hide(),this.show())},d.prototype.widgetPositioning=function(e){if(0===arguments.length)return t.extend({},this._options.widgetPositioning);if("[object Object]"!=={}.toString.call(e))throw new TypeError("widgetPositioning() expects an object variable");if(e.horizontal){if("string"!=typeof e.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(e.horizontal=e.horizontal.toLowerCase(),-1===r.indexOf(e.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+r.join(", ")+")");this._options.widgetPositioning.horizontal=e.horizontal}if(e.vertical){if("string"!=typeof e.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(e.vertical=e.vertical.toLowerCase(),-1===o.indexOf(e.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+o.join(", ")+")");this._options.widgetPositioning.vertical=e.vertical}this._update()},d.prototype.widgetParent=function(e){if(0===arguments.length)return this._options.widgetParent;if("string"==typeof e&&(e=t(e)),null!==e&&"string"!=typeof e&&!(e instanceof t))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");this._options.widgetParent=e,this.widget&&(this.hide(),this.show())},d._jQueryHandleThis=function(e,n,s){var o=t(e).data(a.DATA_KEY);if("object"===(void 0===n?"undefined":i(n))&&t.extend({},a.Default,n),o||(o=new d(t(e),n),t(e).data(a.DATA_KEY,o)),"string"==typeof n){if(void 0===o[n])throw new Error('No method named "'+n+'"');return void 0===s?o[n]():o[n](s)}},d._jQueryInterface=function(t,e){return 1===this.length?d._jQueryHandleThis(this[0],t,e):this.each(function(){d._jQueryHandleThis(this,t,e)})},d}(a);t(document).on(a.Event.CLICK_DATA_API,a.Selector.DATA_TOGGLE,function(){var e=d(t(this));0===e.length||h._jQueryInterface.call(e,"toggle")}).on(a.Event.CHANGE,"."+a.ClassName.INPUT,function(e){var i=d(t(this));0===i.length||h._jQueryInterface.call(i,"_change",e)}).on(a.Event.BLUR,"."+a.ClassName.INPUT,function(e){var i=d(t(this)),n=i.data(a.DATA_KEY);0===i.length||n._options.debug||window.debug||h._jQueryInterface.call(i,"hide",e)}).on(a.Event.KEYDOWN,"."+a.ClassName.INPUT,function(e){var i=d(t(this));0===i.length||h._jQueryInterface.call(i,"_keydown",e)}).on(a.Event.KEYUP,"."+a.ClassName.INPUT,function(e){var i=d(t(this));0===i.length||h._jQueryInterface.call(i,"_keyup",e)}).on(a.Event.FOCUS,"."+a.ClassName.INPUT,function(e){var i=d(t(this)),n=i.data(a.DATA_KEY);0!==i.length&&n._options.allowInputToggle&&h._jQueryInterface.call(i,"show",e)}),t.fn[a.NAME]=h._jQueryInterface,t.fn[a.NAME].Constructor=h,t.fn[a.NAME].noConflict=function(){return t.fn[a.NAME]=n,h._jQueryInterface}}(jQuery)}()}).call(this,i(0))},function(t,e,i){var n=Math.max;(function(t){var e=function(){function t(t,e){for(var i,n=0;n<e.length;n++)(i=e[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();!function(t,i){var s="datetimepicker",o=""+s,a="."+o,r=".data-api",l={DATA_TOGGLE:'[data-toggle="'+o+'"]'},d={INPUT:s+"-input"},h={CHANGE:"change"+a,BLUR:"blur"+a,KEYUP:"keyup"+a,KEYDOWN:"keydown"+a,FOCUS:"focus"+a,CLICK_DATA_API:"click"+a+r,UPDATE:"update"+a,ERROR:"error"+a,HIDE:"hide"+a,SHOW:"show"+a},c=[{CLASS_NAME:"days",NAV_FUNCTION:"M",NAV_STEP:1},{CLASS_NAME:"months",NAV_FUNCTION:"y",NAV_STEP:1},{CLASS_NAME:"years",NAV_FUNCTION:"y",NAV_STEP:10},{CLASS_NAME:"decades",NAV_FUNCTION:"y",NAV_STEP:100}],u={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t",delete:46,46:"delete"},p=["times","days","months","years","decades"],f={},m={},_=0,g={timeZone:"",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:i.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-arrow-up",down:"fa fa-arrow-down",previous:"fa fa-chevron-left",next:"fa fa-chevron-right",today:"fa fa-calendar-check-o",clear:"fa fa-delete",close:"fa fa-times"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time",selectDate:"Select Date"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",buttons:{showToday:!1,showClear:!1,showClose:!1},widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,keyBinds:{up:function(){if(!this.widget)return!1;var t=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")?this.date(t.clone().subtract(7,"d")):this.date(t.clone().add(this.stepping(),"m")),!0},down:function(){if(!this.widget)return this.show(),!1;var t=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")?this.date(t.clone().add(7,"d")):this.date(t.clone().subtract(this.stepping(),"m")),!0},"control up":function(){if(!this.widget)return!1;var t=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")?this.date(t.clone().subtract(1,"y")):this.date(t.clone().add(1,"h")),!0},"control down":function(){if(!this.widget)return!1;var t=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")?this.date(t.clone().add(1,"y")):this.date(t.clone().subtract(1,"h")),!0},left:function(){if(!this.widget)return!1;var t=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"d")),!0},right:function(){if(!this.widget)return!1;var t=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"d")),!0},pageUp:function(){if(!this.widget)return!1;var t=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"M")),!0},pageDown:function(){if(!this.widget)return!1;var t=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"M")),!0},enter:function(){return!!this.widget&&(this.hide(),!0)},escape:function(){return!!this.widget&&(this.hide(),!0)},"control space":function(){return!!this.widget&&(this.widget.find(".timepicker").is(":visible")&&this.widget.find('.btn[data-action="togglePeriod"]').click(),!0)},t:function(){return!!this.widget&&(this.date(this.getMoment()),!0)},delete:function(){return!!this.widget&&(this.clear(),!0)}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1,allowMultidate:!1,multidateSeparator:","};(function(){function v(t,e){(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")})(this,v),this._options=this._getOptions(e),this._element=t,this._dates=[],this._datesFormatted=[],this._viewDate=null,this.unset=!0,this.component=!1,this.widget=!1,this.use24Hours=null,this.actualFormat=null,this.parseFormats=null,this.currentViewMode=null,this._int()}v.prototype._int=function(){var e=this._element.data("target-input");this._element.is("input")?this.input=this._element:void 0!==e&&(this.input="nearest"===e?this._element.find("input"):t(e)),this._dates=[],this._dates[0]=this.getMoment(),this._viewDate=this.getMoment().clone(),t.extend(!0,this._options,this._dataToOptions()),this.options(this._options),this._initFormatting(),void 0!==this.input&&this.input.is("input")&&0!==this.input.val().trim().length?this._setValue(this._parseInputDate(this.input.val().trim()),0):this._options.defaultDate&&void 0!==this.input&&void 0===this.input.attr("placeholder")&&this._setValue(this._options.defaultDate,0),this._options.inline&&this.show()},v.prototype._update=function(){this.widget&&(this._fillDate(),this._fillTime())},v.prototype._setValue=function(t,e){var i=this.unset?null:this._dates[e],n="";if(!t)return this._options.allowMultidate&&1!==this._dates.length?(n=(n=this._element.data("date")+",").replace(i.format(this.actualFormat)+",","").replace(",,","").replace(/,\s*$/,""),this._dates.splice(e,1),this._datesFormatted.splice(e,1)):(this.unset=!0,this._dates=[],this._datesFormatted=[]),void 0!==this.input&&(this.input.val(n),this.input.trigger("input")),this._element.data("date",n),this._notifyEvent({type:v.Event.CHANGE,date:!1,oldDate:i}),void this._update();if(t=t.clone().locale(this._options.locale),this._hasTimeZone()&&t.tz(this._options.timeZone),1!==this._options.stepping&&t.minutes(Math.round(t.minutes()/this._options.stepping)*this._options.stepping).seconds(0),this._isValid(t)){if(this._dates[e]=t,this._datesFormatted[e]=t.format("YYYY-MM-DD"),this._viewDate=t.clone(),this._options.allowMultidate&&1<this._dates.length){for(var s=0;s<this._dates.length;s++)n+=""+this._dates[s].format(this.actualFormat)+this._options.multidateSeparator;n=n.replace(/,\s*$/,"")}else n=this._dates[e].format(this.actualFormat);void 0!==this.input&&(this.input.val(n),this.input.trigger("input")),this._element.data("date",n),this.unset=!1,this._update(),this._notifyEvent({type:v.Event.CHANGE,date:this._dates[e].clone(),oldDate:i})}else this._options.keepInvalid?this._notifyEvent({type:v.Event.CHANGE,date:t,oldDate:i}):void 0!==this.input&&(this.input.val(""+(this.unset?"":this._dates[e].format(this.actualFormat))),this.input.trigger("input")),this._notifyEvent({type:v.Event.ERROR,date:t,oldDate:i})},v.prototype._change=function(e){var i=t(e.target).val().trim(),n=i?this._parseInputDate(i):null;return this._setValue(n),e.stopImmediatePropagation(),!1},v.prototype._getOptions=function(e){return e=t.extend(!0,{},g,e)},v.prototype._hasTimeZone=function(){return void 0!==i.tz&&void 0!==this._options.timeZone&&null!==this._options.timeZone&&""!==this._options.timeZone},v.prototype._isEnabled=function(t){if("string"!=typeof t||1<t.length)throw new TypeError("isEnabled expects a single character string parameter");return"y"===t?-1!==this.actualFormat.indexOf("Y"):"M"===t?-1!==this.actualFormat.indexOf("M"):"d"===t?-1!==this.actualFormat.toLowerCase().indexOf("d"):"h"===t||"H"===t?-1!==this.actualFormat.toLowerCase().indexOf("h"):"m"===t?-1!==this.actualFormat.indexOf("m"):"s"===t?-1!==this.actualFormat.indexOf("s"):("a"==t||"A"==t)&&-1!==this.actualFormat.toLowerCase().indexOf("a")},v.prototype._hasTime=function(){return this._isEnabled("h")||this._isEnabled("m")||this._isEnabled("s")},v.prototype._hasDate=function(){return this._isEnabled("y")||this._isEnabled("M")||this._isEnabled("d")},v.prototype._dataToOptions=function(){var e=this._element.data(),i={};return e.dateOptions&&e.dateOptions instanceof Object&&(i=t.extend(!0,i,e.dateOptions)),t.each(this._options,function(t){var n="date"+t.charAt(0).toUpperCase()+t.slice(1);void 0===e[n]?delete i[t]:i[t]=e[n]}),i},v.prototype._notifyEvent=function(t){t.type===v.Event.CHANGE&&t.date&&t.date.isSame(t.oldDate)||!t.date&&!t.oldDate||this._element.trigger(t)},v.prototype._viewUpdate=function(t){"y"===t&&(t="YYYY"),this._notifyEvent({type:v.Event.UPDATE,change:t,viewDate:this._viewDate.clone()})},v.prototype._showMode=function(t){this.widget&&(t&&(this.currentViewMode=n(_,Math.min(3,this.currentViewMode+t))),this.widget.find(".datepicker > div").hide().filter(".datepicker-"+c[this.currentViewMode].CLASS_NAME).show())},v.prototype._isInDisabledDates=function(t){return!0===this._options.disabledDates[t.format("YYYY-MM-DD")]},v.prototype._isInEnabledDates=function(t){return!0===this._options.enabledDates[t.format("YYYY-MM-DD")]},v.prototype._isInDisabledHours=function(t){return!0===this._options.disabledHours[t.format("H")]},v.prototype._isInEnabledHours=function(t){return!0===this._options.enabledHours[t.format("H")]},v.prototype._isValid=function(e,i){if(!e.isValid())return!1;if(this._options.disabledDates&&"d"===i&&this._isInDisabledDates(e))return!1;if(this._options.enabledDates&&"d"===i&&!this._isInEnabledDates(e))return!1;if(this._options.minDate&&e.isBefore(this._options.minDate,i))return!1;if(this._options.maxDate&&e.isAfter(this._options.maxDate,i))return!1;if(this._options.daysOfWeekDisabled&&"d"===i&&-1!==this._options.daysOfWeekDisabled.indexOf(e.day()))return!1;if(this._options.disabledHours&&("h"===i||"m"===i||"s"===i)&&this._isInDisabledHours(e))return!1;if(this._options.enabledHours&&("h"===i||"m"===i||"s"===i)&&!this._isInEnabledHours(e))return!1;if(this._options.disabledTimeIntervals&&("h"===i||"m"===i||"s"===i)){var n=!1;if(t.each(this._options.disabledTimeIntervals,function(){if(e.isBetween(this[0],this[1]))return n=!0,!1}),n)return!1}return!0},v.prototype._parseInputDate=function(t){return void 0===this._options.parseInputDate?!i.isMoment(t)&&(t=this.getMoment(t)):t=this._options.parseInputDate(t),t},v.prototype._keydown=function(t){var e=null,i=void 0,n=void 0,s=void 0,o=void 0,a=[],r={},l=t.which;for(i in f[l]="p",f)f.hasOwnProperty(i)&&"p"===f[i]&&(a.push(i),parseInt(i,10)!==l&&(r[i]=!0));for(i in this._options.keyBinds)if(this._options.keyBinds.hasOwnProperty(i)&&"function"==typeof this._options.keyBinds[i]&&((s=i.split(" ")).length===a.length&&u[l]===s[s.length-1])){for(o=!0,n=s.length-2;0<=n;n--)if(!(u[s[n]]in r)){o=!1;break}if(o){e=this._options.keyBinds[i];break}}e&&e.call(this)&&(t.stopPropagation(),t.preventDefault())},v.prototype._keyup=function(t){f[t.which]="r",m[t.which]&&(m[t.which]=!1,t.stopPropagation(),t.preventDefault())},v.prototype._indexGivenDates=function(e){var i={},n=this;return t.each(e,function(){var t=n._parseInputDate(this);t.isValid()&&(i[t.format("YYYY-MM-DD")]=!0)}),!!Object.keys(i).length&&i},v.prototype._indexGivenHours=function(e){var i={};return t.each(e,function(){i[this]=!0}),!!Object.keys(i).length&&i},v.prototype._initFormatting=function(){var t=this._options.format||"L LT",e=this;this.actualFormat=t.replace(/(\[[^\[]*])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(t){return e._dates[0].localeData().longDateFormat(t)||t}),this.parseFormats=this._options.extraFormats?this._options.extraFormats.slice():[],0>this.parseFormats.indexOf(t)&&0>this.parseFormats.indexOf(this.actualFormat)&&this.parseFormats.push(this.actualFormat),this.use24Hours=1>this.actualFormat.toLowerCase().indexOf("a")&&1>this.actualFormat.replace(/\[.*?]/g,"").indexOf("h"),this._isEnabled("y")&&(_=2),this._isEnabled("M")&&(_=1),this._isEnabled("d")&&(_=0),this.currentViewMode=n(_,this.currentViewMode),this.unset||this._setValue(this._dates[0],0)},v.prototype._getLastPickedDate=function(){return this._dates[this._getLastPickedDateIndex()]},v.prototype._getLastPickedDateIndex=function(){return this._dates.length-1},v.prototype.getMoment=function(t){var e;return e=void 0===t||null===t?i():this._hasTimeZone()?i.tz(t,this.parseFormats,this._options.locale,this._options.useStrict,this._options.timeZone):i(t,this.parseFormats,this._options.locale,this._options.useStrict),this._hasTimeZone()&&e.tz(this._options.timeZone),e},v.prototype.toggle=function(){return this.widget?this.hide():this.show()},v.prototype.ignoreReadonly=function(t){if(0===arguments.length)return this._options.ignoreReadonly;if("boolean"!=typeof t)throw new TypeError("ignoreReadonly () expects a boolean parameter");this._options.ignoreReadonly=t},v.prototype.options=function(e){if(0===arguments.length)return t.extend(!0,{},this._options);if(!(e instanceof Object))throw new TypeError("options() this.options parameter should be an object");t.extend(!0,this._options,e);var i=this;t.each(this._options,function(t,e){void 0!==i[t]&&i[t](e)})},v.prototype.date=function(t,e){if(e=e||0,0===arguments.length)return this.unset?null:this._options.allowMultidate?this._dates.join(this._options.multidateSeparator):this._dates[e].clone();if(!(null===t||"string"==typeof t||i.isMoment(t)||t instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");this._setValue(null===t?null:this._parseInputDate(t),e)},v.prototype.format=function(t){if(0===arguments.length)return this._options.format;if("string"!=typeof t&&("boolean"!=typeof t||!1!==t))throw new TypeError("format() expects a string or boolean:false parameter "+t);this._options.format=t,this.actualFormat&&this._initFormatting()},v.prototype.timeZone=function(t){if(0===arguments.length)return this._options.timeZone;if("string"!=typeof t)throw new TypeError("newZone() expects a string parameter");this._options.timeZone=t},v.prototype.dayViewHeaderFormat=function(t){if(0===arguments.length)return this._options.dayViewHeaderFormat;if("string"!=typeof t)throw new TypeError("dayViewHeaderFormat() expects a string parameter");this._options.dayViewHeaderFormat=t},v.prototype.extraFormats=function(t){if(0===arguments.length)return this._options.extraFormats;if(!1!==t&&!(t instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");this._options.extraFormats=t,this.parseFormats&&this._initFormatting()},v.prototype.disabledDates=function(e){if(0===arguments.length)return this._options.disabledDates?t.extend({},this._options.disabledDates):this._options.disabledDates;if(!e)return this._options.disabledDates=!1,this._update(),!0;if(!(e instanceof Array))throw new TypeError("disabledDates() expects an array parameter");this._options.disabledDates=this._indexGivenDates(e),this._options.enabledDates=!1,this._update()},v.prototype.enabledDates=function(e){if(0===arguments.length)return this._options.enabledDates?t.extend({},this._options.enabledDates):this._options.enabledDates;if(!e)return this._options.enabledDates=!1,this._update(),!0;if(!(e instanceof Array))throw new TypeError("enabledDates() expects an array parameter");this._options.enabledDates=this._indexGivenDates(e),this._options.disabledDates=!1,this._update()},v.prototype.daysOfWeekDisabled=function(t){if(0===arguments.length)return this._options.daysOfWeekDisabled.splice(0);if("boolean"==typeof t&&!t)return this._options.daysOfWeekDisabled=!1,this._update(),!0;if(!(t instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(this._options.daysOfWeekDisabled=t.reduce(function(t,e){return 6<(e=parseInt(e,10))||0>e||isNaN(e)?t:(-1===t.indexOf(e)&&t.push(e),t)},[]).sort(),this._options.useCurrent&&!this._options.keepInvalid)for(var e,i=0;i<this._dates.length;i++){for(e=0;!this._isValid(this._dates[i],"d");){if(this._dates[i].add(1,"d"),31===e)throw"Tried 31 times to find a valid date";e++}this._setValue(this._dates[i],i)}this._update()},v.prototype.maxDate=function(t){if(0===arguments.length)return this._options.maxDate?this._options.maxDate.clone():this._options.maxDate;if("boolean"==typeof t&&!1===t)return this._options.maxDate=!1,this._update(),!0;"string"==typeof t&&("now"===t||"moment"===t)&&(t=this.getMoment());var e=this._parseInputDate(t);if(!e.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+t);if(this._options.minDate&&e.isBefore(this._options.minDate))throw new TypeError("maxDate() date parameter is before this.options.minDate: "+e.format(this.actualFormat));this._options.maxDate=e;for(var i=0;i<this._dates.length;i++)this._options.useCurrent&&!this._options.keepInvalid&&this._dates[i].isAfter(t)&&this._setValue(this._options.maxDate,i);this._viewDate.isAfter(e)&&(this._viewDate=e.clone().subtract(this._options.stepping,"m")),this._update()},v.prototype.minDate=function(t){if(0===arguments.length)return this._options.minDate?this._options.minDate.clone():this._options.minDate;if("boolean"==typeof t&&!1===t)return this._options.minDate=!1,this._update(),!0;"string"==typeof t&&("now"===t||"moment"===t)&&(t=this.getMoment());var e=this._parseInputDate(t);if(!e.isValid())throw new TypeError("minDate() Could not parse date parameter: "+t);if(this._options.maxDate&&e.isAfter(this._options.maxDate))throw new TypeError("minDate() date parameter is after this.options.maxDate: "+e.format(this.actualFormat));this._options.minDate=e;for(var i=0;i<this._dates.length;i++)this._options.useCurrent&&!this._options.keepInvalid&&this._dates[i].isBefore(t)&&this._setValue(this._options.minDate,i);this._viewDate.isBefore(e)&&(this._viewDate=e.clone().add(this._options.stepping,"m")),this._update()},v.prototype.defaultDate=function(t){if(0===arguments.length)return this._options.defaultDate?this._options.defaultDate.clone():this._options.defaultDate;if(!t)return this._options.defaultDate=!1,!0;"string"==typeof t&&(t="now"===t||"moment"===t?this.getMoment():this.getMoment(t));var e=this._parseInputDate(t);if(!e.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+t);if(!this._isValid(e))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");this._options.defaultDate=e,(this._options.defaultDate&&this._options.inline||void 0!==this.input&&""===this.input.val().trim())&&this._setValue(this._options.defaultDate,0)},v.prototype.locale=function(t){if(0===arguments.length)return this._options.locale;if(!i.localeData(t))throw new TypeError("locale() locale "+t+" is not loaded from moment locales!");this._options.locale=t;for(var e=0;e<this._dates.length;e++)this._dates[e].locale(this._options.locale);this._viewDate.locale(this._options.locale),this.actualFormat&&this._initFormatting(),this.widget&&(this.hide(),this.show())},v.prototype.stepping=function(t){return 0===arguments.length?this._options.stepping:(t=parseInt(t,10),(isNaN(t)||1>t)&&(t=1),void(this._options.stepping=t))},v.prototype.useCurrent=function(t){var e=["year","month","day","hour","minute"];if(0===arguments.length)return this._options.useCurrent;if("boolean"!=typeof t&&"string"!=typeof t)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof t&&-1===e.indexOf(t.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+e.join(", "));this._options.useCurrent=t},v.prototype.collapse=function(t){if(0===arguments.length)return this._options.collapse;if("boolean"!=typeof t)throw new TypeError("collapse() expects a boolean parameter");return this._options.collapse===t||(this._options.collapse=t,void(this.widget&&(this.hide(),this.show())))},v.prototype.icons=function(e){if(0===arguments.length)return t.extend({},this._options.icons);if(!(e instanceof Object))throw new TypeError("icons() expects parameter to be an Object");t.extend(this._options.icons,e),this.widget&&(this.hide(),this.show())},v.prototype.tooltips=function(e){if(0===arguments.length)return t.extend({},this._options.tooltips);if(!(e instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");t.extend(this._options.tooltips,e),this.widget&&(this.hide(),this.show())},v.prototype.useStrict=function(t){if(0===arguments.length)return this._options.useStrict;if("boolean"!=typeof t)throw new TypeError("useStrict() expects a boolean parameter");this._options.useStrict=t},v.prototype.sideBySide=function(t){if(0===arguments.length)return this._options.sideBySide;if("boolean"!=typeof t)throw new TypeError("sideBySide() expects a boolean parameter");this._options.sideBySide=t,this.widget&&(this.hide(),this.show())},v.prototype.viewMode=function(t){if(0===arguments.length)return this._options.viewMode;if("string"!=typeof t)throw new TypeError("viewMode() expects a string parameter");if(-1===v.ViewModes.indexOf(t))throw new TypeError("viewMode() parameter must be one of ("+v.ViewModes.join(", ")+") value");this._options.viewMode=t,this.currentViewMode=n(v.ViewModes.indexOf(t)-1,v.MinViewModeNumber),this._showMode()},v.prototype.calendarWeeks=function(t){if(0===arguments.length)return this._options.calendarWeeks;if("boolean"!=typeof t)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");this._options.calendarWeeks=t,this._update()},v.prototype.buttons=function(e){if(0===arguments.length)return t.extend({},this._options.buttons);if(!(e instanceof Object))throw new TypeError("buttons() expects parameter to be an Object");if(t.extend(this._options.buttons,e),"boolean"!=typeof this._options.buttons.showToday)throw new TypeError("buttons.showToday expects a boolean parameter");if("boolean"!=typeof this._options.buttons.showClear)throw new TypeError("buttons.showClear expects a boolean parameter");if("boolean"!=typeof this._options.buttons.showClose)throw new TypeError("buttons.showClose expects a boolean parameter");this.widget&&(this.hide(),this.show())},v.prototype.keepOpen=function(t){if(0===arguments.length)return this._options.keepOpen;if("boolean"!=typeof t)throw new TypeError("keepOpen() expects a boolean parameter");this._options.keepOpen=t},v.prototype.focusOnShow=function(t){if(0===arguments.length)return this._options.focusOnShow;if("boolean"!=typeof t)throw new TypeError("focusOnShow() expects a boolean parameter");this._options.focusOnShow=t},v.prototype.inline=function(t){if(0===arguments.length)return this._options.inline;if("boolean"!=typeof t)throw new TypeError("inline() expects a boolean parameter");this._options.inline=t},v.prototype.clear=function(){this._setValue(null)},v.prototype.keyBinds=function(t){return 0===arguments.length?this._options.keyBinds:void(this._options.keyBinds=t)},v.prototype.debug=function(t){if("boolean"!=typeof t)throw new TypeError("debug() expects a boolean parameter");this._options.debug=t},v.prototype.allowInputToggle=function(t){if(0===arguments.length)return this._options.allowInputToggle;if("boolean"!=typeof t)throw new TypeError("allowInputToggle() expects a boolean parameter");this._options.allowInputToggle=t},v.prototype.keepInvalid=function(t){if(0===arguments.length)return this._options.keepInvalid;if("boolean"!=typeof t)throw new TypeError("keepInvalid() expects a boolean parameter");this._options.keepInvalid=t},v.prototype.datepickerInput=function(t){if(0===arguments.length)return this._options.datepickerInput;if("string"!=typeof t)throw new TypeError("datepickerInput() expects a string parameter");this._options.datepickerInput=t},v.prototype.parseInputDate=function(t){if(0===arguments.length)return this._options.parseInputDate;if("function"!=typeof t)throw new TypeError("parseInputDate() should be as function");this._options.parseInputDate=t},v.prototype.disabledTimeIntervals=function(e){if(0===arguments.length)return this._options.disabledTimeIntervals?t.extend({},this._options.disabledTimeIntervals):this._options.disabledTimeIntervals;if(!e)return this._options.disabledTimeIntervals=!1,this._update(),!0;if(!(e instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");this._options.disabledTimeIntervals=e,this._update()},v.prototype.disabledHours=function(e){if(0===arguments.length)return this._options.disabledHours?t.extend({},this._options.disabledHours):this._options.disabledHours;if(!e)return this._options.disabledHours=!1,this._update(),!0;if(!(e instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(this._options.disabledHours=this._indexGivenHours(e),this._options.enabledHours=!1,this._options.useCurrent&&!this._options.keepInvalid)for(var i,n=0;n<this._dates.length;n++){for(i=0;!this._isValid(this._dates[n],"h");){if(this._dates[n].add(1,"h"),24===i)throw"Tried 24 times to find a valid date";i++}this._setValue(this._dates[n],n)}this._update()},v.prototype.enabledHours=function(e){if(0===arguments.length)return this._options.enabledHours?t.extend({},this._options.enabledHours):this._options.enabledHours;if(!e)return this._options.enabledHours=!1,this._update(),!0;if(!(e instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(this._options.enabledHours=this._indexGivenHours(e),this._options.disabledHours=!1,this._options.useCurrent&&!this._options.keepInvalid)for(var i,n=0;n<this._dates.length;n++){for(i=0;!this._isValid(this._dates[n],"h");){if(this._dates[n].add(1,"h"),24===i)throw"Tried 24 times to find a valid date";i++}this._setValue(this._dates[n],n)}this._update()},v.prototype.viewDate=function(t){if(0===arguments.length)return this._viewDate.clone();if(!t)return this._viewDate=(this._dates[0]||this.getMoment()).clone(),!0;if(!("string"==typeof t||i.isMoment(t)||t instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");this._viewDate=this._parseInputDate(t),this._viewUpdate()},v.prototype.allowMultidate=function(t){if("boolean"!=typeof t)throw new TypeError("allowMultidate() expects a boolean parameter");this._options.allowMultidate=t},v.prototype.multidateSeparator=function(t){if(0===arguments.length)return this._options.multidateSeparator;if("string"!=typeof t||1<t.length)throw new TypeError("multidateSeparator expects a single character string parameter");this._options.multidateSeparator=t},e(v,null,[{key:"NAME",get:function(){return s}},{key:"DATA_KEY",get:function(){return o}},{key:"EVENT_KEY",get:function(){return a}},{key:"DATA_API_KEY",get:function(){return r}},{key:"DatePickerModes",get:function(){return c}},{key:"ViewModes",get:function(){return p}},{key:"MinViewModeNumber",get:function(){return _}},{key:"Event",get:function(){return h}},{key:"Selector",get:function(){return l}},{key:"Default",get:function(){return g},set:function(t){g=t}},{key:"ClassName",get:function(){return d}}])})()}(jQuery,t)}).call(this,i(0))},function(t,e,i){i(20),t.exports=i(18)},function(){function t(t,e){for(var i,n=0;n<e.length;n++)(i=e[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}function e(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}!function(t){var i="button",n="bs.button",s="."+n,o=".data-api",a=t.fn[i],r="active",l="btn",d="focus",h='[data-toggle^="button"]',c='[data-toggle="buttons"]',u="input",p=".active",f=".btn",m={CLICK_DATA_API:"click"+s+o,FOCUS_BLUR_DATA_API:"focus"+s+o+" blur"+s+o},_=function(){function i(t){this._element=t}var s=i.prototype;return s.toggle=function(){var e=!0,i=!0,n=t(this._element).closest(c)[0];if(n){var s=this._element.querySelector(u);if(s){if("radio"===s.type)if(s.checked&&this._element.classList.contains(r))e=!1;else{var o=n.querySelector(p);o&&t(o).removeClass(r)}if(e){if(s.hasAttribute("disabled")||n.hasAttribute("disabled")||s.classList.contains("disabled")||n.classList.contains("disabled"))return;s.checked=!this._element.classList.contains(r),t(s).trigger("change")}s.focus(),i=!1}}i&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(r)),e&&t(this._element).toggleClass(r)},s.dispose=function(){t.removeData(this._element,n),this._element=null},i._jQueryInterface=function(e){return this.each(function(){var s=t(this).data(n);s||(s=new i(this),t(this).data(n,s)),"toggle"===e&&s[e]()})},e(i,null,[{key:"VERSION",get:function(){return"4.1.2"}}]),i}();t(document).on(m.CLICK_DATA_API,h,function(e){e.preventDefault();var i=e.target;t(i).hasClass(l)||(i=t(i).closest(f)),_._jQueryInterface.call(t(i),"toggle")}).on(m.FOCUS_BLUR_DATA_API,h,function(e){var i=t(e.target).closest(f)[0];t(i).toggleClass(d,/^focus(in)?$/.test(e.type))}),t.fn[i]=_._jQueryInterface,t.fn[i].Constructor=_,t.fn[i].noConflict=function(){return t.fn[i]=a,_._jQueryInterface}}($)},function(t,e,i){(function(t){function e(t){for(var e=1;e<arguments.length;e++){var n=null==arguments[e]?{}:arguments[e],s=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),s.forEach(function(e){i(t,e,n[e])})}return t}function i(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function n(t,e){for(var i,n=0;n<e.length;n++)(i=e[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}function s(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}!function(i){var n="collapse",o="bs.collapse",a="."+o,r=i.fn[n],l={toggle:!0,parent:""},d={toggle:"boolean",parent:"(string|element)"},h={SHOW:"show"+a,SHOWN:"shown"+a,HIDE:"hide"+a,HIDDEN:"hidden"+a,CLICK_DATA_API:"click"+a+".data-api"},c="show",u="collapse",p="collapsing",f="collapsed",m="width",_="height",g={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},v=function(){function a(e,n){this._isTransitioning=!1,this._element=e,this._config=this._getConfig(n),this._triggerArray=i.makeArray(document.querySelectorAll('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'));for(var s=[].slice.call(document.querySelectorAll(g.DATA_TOGGLE)),o=0,a=s.length;o<a;o++){var r=s[o],l=t.getSelectorFromElement(r),d=[].slice.call(document.querySelectorAll(l)).filter(function(t){return t===e});null!==l&&0<d.length&&(this._selector=l,this._triggerArray.push(r))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var r=a.prototype;return r.toggle=function(){i(this._element).hasClass(c)?this.hide():this.show()},r.show=function(){var e,n,s=this;if(!this._isTransitioning&&!i(this._element).hasClass(c)&&(this._parent&&(0===(e=[].slice.call(this._parent.querySelectorAll(g.ACTIVES)).filter(function(t){return t.getAttribute("data-parent")===s._config.parent})).length&&(e=null)),!(e&&(n=i(e).not(this._selector).data(o),n&&n._isTransitioning)))){var r=i.Event(h.SHOW);if(i(this._element).trigger(r),!r.isDefaultPrevented()){e&&(a._jQueryInterface.call(i(e).not(this._selector),"hide"),!n&&i(e).data(o,null));var l=this._getDimension();i(this._element).removeClass(u).addClass(p),this._element.style[l]=0,this._triggerArray.length&&i(this._triggerArray).removeClass(f).attr("aria-expanded",!0),this.setTransitioning(!0);var d=l[0].toUpperCase()+l.slice(1),m=t.getTransitionDurationFromElement(this._element);i(this._element).one(t.TRANSITION_END,function(){i(s._element).removeClass(p).addClass(u).addClass(c),s._element.style[l]="",s.setTransitioning(!1),i(s._element).trigger(h.SHOWN)}).emulateTransitionEnd(m),this._element.style[l]=this._element["scroll"+d]+"px"}}},r.hide=function(){var e=this;if(!this._isTransitioning&&i(this._element).hasClass(c)){var n=i.Event(h.HIDE);if(i(this._element).trigger(n),!n.isDefaultPrevented()){var s=this._getDimension();this._element.style[s]=this._element.getBoundingClientRect()[s]+"px",t.reflow(this._element),i(this._element).addClass(p).removeClass(u).removeClass(c);var o=this._triggerArray.length;if(0<o)for(var a=0;a<o;a++){var r=this._triggerArray[a],l=t.getSelectorFromElement(r);if(null!==l)i([].slice.call(document.querySelectorAll(l))).hasClass(c)||i(r).addClass(f).attr("aria-expanded",!1)}this.setTransitioning(!0);this._element.style[s]="";var d=t.getTransitionDurationFromElement(this._element);i(this._element).one(t.TRANSITION_END,function(){e.setTransitioning(!1),i(e._element).removeClass(p).addClass(u).trigger(h.HIDDEN)}).emulateTransitionEnd(d)}}},r.setTransitioning=function(t){this._isTransitioning=t},r.dispose=function(){i.removeData(this._element,o),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},r._getConfig=function(i){return(i=e({},l,i)).toggle=!!i.toggle,t.typeCheckConfig(n,i,d),i},r._getDimension=function(){return i(this._element).hasClass(m)?m:_},r._getParent=function(){var e=this,n=null;t.isElement(this._config.parent)?(n=this._config.parent,void 0!==this._config.parent.jquery&&(n=this._config.parent[0])):n=document.querySelector(this._config.parent);var s='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',o=[].slice.call(n.querySelectorAll(s));return i(o).each(function(t,i){e._addAriaAndCollapsedClass(a._getTargetFromElement(i),[i])}),n},r._addAriaAndCollapsedClass=function(t,e){if(t){var n=i(t).hasClass(c);e.length&&i(e).toggleClass(f,!n).attr("aria-expanded",n)}},a._getTargetFromElement=function(e){var i=t.getSelectorFromElement(e);return i?document.querySelector(i):null},a._jQueryInterface=function(t){return this.each(function(){var n=i(this),s=n.data(o),r=e({},l,n.data(),"object"==typeof t&&t?t:{});if(!s&&r.toggle&&/show|hide/.test(t)&&(r.toggle=!1),s||(s=new a(this,r),n.data(o,s)),"string"==typeof t){if(void 0===s[t])throw new TypeError('No method named "'+t+'"');s[t]()}})},s(a,null,[{key:"VERSION",get:function(){return"4.1.2"}},{key:"Default",get:function(){return l}}]),a}();i(document).on(h.CLICK_DATA_API,g.DATA_TOGGLE,function(e){"A"===e.currentTarget.tagName&&e.preventDefault();var n=i(this),s=t.getSelectorFromElement(this),a=[].slice.call(document.querySelectorAll(s));i(a).each(function(){var t=i(this),e=t.data(o)?"toggle":n.data();v._jQueryInterface.call(t,e)})}),i.fn[n]=v._jQueryInterface,i.fn[n].Constructor=v,i.fn[n].noConflict=function(){return i.fn[n]=r,v._jQueryInterface}}($)}).call(this,i(3))},function(t,e,i){(function(t,e){function i(t){for(var e=1;e<arguments.length;e++){var i=null==arguments[e]?{}:arguments[e],s=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),s.forEach(function(e){n(t,e,i[e])})}return t}function n(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function s(t,e){for(var i,n=0;n<e.length;n++)(i=e[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}function o(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t}!function(n){var s="dropdown",a="bs.dropdown",r="."+a,l=".data-api",d=n.fn[s],h=/38|40|27/,c={HIDE:"hide"+r,HIDDEN:"hidden"+r,SHOW:"show"+r,SHOWN:"shown"+r,CLICK:"click"+r,CLICK_DATA_API:"click"+r+l,KEYDOWN_DATA_API:"keydown"+r+l,KEYUP_DATA_API:"keyup"+r+l},u="disabled",p="show",f="dropup",m="dropright",_="dropleft",g="dropdown-menu-right",v="position-static",y='[data-toggle="dropdown"]',b=".dropdown form",w=".dropdown-menu",D=".navbar-nav",k=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",x="top-start",S="top-end",C="bottom-start",T="bottom-end",E="right-start",M="left-start",I={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},A={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},O=function(){function l(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var d=l.prototype;return d.toggle=function(){if(!this._element.disabled&&!n(this._element).hasClass(u)){var i=l._getParentFromElement(this._element),s=n(this._menu).hasClass(p);if(l._clearMenus(),!s){var o={relatedTarget:this._element},a=n.Event(c.SHOW,o);if(n(i).trigger(a),!a.isDefaultPrevented()){if(!this._inNavbar){if(void 0===t)throw new TypeError("Bootstrap dropdown require Popper.js (https://popper.js.org)");var r=this._element;"parent"===this._config.reference?r=i:e.isElement(this._config.reference)&&(r=this._config.reference,void 0!==this._config.reference.jquery&&(r=this._config.reference[0])),"scrollParent"!==this._config.boundary&&n(i).addClass(v),this._popper=new t(r,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===n(i).closest(D).length&&n(document.body).children().on("mouseover",null,n.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),n(this._menu).toggleClass(p),n(i).toggleClass(p).trigger(n.Event(c.SHOWN,o))}}}},d.dispose=function(){n.removeData(this._element,a),n(this._element).off(r),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},d.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},d._addEventListeners=function(){var t=this;n(this._element).on(c.CLICK,function(e){e.preventDefault(),e.stopPropagation(),t.toggle()})},d._getConfig=function(t){return t=i({},this.constructor.Default,n(this._element).data(),t),e.typeCheckConfig(s,t,this.constructor.DefaultType),t},d._getMenuElement=function(){if(!this._menu){var t=l._getParentFromElement(this._element);t&&(this._menu=t.querySelector(w))}return this._menu},d._getPlacement=function(){var t=n(this._element.parentNode),e=C;return t.hasClass(f)?(e=x,n(this._menu).hasClass(g)&&(e=S)):t.hasClass(m)?e=E:t.hasClass(_)?e=M:n(this._menu).hasClass(g)&&(e=T),e},d._detectNavbar=function(){return 0<n(this._element).closest(".navbar").length},d._getPopperConfig=function(){var t=this,e={};"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=i({},e.offsets,t._config.offset(e.offsets)||{}),e}:e.offset=this._config.offset;var n={placement:this._getPlacement(),modifiers:{offset:e,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(n.modifiers.applyStyle={enabled:!1}),n},l._jQueryInterface=function(t){return this.each(function(){var e=n(this).data(a);if(e||(e=new l(this,"object"==typeof t?t:null),n(this).data(a,e)),"string"==typeof t){if(void 0===e[t])throw new TypeError('No method named "'+t+'"');e[t]()}})},l._clearMenus=function(t){if(!t||3!==t.which&&("keyup"!==t.type||9===t.which))for(var e=[].slice.call(document.querySelectorAll(y)),i=0,s=e.length;i<s;i++){var o=l._getParentFromElement(e[i]),r=n(e[i]).data(a),d={relatedTarget:e[i]};if(t&&"click"===t.type&&(d.clickEvent=t),r){var h=r._menu;if(n(o).hasClass(p)&&!(t&&("click"===t.type&&/input|textarea/i.test(t.target.tagName)||"keyup"===t.type&&9===t.which)&&n.contains(o,t.target))){var u=n.Event(c.HIDE,d);n(o).trigger(u),!u.isDefaultPrevented()&&("ontouchstart"in document.documentElement&&n(document.body).children().off("mouseover",null,n.noop),e[i].setAttribute("aria-expanded","false"),n(h).removeClass(p),n(o).removeClass(p).trigger(n.Event(c.HIDDEN,d)))}}}},l._getParentFromElement=function(t){var i,n=e.getSelectorFromElement(t);return n&&(i=document.querySelector(n)),i||t.parentNode},l._dataApiKeydownHandler=function(t){if((/input|textarea/i.test(t.target.tagName)?!(32===t.which||27!==t.which&&(40!==t.which&&38!==t.which||n(t.target).closest(w).length)):h.test(t.which))&&(t.preventDefault(),t.stopPropagation(),!this.disabled&&!n(this).hasClass(u))){var e=l._getParentFromElement(this),i=n(e).hasClass(p);if(!i&&(27!==t.which||32!==t.which)||i&&(27===t.which||32===t.which)){if(27===t.which){var s=e.querySelector(y);n(s).trigger("focus")}return void n(this).trigger("click")}var o=[].slice.call(e.querySelectorAll(k));if(0!==o.length){var a=o.indexOf(t.target);38===t.which&&0<a&&a--,40===t.which&&a<o.length-1&&a++,0>a&&(a=0),o[a].focus()}}},o(l,null,[{key:"VERSION",get:function(){return"4.1.2"}},{key:"Default",get:function(){return I}},{key:"DefaultType",get:function(){return A}}]),l}();n(document).on(c.KEYDOWN_DATA_API,y,O._dataApiKeydownHandler).on(c.KEYDOWN_DATA_API,w,O._dataApiKeydownHandler).on(c.CLICK_DATA_API+" "+c.KEYUP_DATA_API,O._clearMenus).on(c.CLICK_DATA_API,y,function(t){t.preventDefault(),t.stopPropagation(),O._jQueryInterface.call(n(this),"toggle")}).on(c.CLICK_DATA_API,b,function(t){t.stopPropagation()}),n.fn[s]=O._jQueryInterface,n.fn[s].Constructor=O,n.fn[s].noConflict=function(){return n.fn[s]=d,O._jQueryInterface}}($)}).call(this,i(5).default,i(3))},function(t){var e=function(){return this}();try{e=e||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,e,i){(function(t){function e(t){for(var e=1;e<arguments.length;e++){var n=null==arguments[e]?{}:arguments[e],s=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),s.forEach(function(e){i(t,e,n[e])})}return t}function i(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function n(t,e){for(var i,n=0;n<e.length;n++)(i=e[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}function s(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}!function(i){var n="modal",o="bs.modal",a="."+o,r=i.fn[n],l={backdrop:!0,keyboard:!0,focus:!0,show:!0},d={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},h={HIDE:"hide"+a,HIDDEN:"hidden"+a,SHOW:"show"+a,SHOWN:"shown"+a,FOCUSIN:"focusin"+a,RESIZE:"resize"+a,CLICK_DISMISS:"click.dismiss"+a,KEYDOWN_DISMISS:"keydown.dismiss"+a,MOUSEUP_DISMISS:"mouseup.dismiss"+a,MOUSEDOWN_DISMISS:"mousedown.dismiss"+a,CLICK_DATA_API:"click"+a+".data-api"},c="modal-scrollbar-measure",u="modal-backdrop",p="modal-open",f="fade",m="show",_={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top"},g=function(){function r(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=t.querySelector(_.DIALOG),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._scrollbarWidth=0}var g=r.prototype;return g.toggle=function(t){return this._isShown?this.hide():this.show(t)},g.show=function(t){var e=this;if(!this._isTransitioning&&!this._isShown){i(this._element).hasClass(f)&&(this._isTransitioning=!0);var n=i.Event(h.SHOW,{relatedTarget:t});i(this._element).trigger(n),this._isShown||n.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),i(document.body).addClass(p),this._setEscapeEvent(),this._setResizeEvent(),i(this._element).on(h.CLICK_DISMISS,_.DATA_DISMISS,function(t){return e.hide(t)}),i(this._dialog).on(h.MOUSEDOWN_DISMISS,function(){i(e._element).one(h.MOUSEUP_DISMISS,function(t){i(t.target).is(e._element)&&(e._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return e._showElement(t)}))}},g.hide=function(e){var n=this;if(e&&e.preventDefault(),!this._isTransitioning&&this._isShown){var s=i.Event(h.HIDE);if(i(this._element).trigger(s),this._isShown&&!s.isDefaultPrevented()){this._isShown=!1;var o=i(this._element).hasClass(f);if(o&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),i(document).off(h.FOCUSIN),i(this._element).removeClass(m),i(this._element).off(h.CLICK_DISMISS),i(this._dialog).off(h.MOUSEDOWN_DISMISS),o){var a=t.getTransitionDurationFromElement(this._element);i(this._element).one(t.TRANSITION_END,function(t){return n._hideModal(t)}).emulateTransitionEnd(a)}else this._hideModal()}}},g.dispose=function(){i.removeData(this._element,o),i(window,document,this._element,this._backdrop).off(a),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._scrollbarWidth=null},g.handleUpdate=function(){this._adjustDialog()},g._getConfig=function(i){return i=e({},l,i),t.typeCheckConfig(n,i,d),i},g._showElement=function(e){var n=this,s=i(this._element).hasClass(f);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,s&&t.reflow(this._element),i(this._element).addClass(m),this._config.focus&&this._enforceFocus();var o=i.Event(h.SHOWN,{relatedTarget:e}),a=function(){n._config.focus&&n._element.focus(),n._isTransitioning=!1,i(n._element).trigger(o)};if(s){var r=t.getTransitionDurationFromElement(this._element);i(this._dialog).one(t.TRANSITION_END,a).emulateTransitionEnd(r)}else a()},g._enforceFocus=function(){var t=this;i(document).off(h.FOCUSIN).on(h.FOCUSIN,function(e){document!==e.target&&t._element!==e.target&&0===i(t._element).has(e.target).length&&t._element.focus()})},g._setEscapeEvent=function(){var t=this;this._isShown&&this._config.keyboard?i(this._element).on(h.KEYDOWN_DISMISS,function(e){27===e.which&&(e.preventDefault(),t.hide())}):!this._isShown&&i(this._element).off(h.KEYDOWN_DISMISS)},g._setResizeEvent=function(){var t=this;this._isShown?i(window).on(h.RESIZE,function(e){return t.handleUpdate(e)}):i(window).off(h.RESIZE)},g._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._isTransitioning=!1,this._showBackdrop(function(){i(document.body).removeClass(p),t._resetAdjustments(),t._resetScrollbar(),i(t._element).trigger(h.HIDDEN)})},g._removeBackdrop=function(){this._backdrop&&(i(this._backdrop).remove(),this._backdrop=null)},g._showBackdrop=function(e){var n=this,s=i(this._element).hasClass(f)?f:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=u,s&&this._backdrop.classList.add(s),i(this._backdrop).appendTo(document.body),i(this._element).on(h.CLICK_DISMISS,function(t){return n._ignoreBackdropClick?void(n._ignoreBackdropClick=!1):void(t.target!==t.currentTarget||("static"===n._config.backdrop?n._element.focus():n.hide()))}),s&&t.reflow(this._backdrop),i(this._backdrop).addClass(m),!e)return;if(!s)return void e();var o=t.getTransitionDurationFromElement(this._backdrop);i(this._backdrop).one(t.TRANSITION_END,e).emulateTransitionEnd(o)}else if(!this._isShown&&this._backdrop){i(this._backdrop).removeClass(m);var a=function(){n._removeBackdrop(),e&&e()};if(i(this._element).hasClass(f)){var r=t.getTransitionDurationFromElement(this._backdrop);i(this._backdrop).one(t.TRANSITION_END,a).emulateTransitionEnd(r)}else a()}else e&&e()},g._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},g._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},g._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=t.left+t.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},g._setScrollbar=function(){var t=this;if(this._isBodyOverflowing){var e=[].slice.call(document.querySelectorAll(_.FIXED_CONTENT)),n=[].slice.call(document.querySelectorAll(_.STICKY_CONTENT));i(e).each(function(e,n){var s=n.style.paddingRight,o=i(n).css("padding-right");i(n).data("padding-right",s).css("padding-right",parseFloat(o)+t._scrollbarWidth+"px")}),i(n).each(function(e,n){var s=n.style.marginRight,o=i(n).css("margin-right");i(n).data("margin-right",s).css("margin-right",parseFloat(o)-t._scrollbarWidth+"px")});var s=document.body.style.paddingRight,o=i(document.body).css("padding-right");i(document.body).data("padding-right",s).css("padding-right",parseFloat(o)+this._scrollbarWidth+"px")}},g._resetScrollbar=function(){var t=[].slice.call(document.querySelectorAll(_.FIXED_CONTENT));i(t).each(function(t,e){var n=i(e).data("padding-right");i(e).removeData("padding-right"),e.style.paddingRight=n||""});var e=[].slice.call(document.querySelectorAll(""+_.STICKY_CONTENT));i(e).each(function(t,e){var n=i(e).data("margin-right");void 0!==n&&i(e).css("margin-right",n).removeData("margin-right")});var n=i(document.body).data("padding-right");i(document.body).removeData("padding-right"),document.body.style.paddingRight=n||""},g._getScrollbarWidth=function(){var t=document.createElement("div");t.className=c,document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},r._jQueryInterface=function(t,n){return this.each(function(){var s=i(this).data(o),a=e({},l,i(this).data(),"object"==typeof t&&t?t:{});if(s||(s=new r(this,a),i(this).data(o,s)),"string"==typeof t){if(void 0===s[t])throw new TypeError('No method named "'+t+'"');s[t](n)}else a.show&&s.show(n)})},s(r,null,[{key:"VERSION",get:function(){return"4.1.2"}},{key:"Default",get:function(){return l}}]),r}();i(document).on(h.CLICK_DATA_API,_.DATA_TOGGLE,function(n){var s,a=this,r=t.getSelectorFromElement(this);r&&(s=document.querySelector(r));var l=i(s).data(o)?"toggle":e({},i(s).data(),i(this).data());("A"===this.tagName||"AREA"===this.tagName)&&n.preventDefault();var d=i(s).one(h.SHOW,function(t){t.isDefaultPrevented()||d.one(h.HIDDEN,function(){i(a).is(":visible")&&a.focus()})});g._jQueryInterface.call(i(s),l,this)}),i.fn[n]=g._jQueryInterface,i.fn[n].Constructor=g,i.fn[n].noConflict=function(){return i.fn[n]=r,g._jQueryInterface}}($)}).call(this,i(3))},function(t){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],!t.children&&(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(){var t=Math.max,e=Math.min;!function(i){"use strict";function n(t){var e,i=[],n=t&&t.options;if(t.multiple)for(var s=0,o=n.length;s<o;s++)(e=n[s]).selected&&i.push(e.value||e.text);else i=t.value;return i}function s(t,e,i,n){for(var s=["content","subtext","tokens"],o=!1,r=0;r<s.length;r++){var l=s[r],d=t[l];if(d&&(d=d.toString(),"content"===l&&(d=d.replace(/<[^>]+>/g,"")),n&&(d=a(d)),d=d.toUpperCase(),o="contains"===i?0<=d.indexOf(e):d.startsWith(e)))break}return o}function o(t){return parseInt(t,10)||0}function a(t){return i.each([{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}],function(){t=t?t.replace(this.re,this.ch):""}),t}function r(t){var e=arguments,n=t;[].shift.apply(e);var s,o=this.each(function(){var t=i(this);if(t.is("select")){var o=t.data("selectpicker"),a="object"==typeof n&&n;if(o){if(a)for(var r in a)a.hasOwnProperty(r)&&(o.options[r]=a[r])}else{var l=i.extend({},E.DEFAULTS,i.fn.selectpicker.defaults||{},t.data(),a);l.template=i.extend({},E.DEFAULTS.template,i.fn.selectpicker.defaults?i.fn.selectpicker.defaults.template:{},t.data().template,a.template),t.data("selectpicker",o=new E(this,l))}"string"==typeof n&&(s=o[n]instanceof Function?o[n].apply(o,e):o.options[n])}});return void 0===s?o:s}var l=String.prototype,d=document.createElement("_");if(d.classList.toggle("c3",!1),d.classList.contains("c3")){var h=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:h.call(this,t)}}l.startsWith||function(){var i=function(){try{var t={},e=Object.defineProperty,i=e(t,t,t)&&e}catch(t){}return i}(),n={}.toString,s=function(i){if(null==this)throw new TypeError;var s=this+"";if(i&&"[object RegExp]"==n.call(i))throw new TypeError;var o=s.length,a=i+"",r=a.length,l=1<arguments.length?arguments[1]:void 0,d=l?+l:0;d!=d&&(d=0);var h=e(t(d,0),o);if(r+h>o)return!1;for(var c=-1;++c<r;)if(s.charCodeAt(h+c)!=a.charCodeAt(c))return!1;return!0};i?i(String.prototype,"startsWith",{value:s,configurable:!0,writable:!0}):l.startsWith=s}(),Object.keys||(Object.keys=function(t,e,i){for(e in i=[],t)i.hasOwnProperty.call(t,e)&&i.push(e);return i});var c={useDefault:!1,_set:i.valHooks.select.set};i.valHooks.select.set=function(t,e){return e&&!c.useDefault&&i(t).data("selected",!0),c._set.apply(this,arguments)};var u=null,p=function(){try{return new Event("change"),!0}catch(t){return!1}}();i.fn.triggerNative=function(t){var e,i=this[0];i.dispatchEvent?(p?e=new Event(t,{bubbles:!0}):(e=document.createEvent("Event")).initEvent(t,!0,!1),i.dispatchEvent(e)):i.fireEvent?((e=document.createEventObject()).eventType=t,i.fireEvent("on"+t,e)):this.trigger(t)};var f=function(t){var e=function(e){return t[e]},i="(?:"+Object.keys(t).join("|")+")",n=RegExp(i),s=RegExp(i,"g");return function(t){return t=null==t?"":""+t,n.test(t)?t.replace(s,e):t}},m=f({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}),_=f({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#x60;":"`"}),g={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},v=27,y=13,b=32,w=9,D=38,k=40,x={};try{x.full=(i.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split("."),x.major=x.full[0]}catch(t){console.error("There was an issue retrieving Bootstrap's version. Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision.",t),x.major="3"}var S={DISABLED:"disabled",DIVIDER:"4"===x.major?"dropdown-divider":"divider",SHOW:"4"===x.major?"show":"open",DROPUP:"dropup",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",BUTTONCLASS:"4"===x.major?"btn-light":"btn-default",POPOVERHEADER:"4"===x.major?"popover-header":"popover-title"},C=new RegExp(D+"|"+k),T=new RegExp("^"+w+"$|"+v),E=(new RegExp(y+"|"+b),function(t,e){var n=this;c.useDefault||(i.valHooks.select.set=c._set,c.useDefault=!0),this.$element=i(t),this.$newElement=null,this.$button=null,this.$menu=null,this.options=e,this.selectpicker={main:{map:{newIndex:{},originalIndex:{}}},current:{map:{}},search:{map:{}},view:{},keydown:{keyHistory:"",resetKeyHistory:{start:function(){return setTimeout(function(){n.selectpicker.keydown.keyHistory=""},800)}}}},null===this.options.title&&(this.options.title=this.$element.attr("title"));var s=this.options.windowPadding;"number"==typeof s&&(this.options.windowPadding=[s,s,s,s]),this.val=E.prototype.val,this.render=E.prototype.render,this.refresh=E.prototype.refresh,this.setStyle=E.prototype.setStyle,this.selectAll=E.prototype.selectAll,this.deselectAll=E.prototype.deselectAll,this.destroy=E.prototype.destroy,this.remove=E.prototype.remove,this.show=E.prototype.show,this.hide=E.prototype.hide,this.init()});E.VERSION="1.13.1",E.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(t){return 1==t?"{0} item selected":"{0} items selected"},maxOptionsText:function(t,e){return[1==t?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==e?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0,virtualScroll:600},"4"===x.major&&(E.DEFAULTS.style="btn-light",E.DEFAULTS.iconBase="",E.DEFAULTS.tickIcon="bs-ok-default"),E.prototype={constructor:E,init:function(){var t=this,e=this.$element.attr("id");this.$element.addClass("bs-select-hidden"),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createDropdown(),this.createLi(),this.$element.after(this.$newElement).prependTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(".dropdown-menu"),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element.removeClass("bs-select-hidden"),!0===this.options.dropdownAlignRight&&this.$menu.addClass(S.MENURIGHT),void 0!==e&&this.$button.attr("data-id",e),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container?this.selectPosition():this.$element.on("hide.bs.select",function(){if(t.isVirtual()){var e=t.$menuInner[0],i=e.firstChild.cloneNode(!1);e.replaceChild(i,e.firstChild),e.scrollTop=0}}),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(e){t.$menuInner.attr("aria-expanded",!1),t.$element.trigger("hide.bs.select",e)},"hidden.bs.dropdown":function(e){t.$element.trigger("hidden.bs.select",e)},"show.bs.dropdown":function(e){t.$menuInner.attr("aria-expanded",!0),t.$element.trigger("show.bs.select",e)},"shown.bs.dropdown":function(e){t.$element.trigger("shown.bs.select",e)}}),t.$element[0].hasAttribute("required")&&this.$element.on("invalid",function(){t.$button.addClass("bs-invalid"),t.$element.on({"shown.bs.select":function(){t.$element.val(t.$element.val()).off("shown.bs.select")},"rendered.bs.select":function(){this.validity.valid&&t.$button.removeClass("bs-invalid"),t.$element.off("rendered.bs.select")}}),t.$button.on("blur.bs.select",function(){t.$element.focus().blur(),t.$button.off("blur.bs.select")})}),setTimeout(function(){t.$element.trigger("loaded.bs.select")})},createDropdown:function(){var t=this.multiple||this.options.showTick?" show-tick":"",e=this.autofocus?" autofocus":"",n=this.options.header?'<div class="'+S.POPOVERHEADER+'"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",s=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+m(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"></div>':"",o=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn '+S.BUTTONCLASS+'">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn '+S.BUTTONCLASS+'">'+this.options.deselectAllText+"</button></div></div>":"",a=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm '+S.BUTTONCLASS+'">'+this.options.doneButtonText+"</button></div></div>":"",r='<div class="dropdown bootstrap-select'+t+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+e+' role="button"><div class="filter-option"><div class="filter-option-inner"><div class="filter-option-inner-inner"></div></div> </div>'+("4"===x.major?"":'<span class="bs-caret">'+this.options.template.caret+"</span>")+'</button><div class="dropdown-menu '+("4"===x.major?"":S.SHOW)+'" role="combobox">'+n+s+o+'<div class="inner '+S.SHOW+'" role="listbox" aria-expanded="false" tabindex="-1"><ul class="dropdown-menu inner '+("4"===x.major?S.SHOW:"")+'"></ul></div>'+a+"</div></div>";return i(r)},setPositionData:function(){this.selectpicker.view.canHighlight=[];for(var t=0;t<this.selectpicker.current.data.length;t++){var e=this.selectpicker.current.data[t],i=!0;"divider"===e.type?(i=!1,e.height=this.sizeInfo.dividerHeight):"optgroup-label"===e.type?(i=!1,e.height=this.sizeInfo.dropdownHeaderHeight):e.height=this.sizeInfo.liHeight,e.disabled&&(i=!1),this.selectpicker.view.canHighlight.push(i),e.position=(0===t?0:this.selectpicker.current.data[t-1].position)+e.height}},isVirtual:function(){return!1!==this.options.virtualScroll&&this.selectpicker.main.elements.length>=this.options.virtualScroll||!0===this.options.virtualScroll},createView:function(n,s){function o(i,s){var o,h,c,u,p,f,m,_,g=a.selectpicker.current.elements.length,v=[],y=!0,b=a.isVirtual();a.selectpicker.view.scrollTop=i,!0===b&&a.sizeInfo.hasScrollBar&&a.$menu[0].offsetWidth>a.sizeInfo.totalMenuWidth&&(a.sizeInfo.menuWidth=a.$menu[0].offsetWidth,a.sizeInfo.totalMenuWidth=a.sizeInfo.menuWidth+a.sizeInfo.scrollBarWidth,a.$menu.css("min-width",a.sizeInfo.menuWidth)),o=Math.ceil(a.sizeInfo.menuInnerHeight/a.sizeInfo.liHeight*1.5),h=Math.round(g/o)||1;for(var w,D=0;D<h&&(w=(D+1)*o,D===h-1&&(w=g),v[D]=[D*o+(D?1:0),w],g);D++)void 0===p&&i<=a.selectpicker.current.data[w-1].position-a.sizeInfo.menuInnerHeight&&(p=D);if(void 0===p&&(p=0),f=[a.selectpicker.view.position0,a.selectpicker.view.position1],c=t(0,p-1),u=e(h-1,p+1),a.selectpicker.view.position0=t(0,v[c][0])||0,a.selectpicker.view.position1=e(g,v[u][1])||0,m=f[0]!==a.selectpicker.view.position0||f[1]!==a.selectpicker.view.position1,void 0!==a.activeIndex&&(l=a.selectpicker.current.elements[a.selectpicker.current.map.newIndex[a.prevActiveIndex]],d=a.selectpicker.current.elements[a.selectpicker.current.map.newIndex[a.activeIndex]],r=a.selectpicker.current.elements[a.selectpicker.current.map.newIndex[a.selectedIndex]],s&&(a.activeIndex!==a.selectedIndex&&(d.classList.remove("active"),d.firstChild&&d.firstChild.classList.remove("active")),a.activeIndex=void 0),a.activeIndex&&a.activeIndex!==a.selectedIndex&&r&&r.length&&(r.classList.remove("active"),r.firstChild&&r.firstChild.classList.remove("active"))),void 0!==a.prevActiveIndex&&a.prevActiveIndex!==a.activeIndex&&a.prevActiveIndex!==a.selectedIndex&&l&&l.length&&(l.classList.remove("active"),l.firstChild&&l.firstChild.classList.remove("active")),(s||m)&&(_=a.selectpicker.view.visibleElements?a.selectpicker.view.visibleElements.slice():[],a.selectpicker.view.visibleElements=a.selectpicker.current.elements.slice(a.selectpicker.view.position0,a.selectpicker.view.position1),a.setOptionStatus(),(n||!1===b&&s)&&(y=!function(t,e){return t.length===e.length&&t.every(function(t,i){return t===e[i]})}(_,a.selectpicker.view.visibleElements)),(s||!0===b)&&y)){var k,x,S=a.$menuInner[0],C=document.createDocumentFragment(),T=S.firstChild.cloneNode(!1),E=!0===b?a.selectpicker.view.visibleElements:a.selectpicker.current.elements;S.replaceChild(T,S.firstChild);D=0;for(var M=E.length;D<M;D++)C.appendChild(E[D]);!0===b&&(k=0===a.selectpicker.view.position0?0:a.selectpicker.current.data[a.selectpicker.view.position0-1].position,x=a.selectpicker.view.position1>g-1?0:a.selectpicker.current.data[g-1].position-a.selectpicker.current.data[a.selectpicker.view.position1-1].position,S.firstChild.style.marginTop=k+"px",S.firstChild.style.marginBottom=x+"px"),S.firstChild.appendChild(C)}if(a.prevActiveIndex=a.activeIndex,a.options.liveSearch){if(n&&s){var I,A=0;a.selectpicker.view.canHighlight[A]||(A=1+a.selectpicker.view.canHighlight.slice(1).indexOf(!0)),I=a.selectpicker.view.visibleElements[A],a.selectpicker.view.currentActive&&(a.selectpicker.view.currentActive.classList.remove("active"),a.selectpicker.view.currentActive.firstChild&&a.selectpicker.view.currentActive.firstChild.classList.remove("active")),I&&(I.classList.add("active"),I.firstChild&&I.firstChild.classList.add("active")),a.activeIndex=a.selectpicker.current.map.originalIndex[A]}}else a.$menuInner.focus()}s=s||0;var a=this;this.selectpicker.current=n?this.selectpicker.search:this.selectpicker.main;var r,l,d=[];this.setPositionData(),o(s,!0),this.$menuInner.off("scroll.createView").on("scroll.createView",function(t,e){a.noScroll||o(this.scrollTop,e),a.noScroll=!1}),i(window).off("resize.createView").on("resize.createView",function(){o(a.$menuInner[0].scrollTop)})},createLi:function(){var t,e=this,n=[],s=0,o=0,a=[],r=0,l=0,d=-1;this.selectpicker.view.titleOption||(this.selectpicker.view.titleOption=document.createElement("option"));var h={span:document.createElement("span"),subtext:document.createElement("small"),a:document.createElement("a"),li:document.createElement("li"),whitespace:document.createTextNode(" ")},c=h.span.cloneNode(!1),u=document.createDocumentFragment();c.className=e.options.iconBase+" "+e.options.tickIcon+" check-mark",h.a.appendChild(c),h.a.setAttribute("role","option"),h.subtext.className="text-muted",h.text=h.span.cloneNode(!1),h.text.className="text";var p=function(t,e,i,n){var s=h.li.cloneNode(!1);return t&&(1===t.nodeType||11===t.nodeType?s.appendChild(t):s.innerHTML=t),void 0!==i&&""!==i&&(s.className=i),void 0!==n&&null!==n&&s.classList.add("optgroup-"+n),s},f=function(t,e,i){var n=h.a.cloneNode(!0);return t&&(11===t.nodeType?n.appendChild(t):n.insertAdjacentHTML("beforeend",t)),void 0!==e&""!==e&&(n.className=e),"4"===x.major&&n.classList.add("dropdown-item"),i&&n.setAttribute("style",i),n},_=function(t){var i,n,s=h.text.cloneNode(!1);if(t.optionContent)s.innerHTML=t.optionContent;else{if(s.textContent=t.text,t.optionIcon){var o=h.whitespace.cloneNode(!1);(n=h.span.cloneNode(!1)).className=e.options.iconBase+" "+t.optionIcon,u.appendChild(n),u.appendChild(o)}t.optionSubtext&&((i=h.subtext.cloneNode(!1)).innerHTML=t.optionSubtext,s.appendChild(i))}return u.appendChild(s),u},g=function(t){var i,n,s=h.text.cloneNode(!1);if(s.textContent=t.labelEscaped,t.labelIcon){var o=h.whitespace.cloneNode(!1);(n=h.span.cloneNode(!1)).className=e.options.iconBase+" "+t.labelIcon,u.appendChild(n),u.appendChild(o)}return t.labelSubtext&&((i=h.subtext.cloneNode(!1)).textContent=t.labelSubtext,s.appendChild(i)),u.appendChild(s),u};if(this.options.title&&!this.multiple){d--;var v=this.$element[0],y=!1,b=!this.selectpicker.view.titleOption.parentNode;if(b)this.selectpicker.view.titleOption.className="bs-title-option",this.selectpicker.view.titleOption.value="",y=void 0===i(v.options[v.selectedIndex]).attr("selected")&&void 0===this.$element.data("selected");(b||0!==this.selectpicker.view.titleOption.index)&&v.insertBefore(this.selectpicker.view.titleOption,v.firstChild),y&&(v.selectedIndex=0)}var w=this.$element.find("option");w.each(function(h){var c=i(this);if(d++,!c.hasClass("bs-title-option")){var u,v,y=c.data(),b=this.className||"",D=m(this.style.cssText),k=y.content,x=this.textContent,C=y.tokens,T=y.subtext,E=y.icon,M=c.parent(),I=M[0],A="OPTGROUP"===I.tagName,O=A&&I.disabled,P=this.disabled||O,N=this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName,L=M.data();if(!0===y.hidden||e.options.hideDisabled&&(P&&!A||O)){if(u=y.prevHiddenIndex,c.next().data("prevHiddenIndex",void 0===u?h:u),d--,!N&&void 0!==u)(V=w[u].previousElementSibling)&&"OPTGROUP"===V.tagName&&!V.disabled&&(N=!0);return void(N&&"divider"!==a[a.length-1].type&&(d++,n.push(p(!1,0,S.DIVIDER,r+"div")),a.push({type:"divider",optID:r,originalIndex:h})))}if(A&&!0!==y.divider){if(e.options.hideDisabled&&P){if(void 0===L.allOptionsDisabled){var H=M.children();M.data("allOptionsDisabled",H.filter(":disabled").length===H.length)}if(M.data("allOptionsDisabled"))return void d--}var F=" "+I.className||"";if(!this.previousElementSibling){r+=1;var $=I.label,R=m($),Y=L.subtext,z=L.icon;0!==h&&0<n.length&&(d++,n.push(p(!1,0,S.DIVIDER,r+"div")),a.push({type:"divider",optID:r,originalIndex:h})),d++;var B=g({labelEscaped:R,labelSubtext:Y,labelIcon:z});n.push(p(B,0,"dropdown-header"+F,r)),a.push({content:R,subtext:Y,type:"optgroup-label",optID:r,originalIndex:h}),l=d-1}if(e.options.hideDisabled&&P||!0===y.hidden)return void d--;v=_({text:x,optionContent:k,optionSubtext:T,optionIcon:E}),n.push(p(f(v,"opt "+b+F,D),0,"",r)),a.push({content:k||x,subtext:T,tokens:C,type:"option",optID:r,headerIndex:l,lastIndex:l+I.childElementCount,originalIndex:h,data:y}),s++}else if(!0===y.divider)n.push(p(!1,0,"divider")),a.push({type:"divider",originalIndex:h});else{var V;if(!N&&e.options.hideDisabled&&void 0!==(u=y.prevHiddenIndex))(V=w[u].previousElementSibling)&&"OPTGROUP"===V.tagName&&!V.disabled&&(N=!0);N&&"divider"!==a[a.length-1].type&&(d++,n.push(p(!1,0,S.DIVIDER,r+"div")),a.push({type:"divider",optID:r,originalIndex:h})),v=_({text:x,optionContent:k,optionSubtext:T,optionIcon:E}),n.push(p(f(v,b,D))),a.push({content:k||x,subtext:T,tokens:C,type:"option",originalIndex:h,data:y}),s++}e.selectpicker.main.map.newIndex[h]=d,e.selectpicker.main.map.originalIndex[d]=h;var W=a[a.length-1];W.disabled=P;var j=0;W.content&&(j+=W.content.length),W.subtext&&(j+=W.subtext.length),E&&(j+=1),j>o&&(o=j,t=n[n.length-1])}}),this.selectpicker.main.elements=n,this.selectpicker.main.data=a,this.selectpicker.current=this.selectpicker.main,this.selectpicker.view.widestOption=t,this.selectpicker.view.availableOptionsCount=s},findLis:function(){return this.$menuInner.find(".inner > li")},render:function(){var t=this,e=this.$element.find("option"),i=[],n=[];this.togglePlaceholder(),this.tabIndex();for(var s=0,o=this.selectpicker.main.elements.length;s<o;s++){var a=e[this.selectpicker.main.map.originalIndex[s]];if(a&&a.selected&&(i.push(a),100>n.length&&"count"!==t.options.selectedTextFormat||1===i.length)){if(t.options.hideDisabled&&(a.disabled||"OPTGROUP"===a.parentNode.tagName&&a.parentNode.disabled))return;var r,l,d=this.selectpicker.main.data[s].data,h=d.icon&&t.options.showIcon?'<i class="'+t.options.iconBase+" "+d.icon+'"></i> ':"";r=t.options.showSubtext&&d.subtext&&!t.multiple?' <small class="text-muted">'+d.subtext+"</small>":"",l=a.title?a.title:d.content&&t.options.showContent?d.content.toString():h+a.innerHTML.trim()+r,n.push(l)}}var c=this.multiple?n.join(this.options.multipleSeparator):n[0];if(50<i.length&&(c+="..."),this.multiple&&-1!==this.options.selectedTextFormat.indexOf("count")){var u=this.options.selectedTextFormat.split(">");if(1<u.length&&i.length>u[1]||1===u.length&&2<=i.length){var p=this.selectpicker.view.availableOptionsCount;c=("function"==typeof this.options.countSelectedText?this.options.countSelectedText(i.length,p):this.options.countSelectedText).replace("{0}",i.length.toString()).replace("{1}",p.toString())}}void 0==this.options.title&&(this.options.title=this.$element.attr("title")),"static"==this.options.selectedTextFormat&&(c=this.options.title),c||(c=void 0===this.options.title?this.options.noneSelectedText:this.options.title),this.$button[0].title=_(c.replace(/<[^>]*>?/g,"").trim()),this.$button.find(".filter-option-inner-inner")[0].innerHTML=c,this.$element.trigger("rendered.bs.select")},setStyle:function(t,e){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var i=t||this.options.style;"add"==e?this.$button.addClass(i):"remove"==e?this.$button.removeClass(i):(this.$button.removeClass(this.options.style),this.$button.addClass(i))},liHeight:function(t){if(t||!1!==this.options.size&&!this.sizeInfo){this.sizeInfo||(this.sizeInfo={});var e=document.createElement("div"),n=document.createElement("div"),s=document.createElement("div"),a=document.createElement("ul"),r=document.createElement("li"),l=document.createElement("li"),d=document.createElement("li"),h=document.createElement("a"),c=document.createElement("span"),u=this.options.header&&0<this.$menu.find("."+S.POPOVERHEADER).length?this.$menu.find("."+S.POPOVERHEADER)[0].cloneNode(!0):null,p=this.options.liveSearch?document.createElement("div"):null,f=this.options.actionsBox&&this.multiple&&0<this.$menu.find(".bs-actionsbox").length?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,m=this.options.doneButton&&this.multiple&&0<this.$menu.find(".bs-donebutton").length?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;if(this.sizeInfo.selectWidth=this.$newElement[0].offsetWidth,c.className="text",h.className="dropdown-item",e.className=this.$menu[0].parentNode.className+" "+S.SHOW,e.style.width=this.sizeInfo.selectWidth+"px",n.className="dropdown-menu "+S.SHOW,s.className="inner "+S.SHOW,a.className="dropdown-menu inner "+("4"===x.major?S.SHOW:""),r.className=S.DIVIDER,l.className="dropdown-header",c.appendChild(document.createTextNode("Inner text")),h.appendChild(c),d.appendChild(h),l.appendChild(c.cloneNode(!0)),this.selectpicker.view.widestOption&&a.appendChild(this.selectpicker.view.widestOption.cloneNode(!0)),a.appendChild(d),a.appendChild(r),a.appendChild(l),u&&n.appendChild(u),p){var _=document.createElement("input");p.className="bs-searchbox",_.className="form-control",p.appendChild(_),n.appendChild(p)}f&&n.appendChild(f),s.appendChild(a),n.appendChild(s),m&&n.appendChild(m),e.appendChild(n),document.body.appendChild(e);var g,v=h.offsetHeight,y=l?l.offsetHeight:0,b=u?u.offsetHeight:0,w=p?p.offsetHeight:0,D=f?f.offsetHeight:0,k=m?m.offsetHeight:0,C=i(r).outerHeight(!0),T=!!window.getComputedStyle&&window.getComputedStyle(n),E=n.offsetWidth,M=T?null:i(n),I={vert:o(T?T.paddingTop:M.css("paddingTop"))+o(T?T.paddingBottom:M.css("paddingBottom"))+o(T?T.borderTopWidth:M.css("borderTopWidth"))+o(T?T.borderBottomWidth:M.css("borderBottomWidth")),horiz:o(T?T.paddingLeft:M.css("paddingLeft"))+o(T?T.paddingRight:M.css("paddingRight"))+o(T?T.borderLeftWidth:M.css("borderLeftWidth"))+o(T?T.borderRightWidth:M.css("borderRightWidth"))},A={vert:I.vert+o(T?T.marginTop:M.css("marginTop"))+o(T?T.marginBottom:M.css("marginBottom"))+2,horiz:I.horiz+o(T?T.marginLeft:M.css("marginLeft"))+o(T?T.marginRight:M.css("marginRight"))+2};s.style.overflowY="scroll",g=n.offsetWidth-E,document.body.removeChild(e),this.sizeInfo.liHeight=v,this.sizeInfo.dropdownHeaderHeight=y,this.sizeInfo.headerHeight=b,this.sizeInfo.searchHeight=w,this.sizeInfo.actionsHeight=D,this.sizeInfo.doneButtonHeight=k,this.sizeInfo.dividerHeight=C,this.sizeInfo.menuPadding=I,this.sizeInfo.menuExtras=A,this.sizeInfo.menuWidth=E,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth,this.sizeInfo.scrollBarWidth=g,this.sizeInfo.selectHeight=this.$newElement[0].offsetHeight,this.setPositionData()}},getSelectPosition:function(){var t,e=this,n=i(window),s=e.$newElement.offset(),o=i(e.options.container);e.options.container&&!o.is("body")?((t=o.offset()).top+=parseInt(o.css("borderTopWidth")),t.left+=parseInt(o.css("borderLeftWidth"))):t={top:0,left:0};var a=e.options.windowPadding;this.sizeInfo.selectOffsetTop=s.top-t.top-n.scrollTop(),this.sizeInfo.selectOffsetBot=n.height()-this.sizeInfo.selectOffsetTop-this.sizeInfo.selectHeight-t.top-a[2],this.sizeInfo.selectOffsetLeft=s.left-t.left-n.scrollLeft(),this.sizeInfo.selectOffsetRight=n.width()-this.sizeInfo.selectOffsetLeft-this.sizeInfo.selectWidth-t.left-a[1],this.sizeInfo.selectOffsetTop-=a[0],this.sizeInfo.selectOffsetLeft-=a[3]},setMenuSize:function(){this.getSelectPosition();var e,i,n,s,o,a,r,l=this.sizeInfo.selectWidth,d=this.sizeInfo.liHeight,h=this.sizeInfo.headerHeight,c=this.sizeInfo.searchHeight,u=this.sizeInfo.actionsHeight,p=this.sizeInfo.doneButtonHeight,f=this.sizeInfo.dividerHeight,m=this.sizeInfo.menuPadding,_=0;if(this.options.dropupAuto&&(r=d*this.selectpicker.current.elements.length+m.vert,this.$newElement.toggleClass(S.DROPUP,this.sizeInfo.selectOffsetTop-this.sizeInfo.selectOffsetBot>this.sizeInfo.menuExtras.vert&&r+this.sizeInfo.menuExtras.vert+50>this.sizeInfo.selectOffsetBot)),"auto"===this.options.size)s=3<this.selectpicker.current.elements.length?3*this.sizeInfo.liHeight+this.sizeInfo.menuExtras.vert-2:0,i=this.sizeInfo.selectOffsetBot-this.sizeInfo.menuExtras.vert,n=s+h+c+u+p,a=t(s-m.vert,0),this.$newElement.hasClass(S.DROPUP)&&(i=this.sizeInfo.selectOffsetTop-this.sizeInfo.menuExtras.vert),o=i,e=i-h-c-u-p-m.vert;else if(this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size){for(var g=0;g<this.options.size;g++)"divider"===this.selectpicker.current.data[g].type&&_++;e=(i=d*this.options.size+_*f+m.vert)-m.vert,o=i+h+c+u+p,n=a=""}"auto"===this.options.dropdownAlignRight&&this.$menu.toggleClass(S.MENURIGHT,this.sizeInfo.selectOffsetLeft>this.sizeInfo.selectOffsetRight&&this.sizeInfo.selectOffsetRight<this.$menu[0].offsetWidth-l),this.$menu.css({"max-height":o+"px",overflow:"hidden","min-height":n+"px"}),this.$menuInner.css({"max-height":e+"px","overflow-y":"auto","min-height":a+"px"}),this.sizeInfo.menuInnerHeight=e,this.selectpicker.current.data.length&&this.selectpicker.current.data[this.selectpicker.current.data.length-1].position>this.sizeInfo.menuInnerHeight&&(this.sizeInfo.hasScrollBar=!0,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth+this.sizeInfo.scrollBarWidth,this.$menu.css("min-width",this.sizeInfo.totalMenuWidth)),this.dropdown&&this.dropdown._popper&&this.dropdown._popper.update()},setSize:function(t){if(this.liHeight(t),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size){var e,n=this,s=i(window),o=0;this.setMenuSize(),"auto"===this.options.size?(this.$searchbox.off("input.setMenuSize propertychange.setMenuSize").on("input.setMenuSize propertychange.setMenuSize",function(){return n.setMenuSize()}),s.off("resize.setMenuSize scroll.setMenuSize").on("resize.setMenuSize scroll.setMenuSize",function(){return n.setMenuSize()})):this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size&&(this.$searchbox.off("input.setMenuSize propertychange.setMenuSize"),s.off("resize.setMenuSize scroll.setMenuSize")),t?o=this.$menuInner[0].scrollTop:!n.multiple&&("number"==typeof(e=n.selectpicker.main.map.newIndex[n.$element[0].selectedIndex])&&!1!==n.options.size&&(o=(o=n.sizeInfo.liHeight*e)-n.sizeInfo.menuInnerHeight/2+n.sizeInfo.liHeight/2)),n.createView(!1,o)}},setWidth:function(){var e=this;"auto"===this.options.width?requestAnimationFrame(function(){e.$menu.css("min-width","0"),e.liHeight(),e.setMenuSize();var i=e.$newElement.clone().appendTo("body"),n=i.css("width","auto").children("button").outerWidth();i.remove(),e.sizeInfo.selectWidth=t(e.sizeInfo.totalMenuWidth,n),e.$newElement.css("width",e.sizeInfo.selectWidth+"px")}):"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width","")),this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){this.$bsContainer=i('<div class="bs-container" />');var t,e,n,s=this,o=i(this.options.container),a=function(i){var a={};s.$bsContainer.addClass(i.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass(S.DROPUP,i.hasClass(S.DROPUP)),t=i.offset(),o.is("body")?e={top:0,left:0}:((e=o.offset()).top+=parseInt(o.css("borderTopWidth"))-o.scrollTop(),e.left+=parseInt(o.css("borderLeftWidth"))-o.scrollLeft()),n=i.hasClass(S.DROPUP)?0:i[0].offsetHeight,4>x.major&&(a.top=t.top-e.top+n,a.left=t.left-e.left),a.width=i[0].offsetWidth,s.$bsContainer.css(a)};this.$button.on("click.bs.dropdown.data-api",function(){s.isDisabled()||(a(s.$newElement),s.$bsContainer.appendTo(s.options.container).toggleClass(S.SHOW,!s.$button.hasClass(S.SHOW)).append(s.$menu))}),i(window).on("resize scroll",function(){a(s.$newElement)}),this.$element.on("hide.bs.select",function(){s.$menu.data("height",s.$menu.height()),s.$bsContainer.detach()})},setOptionStatus:function(){var t=this,e=this.$element.find("option");if(t.noScroll=!1,t.selectpicker.view.visibleElements&&t.selectpicker.view.visibleElements.length)for(var i=0;i<t.selectpicker.view.visibleElements.length;i++){var n=t.selectpicker.current.map.originalIndex[i+t.selectpicker.view.position0],s=e[n];if(s){var o=this.selectpicker.main.map.newIndex[n],a=this.selectpicker.main.elements[o];t.setDisabled(n,s.disabled||"OPTGROUP"===s.parentNode.tagName&&s.parentNode.disabled,o,a),t.setSelected(n,s.selected,o,a)}}},setSelected:function(t,e,i,n){var s,o,a,r=void 0!==this.activeIndex,l=this.activeIndex===t||e&&!this.multiple&&!r;i||(i=this.selectpicker.main.map.newIndex[t]),n||(n=this.selectpicker.main.elements[i]),a=n.firstChild,e&&(this.selectedIndex=t),n.classList.toggle("selected",e),n.classList.toggle("active",l),l&&(this.selectpicker.view.currentActive=n,this.activeIndex=t),a&&(a.classList.toggle("selected",e),a.classList.toggle("active",l),a.setAttribute("aria-selected",e)),l||r||!e||void 0===this.prevActiveIndex||(s=this.selectpicker.main.map.newIndex[this.prevActiveIndex],(o=this.selectpicker.main.elements[s]).classList.remove("selected"),o.classList.remove("active"),o.firstChild&&(o.firstChild.classList.remove("selected"),o.firstChild.classList.remove("active")))},setDisabled:function(t,e,i,n){var s;i||(i=this.selectpicker.main.map.newIndex[t]),n||(n=this.selectpicker.main.elements[i]),s=n.firstChild,n.classList.toggle(S.DISABLED,e),s&&("4"===x.major&&s.classList.toggle(S.DISABLED,e),s.setAttribute("aria-disabled",e),e?s.setAttribute("tabindex",-1):s.setAttribute("tabindex",0))},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var t=this;this.isDisabled()?(this.$newElement.addClass(S.DISABLED),this.$button.addClass(S.DISABLED).attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button.hasClass(S.DISABLED)&&(this.$newElement.removeClass(S.DISABLED),this.$button.removeClass(S.DISABLED).attr("aria-disabled",!1)),-1==this.$button.attr("tabindex")&&!this.$element.data("tabindex")&&this.$button.removeAttr("tabindex")),this.$button.click(function(){return!t.isDisabled()})},togglePlaceholder:function(){var t=this.$element[0],e=t.selectedIndex,i=-1===e;i||t.options[e].value||(i=!0),this.$button.toggleClass("bs-placeholder",i)},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){var t=this,e=i(document);e.data("spaceSelect",!1),this.$button.on("keyup",function(t){/(32)/.test(t.keyCode.toString(10))&&e.data("spaceSelect")&&(t.preventDefault(),e.data("spaceSelect",!1))}),this.$newElement.on("show.bs.dropdown",function(){3<x.major&&!t.dropdown&&(t.dropdown=t.$button.data("bs.dropdown"),t.dropdown._menu=t.$menu[0])}),this.$button.on("click.bs.dropdown.data-api",function(){t.$newElement.hasClass(S.SHOW)||t.setSize()}),this.$element.on("shown.bs.select",function(){t.$menuInner[0].scrollTop!==t.selectpicker.view.scrollTop&&(t.$menuInner[0].scrollTop=t.selectpicker.view.scrollTop),t.options.liveSearch?t.$searchbox.focus():t.$menuInner.focus()}),this.$menuInner.on("click","li a",function(e,s){var o=i(this),a=t.isVirtual()?t.selectpicker.view.position0:0,r=t.selectpicker.current.map.originalIndex[o.parent().index()+a],l=n(t.$element[0]),d=t.$element.prop("selectedIndex"),h=!0;if(t.multiple&&1!==t.options.maxOptions&&e.stopPropagation(),e.preventDefault(),!t.isDisabled()&&!o.parent().hasClass(S.DISABLED)){var c=t.$element.find("option"),p=c.eq(r),f=p.prop("selected"),m=p.parent("optgroup"),_=t.options.maxOptions,g=m.data("maxOptions")||!1;if(r===t.activeIndex&&(s=!0),s||(t.prevActiveIndex=t.activeIndex,t.activeIndex=void 0),t.multiple){if(p.prop("selected",!f),t.setSelected(r,!f),o.blur(),!1!==_||!1!==g){var v=_<c.filter(":selected").length,y=g<m.find("option:selected").length;if(_&&v||g&&y)if(_&&1==_)c.prop("selected",!1),p.prop("selected",!0),t.$menuInner.find(".selected").removeClass("selected"),t.setSelected(r,!0);else if(g&&1==g){m.find("option:selected").prop("selected",!1),p.prop("selected",!0);var b=t.selectpicker.current.data[o.parent().index()+t.selectpicker.view.position0].optID;t.$menuInner.find(".optgroup-"+b).removeClass("selected"),t.setSelected(r,!0)}else{var w="string"==typeof t.options.maxOptionsText?[t.options.maxOptionsText,t.options.maxOptionsText]:t.options.maxOptionsText,D="function"==typeof w?w(_,g):w,k=D[0].replace("{n}",_),x=D[1].replace("{n}",g),C=i('<div class="notify"></div>');D[2]&&(k=k.replace("{var}",D[2][1<_?0:1]),x=x.replace("{var}",D[2][1<g?0:1])),p.prop("selected",!1),t.$menu.append(C),_&&v&&(C.append(i("<div>"+k+"</div>")),h=!1,t.$element.trigger("maxReached.bs.select")),g&&y&&(C.append(i("<div>"+x+"</div>")),h=!1,t.$element.trigger("maxReachedGrp.bs.select")),setTimeout(function(){t.setSelected(r,!1)},10),C.delay(750).fadeOut(300,function(){i(this).remove()})}}}else c.prop("selected",!1),p.prop("selected",!0),t.setSelected(r,!0);!t.multiple||t.multiple&&1===t.options.maxOptions?t.$button.focus():t.options.liveSearch&&t.$searchbox.focus(),h&&(l!=n(t.$element[0])&&t.multiple||d!=t.$element.prop("selectedIndex")&&!t.multiple)&&(u=[r,p.prop("selected"),l],t.$element.triggerNative("change"))}}),this.$menu.on("click","li."+S.DISABLED+" a, ."+S.POPOVERHEADER+", ."+S.POPOVERHEADER+" :not(.close)",function(e){e.currentTarget==this&&(e.preventDefault(),e.stopPropagation(),t.options.liveSearch&&!i(e.target).hasClass("close")?t.$searchbox.focus():t.$button.focus())}),this.$menuInner.on("click",".divider, .dropdown-header",function(e){e.preventDefault(),e.stopPropagation(),t.options.liveSearch?t.$searchbox.focus():t.$button.focus()}),this.$menu.on("click","."+S.POPOVERHEADER+" .close",function(){t.$button.click()}),this.$searchbox.on("click",function(t){t.stopPropagation()}),this.$menu.on("click",".actions-btn",function(e){t.options.liveSearch?t.$searchbox.focus():t.$button.focus(),e.preventDefault(),e.stopPropagation(),i(this).hasClass("bs-select-all")?t.selectAll():t.deselectAll()}),this.$element.on({change:function(){t.render(),t.$element.trigger("changed.bs.select",u),u=null},focus:function(){t.$button.focus()}})},liveSearchListener:function(){var t=this,e=document.createElement("li");this.$button.on("click.bs.dropdown.data-api",function(){!t.$searchbox.val()||t.$searchbox.val("")}),this.$searchbox.on("click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api",function(t){t.stopPropagation()}),this.$searchbox.on("input propertychange",function(){var i=t.$searchbox.val();if(t.selectpicker.search.map.newIndex={},t.selectpicker.search.map.originalIndex={},t.selectpicker.search.elements=[],t.selectpicker.search.data=[],i){var n=[],o=i.toUpperCase(),a={},r=[],l=t._searchStyle(),d=t.options.liveSearchNormalize;t._$lisSelected=t.$menuInner.find(".selected");for(var h=0;h<t.selectpicker.main.data.length;h++)f=t.selectpicker.main.data[h],a[h]||(a[h]=s(f,o,l,d)),a[h]&&void 0!==f.headerIndex&&-1===r.indexOf(f.headerIndex)&&(0<f.headerIndex&&(a[f.headerIndex-1]=!0,r.push(f.headerIndex-1)),a[f.headerIndex]=!0,r.push(f.headerIndex),a[f.lastIndex+1]=!0),a[h]&&"optgroup-label"!==f.type&&r.push(h);h=0;for(var c=r.length;h<c;h++){var u=r[h],p=r[h-1],f=t.selectpicker.main.data[u],_=t.selectpicker.main.data[p];("divider"!==f.type||"divider"===f.type&&_&&"divider"!==_.type&&c-1!==h)&&(t.selectpicker.search.data.push(f),n.push(t.selectpicker.main.elements[u]),t.selectpicker.search.map.newIndex[f.originalIndex]=n.length-1,t.selectpicker.search.map.originalIndex[n.length-1]=f.originalIndex)}t.activeIndex=void 0,t.noScroll=!0,t.$menuInner.scrollTop(0),t.selectpicker.search.elements=n,t.createView(!0),n.length||(e.className="no-results",e.innerHTML=t.options.noneResultsText.replace("{0}",'"'+m(i)+'"'),t.$menuInner[0].firstChild.appendChild(e))}else t.$menuInner.scrollTop(0),t.createView(!1)})},_searchStyle:function(){return this.options.liveSearchStyle||"contains"},val:function(t){return void 0===t?this.$element.val():(this.$element.val(t).triggerNative("change"),this.$element)},changeAll:function(t){if(this.multiple){void 0===t&&(t=!0);var e=this.$element.find("option"),i=0,s=0,o=n(this.$element[0]);this.$element.addClass("bs-select-hidden");for(var a=0;a<this.selectpicker.current.elements.length;a++){var r=e[this.selectpicker.current.map.originalIndex[a]];r&&(r.selected&&i++,r.selected=t,r.selected&&s++)}this.$element.removeClass("bs-select-hidden"),i==s||(this.setOptionStatus(),this.togglePlaceholder(),u=[null,null,o],this.$element.triggerNative("change"))}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(t){(t=t||window.event)&&t.stopPropagation(),this.$button.trigger("click.bs.dropdown.data-api")},keydown:function(t){var e,n,o,a,r,l=i(this),d=(l.is("input")?l.parent().parent():l.parent()).data("this"),h=d.findLis(),c=!1,u=t.which===w&&!l.hasClass("dropdown-toggle")&&!d.options.selectOnTab,p=C.test(t.which)||u,f=d.$menuInner[0].scrollTop,m=d.isVirtual(),_=!0===m?d.selectpicker.view.position0:0;if(!(n=d.$newElement.hasClass(S.SHOW))&&(p||48<=t.which&&57>=t.which||96<=t.which&&105>=t.which||65<=t.which&&90>=t.which)&&d.$button.trigger("click.bs.dropdown.data-api"),t.which===v&&n&&(t.preventDefault(),d.$button.trigger("click.bs.dropdown.data-api").focus()),p){if(!h.length)return;void 0===(e=!0===m?h.index(h.filter(".active")):d.selectpicker.current.map.newIndex[d.activeIndex])&&(e=-1),-1!==e&&((o=d.selectpicker.current.elements[e+_]).classList.remove("active"),o.firstChild&&o.firstChild.classList.remove("active")),t.which===D?(-1!==e&&e--,0>e+_&&(e+=h.length),!d.selectpicker.view.canHighlight[e+_]&&(-1===(e=d.selectpicker.view.canHighlight.slice(0,e+_).lastIndexOf(!0)-_)&&(e=h.length-1))):(t.which===k||u)&&(++e+_>=d.selectpicker.view.canHighlight.length&&(e=0),!d.selectpicker.view.canHighlight[e+_]&&(e=e+1+d.selectpicker.view.canHighlight.slice(e+_+1).indexOf(!0))),t.preventDefault();var x=_+e;t.which===D?0===_&&e===h.length-1?(d.$menuInner[0].scrollTop=d.$menuInner[0].scrollHeight,x=d.selectpicker.current.elements.length-1):c=(r=(a=d.selectpicker.current.data[x]).position-a.height)<f:(t.which===k||u)&&(0!==_&&0===e?(d.$menuInner[0].scrollTop=0,x=0):c=(r=(a=d.selectpicker.current.data[x]).position-d.sizeInfo.menuInnerHeight)>f),(o=d.selectpicker.current.elements[x]).classList.add("active"),o.firstChild&&o.firstChild.classList.add("active"),d.activeIndex=d.selectpicker.current.map.originalIndex[x],d.selectpicker.view.currentActive=o,c&&(d.$menuInner[0].scrollTop=r),d.options.liveSearch?d.$searchbox.focus():l.focus()}else if(!l.is("input")&&!T.test(t.which)||t.which===b&&d.selectpicker.keydown.keyHistory){var E,M,I=[];t.preventDefault(),d.selectpicker.keydown.keyHistory+=g[t.which],d.selectpicker.keydown.resetKeyHistory.cancel&&clearTimeout(d.selectpicker.keydown.resetKeyHistory.cancel),d.selectpicker.keydown.resetKeyHistory.cancel=d.selectpicker.keydown.resetKeyHistory.start(),M=d.selectpicker.keydown.keyHistory,/^(.)\1+$/.test(M)&&(M=M.charAt(0));for(var A=0;A<d.selectpicker.current.data.length;A++){var O=d.selectpicker.current.data[A];s(O,M,"startsWith",!0)&&d.selectpicker.view.canHighlight[A]&&(O.index=A,I.push(O.originalIndex))}if(I.length){var P=0;h.removeClass("active").find("a").removeClass("active"),1===M.length&&(-1===(P=I.indexOf(d.activeIndex))||P===I.length-1?P=0:P++),E=d.selectpicker.current.map.newIndex[I[P]],0<f-(a=d.selectpicker.current.data[E]).position?(r=a.position-a.height,c=!0):(r=a.position-d.sizeInfo.menuInnerHeight,c=a.position>f+d.sizeInfo.menuInnerHeight),(o=d.selectpicker.current.elements[E]).classList.add("active"),o.firstChild&&o.firstChild.classList.add("active"),d.activeIndex=I[P],o.firstChild.focus(),c&&(d.$menuInner[0].scrollTop=r),l.focus()}}n&&(t.which===b&&!d.selectpicker.keydown.keyHistory||t.which===y||t.which===w&&d.options.selectOnTab)&&(t.which!==b&&t.preventDefault(),(!d.options.liveSearch||t.which!==b)&&(d.$menuInner.find(".active a").trigger("click",!0),l.focus(),!d.options.liveSearch&&(t.preventDefault(),i(document).data("spaceSelect",!0))))},mobile:function(){this.$element.addClass("mobile-device")},refresh:function(){var t=i.extend({},this.options,this.$element.data());this.options=t,this.selectpicker.main.map.newIndex={},this.selectpicker.main.map.originalIndex={},this.createLi(),this.checkDisabled(),this.render(),this.setStyle(),this.setWidth(),this.setSize(!0),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};var M=i.fn.selectpicker;i.fn.selectpicker=r,i.fn.selectpicker.Constructor=E,i.fn.selectpicker.noConflict=function(){return i.fn.selectpicker=M,this},i(document).off("keydown.bs.dropdown.data-api").on("keydown.bs.select",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bs-searchbox input',E.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bs-searchbox input',function(t){t.stopPropagation()}),i(window).on("load.bs.select.data-api",function(){i(".selectpicker").each(function(){var t=i(this);r.call(t,t.data())})})}(jQuery)},function(module,exports){var _Mathabs2=Math.abs;!function($,window,undefined){"use strict";function RoundSlider(t,e){this.id=t.id,this.control=$(t),this.options=$.extend({},this.defaults,e)}function CreateRoundSlider(t,e){for(var i=0;i<this.length;i++){var n=this[i],s=$.data(n,pluginName);if(s){if($.isPlainObject(t))"function"==typeof s.option?s.option(t):n.id&&window[n.id]&&"function"==typeof window[n.id].option&&window[n.id].option(t);else if("string"==typeof t&&"function"==typeof s[t]){if(("option"===t||0===t.indexOf("get"))&&void 0===e[2])return s[t](e[1]);s[t](e[1],e[2])}}else{var o=new RoundSlider(n,t);o._saveInstanceOnElement(),o._saveInstanceOnID(),!1===o._raise("beforeCreate")?o._removeData():(o._init(),o._raise("create"))}}return this}var pluginName="roundSlider";$.fn[pluginName]=function(t){return CreateRoundSlider.call(this,t,arguments)},RoundSlider.prototype={pluginName:pluginName,version:"1.3.2",options:{},control:null,defaults:{min:0,max:100,step:1,value:null,radius:85,width:18,handleSize:"+0",startAngle:0,endAngle:"+360",animation:!0,showTooltip:!0,editableTooltip:!0,readOnly:!1,disabled:!1,keyboardAction:!0,mouseScrollAction:!1,lineCap:"square",sliderType:"default",circleShape:"full",handleShape:"round",beforeCreate:null,create:null,start:null,drag:null,change:null,stop:null,tooltipFormat:null},keys:{UP:38,DOWN:40,LEFT:37,RIGHT:39},_props:function(){return{numberType:["min","max","step","radius","width","startAngle"],booleanType:["animation","showTooltip","editableTooltip","readOnly","disabled","keyboardAction","mouseScrollAction"],stringType:["sliderType","circleShape","handleShape","lineCap"]}},_init:function(){if(this._isBrowserSupport=this._isBrowserSupported(),this._isKO=!1,this._isAngular=!1,this.control.is("input")){this._isInputType=!0,this._hiddenField=this.control,this.control=this.$createElement("div"),this.control.insertAfter(this._hiddenField),this.options.value=this._hiddenField.val()||this.options.value;var t=this;this._checkKO()&&setTimeout(function(){t._checkKO()},1),this._checkAngular()}this._bindOnDrag=!1;var e=this._dataElement().attr("data-updateon");"string"==typeof e?"drag"==e&&(this._bindOnDrag=!0):this._isAngular&&(this._bindOnDrag=!0),this._onInit()},_onInit:function(){this._initialize(),this._update(),this._render()},_initialize:function(){var t=this.browserName=this.getBrowserName();t&&this.control.addClass("rs-"+t),this._isBrowserSupport&&(this._isReadOnly=!1,this._checkDataType(),this._refreshCircleShape())},_render:function(){if(this.container=this.$createElement("div.rs-container"),this.innerContainer=this.$createElement("div.rs-inner-container"),this.block=this.$createElement("div.rs-block rs-outer rs-border"),this.container.append(this.innerContainer.append(this.block)),this.control.addClass("rs-control").empty().append(this.container),this._setRadius(),this._isBrowserSupport)this._createLayers(),this._setProperties(),this._setValue(),this._updateTooltipPos(),this._bindControlEvents("_bind");else{var t=this.$createElement("div.rs-msg");t.html("function"==typeof this._throwError?this._throwError():this._throwError),this.control.empty().addClass("rs-error").append(t),this._isInputType&&this.control.append(this._dataElement())}},_update:function(){this._validateSliderType(),this._updateStartEnd(),this._validateStartEnd(),this._handle1=this._handle2=this._handleDefaults(),this._analyzeModelValue(),this._validateModelValue()},_createLayers:function(){var t,e=this.options.width,i=this._start;t=this.$createElement("div.rs-path rs-transition"),this._rangeSlider||this._showRange?(this.block1=t.clone().addClass("rs-range-color").rsRotate(i),this.block2=t.clone().addClass("rs-range-color").css("opacity","0").rsRotate(i),this.block3=t.clone().addClass("rs-path-color").rsRotate(i),this.block4=t.addClass("rs-path-color").css({opacity:"1","z-index":"1"}).rsRotate(i-180),this.block.append(this.block1,this.block2,this.block3,this.block4).addClass("rs-split")):this.block.append(t.addClass("rs-path-color")),this.lastBlock=this.$createElement("span.rs-block").css({padding:e}),this.innerBlock=this.$createElement("div.rs-inner rs-bg-color rs-border"),this.lastBlock.append(this.innerBlock),this.block.append(this.lastBlock),this._appendHandle(),this._appendOverlay(),this._appendHiddenField()},_setProperties:function(){this._updatePre(),this._setHandleShape(),this._addAnimation(),this._appendTooltip(),this.options.showTooltip||this._removeTooltip(),this.options.disabled?this.disable():this.options.readOnly&&this._readOnly(!0),this.options.mouseScrollAction&&this._bindScrollEvents("_bind")},_updatePre:function(){this._prechange=this._predrag=this.options.value},_setValue:function(){if(this._rangeSlider)this._setHandleValue(1),this._setHandleValue(2);else{this._showRange&&this._setHandleValue(1);var t="default"==this.options.sliderType?this._active||1:parseFloat(this.bar.children().attr("index"));this._setHandleValue(t)}},_appendTooltip:function(){0!==this.container.children(".rs-tooltip").length||(this.tooltip=this.$createElement("span.rs-tooltip rs-tooltip-text"),this.container.append(this.tooltip),this._tooltipEditable(),this._updateTooltip())},_removeTooltip:function(){0==this.container.children(".rs-tooltip").length||this.tooltip&&this.tooltip.remove()},_tooltipEditable:function(){var t;this.tooltip&&this.options.showTooltip&&(this.options.editableTooltip?(this.tooltip.addClass("edit"),t="_bind"):(this.tooltip.removeClass("edit"),t="_unbind"),this[t](this.tooltip,"click",this._editTooltip))},_editTooltip:function(){if(this.tooltip.hasClass("edit")&&!this._isReadOnly){var t=2*parseFloat(this.tooltip.css("border-left-width"));this.input=this.$createElement("input.rs-input rs-tooltip-text").css({height:this.tooltip.outerHeight()-t,width:this.tooltip.outerWidth()-t}),this.tooltip.html(this.input).removeClass("edit").addClass("hover"),this.input.focus().val(this._getTooltipValue(!0)),this._bind(this.input,"blur",this._focusOut),this._bind(this.input,"change",this._focusOut)}},_focusOut:function(t){if("change"==t.type){var e=this.input.val().replace("-",",");","==e[0]&&(e="-"+e.slice(1).replace("-",",")),this.options.value=e,this._analyzeModelValue(),this._validateModelValue(),this._setValue(),this.input.val(this._getTooltipValue(!0))}else this.tooltip.addClass("edit").removeClass("hover"),this._updateTooltip();this._raiseEvent("change")},_setHandleShape:function(){var t=this.options.handleShape;this._handles().removeClass("rs-handle-dot rs-handle-square"),"dot"==t?this._handles().addClass("rs-handle-dot"):"square"==t?this._handles().addClass("rs-handle-square"):this.options.handleShape=this.defaults.handleShape},_setHandleValue:function(t){this._active=t;var e=this["_handle"+t];"min-range"!=this.options.sliderType&&(this.bar=this._activeHandleBar()),this._changeSliderValue(e.value,e.angle)},_setAnimation:function(){this.options.animation?this._addAnimation():this._removeAnimation()},_addAnimation:function(){this.options.animation&&this.control.addClass("rs-animation")},_removeAnimation:function(){this.control.removeClass("rs-animation")},_setRadius:function(){var t=this.options.radius,e=2*t,i=this.options.circleShape,n=e,s=e;if(this.container.removeClass().addClass("rs-container"),0===i.indexOf("half"))"half-top"===i||"half-bottom"===i?(n=t,s=e):("half-left"===i||"half-right"===i)&&(n=e,s=t),this.container.addClass(i.replace("half-","")+" half");else if(0===i.indexOf("quarter")){n=s=t;var o=i.split("-");this.container.addClass(o[0]+" "+o[1]+" "+o[2])}else this.container.addClass("full "+i);var a={height:n,width:s};this.control.css(a),this.container.css(a)},_border:function(t){return t?parseFloat(this._startLine.children().css("border-bottom-width")):2*parseFloat(this.block.css("border-top-width"))},_appendHandle:function(){(this._rangeSlider||!this._showRange)&&this._createHandle(1),(this._rangeSlider||this._showRange)&&this._createHandle(2),this._startLine=this._addSeperator(this._start,"rs-start"),this._endLine=this._addSeperator(this._start+this._end,"rs-end"),this._refreshSeperator()},_addSeperator:function(t,e){var i=this.$createElement("span.rs-seperator rs-border"),n=(this.options.width,this._border(),this.$createElement("span.rs-bar rs-transition "+e).append(i).rsRotate(t));return this.container.append(n),n},_refreshSeperator:function(){var t=this._startLine.add(this._endLine),e=t.children().removeAttr("style"),i=this.options,n=i.width+this._border();"round"==i.lineCap&&"full"!=i.circleShape?(t.addClass("rs-rounded"),e.css({width:n,height:n/2+1}),this._startLine.children().css("margin-top",-1).addClass("min-range"==i.sliderType?"rs-range-color":"rs-path-color"),this._endLine.children().css("margin-top",n/-2).addClass("rs-path-color")):(t.removeClass("rs-rounded"),e.css({width:n,"margin-top":this._border(!0)/-2}).removeClass("rs-range-color rs-path-color"))},_updateSeperator:function(){this._startLine.rsRotate(this._start),this._endLine.rsRotate(this._start+this._end)},_createHandle:function(t){var e,i=this.$createElement("div.rs-handle rs-move"),n=this.options;"round"!=(e=n.handleShape)&&i.addClass("rs-handle-"+e),i.attr({index:t,tabIndex:"0"});var s,o=(s=(s=this._dataElement()[0].id)?s+"_":"")+"handle"+("range"==n.sliderType?"_"+(1==t?"start":"end"):"");i.attr({role:"slider","aria-label":o});var a=this.$createElement("div.rs-bar rs-transition").css("z-index","7").append(i).rsRotate(this._start);return a.addClass("range"==n.sliderType&&2==t?"rs-second":"rs-first"),this.container.append(a),this._refreshHandle(),this.bar=a,this._active=t,1!=t&&2!=t&&(this["_handle"+t]=this._handleDefaults()),this._bind(i,"focus",this._handleFocus),this._bind(i,"blur",this._handleBlur),i},_refreshHandle:function(){var hSize=this.options.handleSize,isSquare=!0,isNumber=this.isNumber,h,w;if("string"==typeof hSize&&isNumber(hSize))if("+"===hSize.charAt(0)||"-"===hSize.charAt(0))try{hSize=eval(this.options.width+hSize.charAt(0)+_Mathabs2(parseFloat(hSize)))}catch(t){console.warn(t)}else if(hSize.indexOf(",")){var s=hSize.split(",");isNumber(s[0])&&isNumber(s[1])&&(w=parseFloat(s[0]),h=parseFloat(s[1]),isSquare=!1)}isSquare&&(h=w=isNumber(hSize)?parseFloat(hSize):this.options.width);var diff=(this.options.width+this._border()-w)/2;this._handles().css({height:h,width:w,margin:-h/2+"px 0 0 "+diff+"px"})},_handleDefaults:function(){return{angle:this._valueToAngle(this.options.min),value:this.options.min}},_handles:function(){return this.container.children("div.rs-bar").find(".rs-handle")},_activeHandleBar:function(t){return t=void 0==t?this._active:t,$(this.container.children("div.rs-bar")[t-1])},_handleArgs:function(t){var e=this["_handle"+(t=void 0==t?this._active:t)];return{element:this._activeHandleBar(t).children(),index:t,isActive:t==this._active,value:e?e.value:null,angle:e?e.angle:null}},_dataElement:function(){return this._isInputType?this._hiddenField:this.control},_raiseEvent:function(t){var e=this["_pre"+t];if(e!==this.options.value)return this["_pre"+t]=this.options.value,this._updateTooltip(),("change"==t||this._bindOnDrag&&"drag"==t)&&this._updateHidden(),this._raise(t,{value:this.options.value,preValue:e,handle:this._handleArgs()})},_elementDown:function(t){if(!this._isReadOnly){var e=$(t.target);if(e.hasClass("rs-handle"))this._handleDown(t);else{var i=this._getXY(t),n=this._getCenterPoint(),s=this._getDistance(i,n),o=this.block.outerWidth()/2;if(s>=o-(this.options.width+this._border())&&s<=o){t.preventDefault();var a,r,l=this.control.find(".rs-handle.rs-focus");if(this.control.attr("tabindex","0").focus().removeAttr("tabindex"),e.hasClass("rs-seperator"))r=e.parent().hasClass("rs-start")?this.options.min:this.options.max,a=this._valueToAngle(r);else{var d=this._getAngleValue(i,n);a=d.angle,r=d.value}this._rangeSlider&&(l=this.control.find(".rs-handle.rs-focus"),this._active=1==l.length?parseFloat(l.attr("index")):this._handle2.value-r<r-this._handle1.value?2:1,this.bar=this._activeHandleBar()),this._changeSliderValue(r,a),this._raiseEvent("change")}}}},_handleDown:function(t){t.preventDefault();var e=$(t.target);e.focus(),this._removeAnimation(),this._bindMouseEvents("_bind"),this.bar=e.parent(),this._active=parseFloat(e.attr("index")),this._handles().removeClass("rs-move"),this._raise("start",{value:this.options.value,handle:this._handleArgs()})},_handleMove:function(t){t.preventDefault();var e,i,n=this._getXY(t),s=this._getCenterPoint(),o=this._getAngleValue(n,s,!0);e=o.angle,i=o.value,this._changeSliderValue(i,e),this._raiseEvent("drag")},_handleUp:function(){this._handles().addClass("rs-move"),this._bindMouseEvents("_unbind"),this._addAnimation(),this._raiseEvent("change"),this._raise("stop",{value:this.options.value,handle:this._handleArgs()})},_handleFocus:function(t){if(!this._isReadOnly){var e=$(t.target);this._handles().removeClass("rs-focus"),e.addClass("rs-focus"),this.bar=e.parent(),this._active=parseFloat(e.attr("index")),this.options.keyboardAction&&(this._bindKeyboardEvents("_unbind"),this._bindKeyboardEvents("_bind")),this.control.find("div.rs-bar").css("z-index","7"),this.bar.css("z-index","8")}},_handleBlur:function(){this._handles().removeClass("rs-focus"),this.options.keyboardAction&&this._bindKeyboardEvents("_unbind")},_handleKeyDown:function(t){if(!this._isReadOnly){var e=t.keyCode,i=this.keys;if(27==e&&this._handles().blur(),35<=e&&40>=e){37<=e&&40>=e&&this._removeAnimation();var n,s,o=this["_handle"+this._active];t.preventDefault(),e==i.UP||e==i.RIGHT?n=this._round(this._limitValue(o.value+this.options.step)):e==i.DOWN||e==i.LEFT?n=this._round(this._limitValue(o.value-this._getMinusStep(o.value))):36==e?n=this._getKeyValue("Home"):35==e&&(n=this._getKeyValue("End")),s=this._valueToAngle(n),this._changeSliderValue(n,s),this._raiseEvent("change")}}},_handleKeyUp:function(){this._addAnimation()},_getMinusStep:function(t){if(t==this.options.max){var e=(this.options.max-this.options.min)%this.options.step;return 0==e?this.options.step:e}return this.options.step},_getKeyValue:function(t){return this._rangeSlider?"Home"==t?1==this._active?this.options.min:this._handle1.value:1==this._active?this._handle2.value:this.options.max:"Home"==t?this.options.min:this.options.max},_elementScroll:function(t){if(!this._isReadOnly){t.preventDefault();var e,i,n,s,o=t.originalEvent||t;0==(s=o.wheelDelta?o.wheelDelta/60:o.detail?-o.detail/2:0)||(this._updateActiveHandle(t),i=(e=this["_handle"+this._active]).value+(0<s?this.options.step:-this._getMinusStep(e.value)),i=this._limitValue(i),n=this._valueToAngle(i),this._removeAnimation(),this._changeSliderValue(i,n),this._raiseEvent("change"),this._addAnimation())}},_updateActiveHandle:function(t){var e=$(t.target);e.hasClass("rs-handle")&&e.parent().parent()[0]==this.control[0]&&(this.bar=e.parent(),this._active=parseFloat(e.attr("index"))),this.bar.find(".rs-handle").hasClass("rs-focus")||this.bar.find(".rs-handle").focus()},_bindControlEvents:function(t){this[t](this.control,"mousedown",this._elementDown),this[t](this.control,"touchstart",this._elementDown)},_bindScrollEvents:function(t){this[t](this.control,"mousewheel",this._elementScroll),this[t](this.control,"DOMMouseScroll",this._elementScroll)},_bindMouseEvents:function(t){this[t]($(document),"mousemove",this._handleMove),this[t]($(document),"mouseup",this._handleUp),this[t]($(document),"mouseleave",this._handleUp),this[t]($(document),"touchmove",this._handleMove),this[t]($(document),"touchend",this._handleUp),this[t]($(document),"touchcancel",this._handleUp)},_bindKeyboardEvents:function(t){this[t]($(document),"keydown",this._handleKeyDown),this[t]($(document),"keyup",this._handleKeyUp)},_changeSliderValue:function(t,e){var i=this._oriAngle(e),n=this._limitAngle(e);if(this._rangeSlider||this._showRange){if(1==this._active&&i<=this._oriAngle(this._handle2.angle)||2==this._active&&i>=this._oriAngle(this._handle1.angle)||this._invertRange){this["_handle"+this._active]={angle:e,value:t},this.options.value=this._rangeSlider?this._handle1.value+","+this._handle2.value:t,this.bar.rsRotate(n),this._updateARIA(t);var s=this._oriAngle(this._handle2.angle)-this._oriAngle(this._handle1.angle),o="1",a="0";180>=s&&!(0>s&&-180<s)&&(o="0",a="1"),this.block2.css("opacity",o),this.block3.css("opacity",a),(1==this._active?this.block4:this.block2).rsRotate(n-180),(1==this._active?this.block1:this.block3).rsRotate(n)}}else this["_handle"+this._active]={angle:e,value:t},this.options.value=t,this.bar.rsRotate(n),this._updateARIA(t)},_updateARIA:function(t){var e=this.options.min,i=this.options.max;if(this.bar.children().attr({"aria-valuenow":t}),"range"==this.options.sliderType){var n=this._handles();n.eq(0).attr({"aria-valuemin":e}),n.eq(1).attr({"aria-valuemax":i}),1==this._active?n.eq(1).attr({"aria-valuemin":t}):n.eq(0).attr({"aria-valuemax":t})}else this.bar.children().attr({"aria-valuemin":e,"aria-valuemax":i})},_checkKO:function(){var t=this._dataElement().data("bind");if("string"==typeof t&&"object"==typeof ko){var e=ko.dataFor(this._dataElement()[0]);if(void 0===e)return!0;for(var i,n,s=t.split(","),o=0;o<s.length;o++)if(n=s[o].split(":"),"value"==$.trim(n[0])){i=$.trim(n[1]);break}i&&(this._isKO=!0,ko.computed(function(){this.option("value",e[i]())},this))}},_checkAngular:function(){if("object"==typeof angular&&"function"==typeof angular.element&&(this._ngName=this._dataElement().attr("ng-model"),"string"==typeof this._ngName)){this._isAngular=!0;var t=this;this._scope().$watch(this._ngName,function(e){t.option("value",e)})}},_scope:function(){return angular.element(this._dataElement()).scope()},_getDistance:function(t,e){return Math.sqrt((t.x-e.x)*(t.x-e.x)+(t.y-e.y)*(t.y-e.y))},_getXY:function(t){return-1==t.type.indexOf("mouse")&&(t=(t.originalEvent||t).changedTouches[0]),{x:t.pageX,y:t.pageY}},_getCenterPoint:function(){var t=this.block.offset();return{x:t.left+this.block.outerWidth()/2,y:t.top+this.block.outerHeight()/2}},_getAngleValue:function(t,e,i){var n=-Math.atan2(t.y-e.y,e.x-t.x)/(Math.PI/180);return n<this._start&&(n+=360),n=this._checkAngle(n,i),this._processStepByAngle(n)},_checkAngle:function(t,e){var i=this._oriAngle(t),n=this["_handle"+this._active].angle,s=this._oriAngle(n);if(i>this._end){if(!e)return n;t=this._start+(s<=this._end-s?0:this._end)}else if(e){var o=this._handleDragDistance;if(this.isNumber(o)&&_Mathabs2(i-s)>o)return n}return t},_processStepByAngle:function(t){var e=this._angleToValue(t);return this._processStepByValue(e)},_processStepByValue:function(t){var e,i,n,s,o=this.options.step;return e=t-(t-this.options.min)%o,i=this._limitValue(e+o),n=this._limitValue(e-o),s=t>=e?t-e<i-t?e:i:e-t>t-n?e:n,{value:s=this._round(s),angle:this._valueToAngle(s)}},_round:function(t){var e=this.options.step.toString().split(".");return e[1]?parseFloat(t.toFixed(e[1].length)):Math.round(t)},_oriAngle:function(t){var e=t-this._start;return 0>e&&(e+=360),e},_limitAngle:function(t){return t>360+this._start&&(t-=360),t<this._start&&(t+=360),t},_limitValue:function(t){return t<this.options.min&&(t=this.options.min),t>this.options.max&&(t=this.options.max),t},_angleToValue:function(t){var e=this.options;return this._oriAngle(t)/this._end*(e.max-e.min)+e.min},_valueToAngle:function(t){var e=this.options;return(t-e.min)/(e.max-e.min)*this._end+this._start},_appendHiddenField:function(){this._hiddenField=this._hiddenField||this.$createElement("input"),this._hiddenField.attr({type:"hidden",name:this._dataElement()[0].id||""}),this.control.append(this._hiddenField),this._updateHidden()},_updateHidden:function(){var t=this.options.value;this._hiddenField.val(t),(this._isKO||this._isAngular)&&this._hiddenField.trigger("change"),this._isAngular&&(this._scope()[this._ngName]=t)},_updateTooltip:function(){this.tooltip&&!this.tooltip.hasClass("hover")&&this.tooltip.html(this._getTooltipValue()),this._updateTooltipPos()},_updateTooltipPos:function(){this.tooltip&&this.tooltip.css(this._getTooltipPos())},_getTooltipPos:function(){var t,e=this.options.circleShape;return"full"==e||"pie"==e||0===e.indexOf("custom")?{"margin-top":-this.tooltip.outerHeight()/2,"margin-left":-this.tooltip.outerWidth()/2}:-1==e.indexOf("half")?{}:("half-top"===e||"half-bottom"===e?t={"margin-left":-this.tooltip.outerWidth()/2}:("half-left"===e||"half-right"===e)&&(t={"margin-top":-this.tooltip.outerHeight()/2}),t)},_getTooltipValue:function(t){if(this._rangeSlider){var e=this.options.value.split(",");return t?e[0]+" - "+e[1]:this._tooltipValue(e[0],1)+" - "+this._tooltipValue(e[1],2)}return t?this.options.value:this._tooltipValue(this.options.value)},_tooltipValue:function(t,e){var i=this._raise("tooltipFormat",{value:t,handle:this._handleArgs(e)});return null!=i&&"boolean"!=typeof i?i:t},_validateStartAngle:function(){var t=this.options.startAngle;return 0>(t=(this.isNumber(t)?parseFloat(t):0)%360)&&(t+=360),this.options.startAngle=t,t},_validateEndAngle:function(){var end=this.options.endAngle;if("string"==typeof end&&this.isNumber(end)&&("+"===end.charAt(0)||"-"===end.charAt(0)))try{end=eval(this.options.startAngle+end.charAt(0)+_Mathabs2(parseFloat(end)))}catch(t){console.warn(t)}return end=(this.isNumber(end)?parseFloat(end):360)%360,end<=this.options.startAngle&&(end+=360),end},_refreshCircleShape:function(){var t=this.options.circleShape,e=["half-top","half-bottom","half-left","half-right","quarter-top-left","quarter-top-right","quarter-bottom-right","quarter-bottom-left","pie","custom-half","custom-quarter"];if(-1==e.indexOf(t)){var i=["h1","h2","h3","h4","q1","q2","q3","q4","3/4","ch","cq"].indexOf(t);t=-1==i?"half"==t?"half-top":"quarter"==t?"quarter-top-left":"full":e[i]}this.options.circleShape=t},_appendOverlay:function(){var t=this.options.circleShape;"pie"==t?this._checkOverlay(".rs-overlay",270):("custom-half"==t||"custom-quarter"==t)&&(this._checkOverlay(".rs-overlay1",180),"custom-quarter"==t&&this._checkOverlay(".rs-overlay2",this._end))},_checkOverlay:function(t,e){var i=this.container.children(t);0==i.length&&(i=this.$createElement("div"+t+" rs-transition rs-bg-color"),this.container.append(i)),i.rsRotate(this._start+e)},_checkDataType:function(){var t,e,i,n=this.options,s=this._props();for(t in s.numberType)i=n[e=s.numberType[t]],n[e]=this.isNumber(i)?parseFloat(i):this.defaults[e];for(t in s.booleanType)i=n[e=s.booleanType[t]],n[e]="false"!=i&&!!i;for(t in s.stringType)i=n[e=s.stringType[t]],n[e]=(""+i).toLowerCase()},_validateSliderType:function(){var t=this.options.sliderType.toLowerCase();this._rangeSlider=this._showRange=!1,"range"==t?this._rangeSlider=this._showRange=!0:-1==t.indexOf("min")?t="default":(this._showRange=!0,t="min-range"),this.options.sliderType=t},_updateStartEnd:function(){var t=this.options.circleShape;"full"!=t&&(-1==t.indexOf("quarter")?-1==t.indexOf("half")?"pie"==t&&(this.options.endAngle="+270"):this.options.endAngle="+180":this.options.endAngle="+90","quarter-top-left"==t||"half-top"==t?this.options.startAngle=0:"quarter-top-right"==t||"half-right"==t?this.options.startAngle=90:"quarter-bottom-right"==t||"half-bottom"==t?this.options.startAngle=180:("quarter-bottom-left"==t||"half-left"==t)&&(this.options.startAngle=270))},_validateStartEnd:function(){this._start=this._validateStartAngle(),this._end=this._validateEndAngle();var t=this._start<this._end?0:360;this._end+=t-this._start},_analyzeModelValue:function(){var t,e,i=this.options.value,n=this.options.min,s=this.options.max,o=this.isNumber;i instanceof Array&&(i=i.toString());var a="string"==typeof i?i.split(","):[i];this._rangeSlider?e="string"==typeof i?2<=a.length?(o(a[0])?a[0]:n)+","+(o(a[1])?a[1]:s):o(a[0])?n+","+a[0]:n+","+n:o(i)?n+","+i:n+","+n:"string"==typeof i?e=o(t=a.pop())?parseFloat(t):n:e=o(i)?parseFloat(i):n,this.options.value=e},_validateModelValue:function(){var t=this.options.value;if(this._rangeSlider){var e=t.split(","),i=parseFloat(e[0]),n=parseFloat(e[1]);i=this._limitValue(i),n=this._limitValue(n),!this._invertRange&&i>n&&(n=i),this._handle1=this._processStepByValue(i),this._handle2=this._processStepByValue(n),this.options.value=this._handle1.value+","+this._handle2.value}else{var s=this._showRange?2:this._active||1;this["_handle"+s]=this._processStepByValue(this._limitValue(t)),this._showRange&&(this._handle1=this._handleDefaults()),this.options.value=this["_handle"+s].value}},$createElement:function(t){var e=t.split(".");return $(document.createElement(e[0])).addClass(e[1]||"")},isNumber:function(t){return"number"==typeof(t=parseFloat(t))&&!isNaN(t)},getBrowserName:function(){var t="",e=window.navigator.userAgent;return window.opr&&opr.addons||window.opera||0<=e.indexOf(" OPR/")?t="opera":"undefined"==typeof InstallTrigger?document.documentMode?t="ie":window.StyleMedia?t="edge":-1!=e.indexOf("Safari")&&-1==e.indexOf("Chrome")?t="safari":(!!window.chrome&&!!window.chrome.webstore||-1!=e.indexOf("Chrome"))&&(t="chrome"):t="firefox",t},_isBrowserSupported:function(){for(var t=["borderRadius","WebkitBorderRadius","MozBorderRadius","OBorderRadius","msBorderRadius","KhtmlBorderRadius"],e=0;e<t.length;e++)if(void 0!==document.body.style[t[e]])return!0},_throwError:function(){return"This browser doesn't support the border-radious property."},_raise:function(t,e){var i=this.options,n=i[t],s=!0;return(e=e||{value:i.value}).id=this.id,e.control=this.control,e.options=i,n&&(e.type=t,"string"==typeof n&&(n=window[n]),$.isFunction(n)&&(s=!1!==(s=n.call(this,e))&&s)),this.control.trigger($.Event(t,e)),s},_bind:function(t,e,i){$(t).bind(e,$.proxy(i,this))},_unbind:function(t,e,i){$(t).unbind(e,$.proxy(i,this))},_getInstance:function(){return $.data(this._dataElement()[0],pluginName)},_saveInstanceOnElement:function(){$.data(this.control[0],pluginName,this)},_saveInstanceOnID:function(){var t=this.id;t&&void 0!==window[t]&&(window[t]=this)},_removeData:function(){var t=this._dataElement()[0];$.removeData&&$.removeData(t,pluginName),t.id&&"function"==typeof window[t.id]._init&&delete window[t.id]},_destroyControl:function(){this._isInputType&&this._dataElement().insertAfter(this.control).attr("type","text"),this.control.empty().removeClass("rs-control").height("").width(""),this._removeAnimation(),this._bindControlEvents("_unbind")},_updateWidth:function(){this.lastBlock.css("padding",this.options.width),this._refreshHandle()},_readOnly:function(t){this._isReadOnly=t,this.container.removeClass("rs-readonly"),t&&this.container.addClass("rs-readonly")},_get:function(t){return this.options[t]},_set:function(t,e){var i=this._props();if(-1!=$.inArray(t,i.numberType)){if(!this.isNumber(e))return;e=parseFloat(e)}else-1==$.inArray(t,i.booleanType)?-1!=$.inArray(t,i.stringType)&&(e=e.toLowerCase()):e="false"!=e&&!!e;if(this.options[t]!=e){switch(this.options[t]=e,t){case"startAngle":case"endAngle":this._validateStartEnd(),this._updateSeperator(),this._appendOverlay();case"min":case"max":case"step":case"value":this._analyzeModelValue(),this._validateModelValue(),this._setValue(),this._updatePre(),this._updateHidden(),this._updateTooltip();break;case"radius":this._setRadius(),this._updateTooltipPos();break;case"width":this._removeAnimation(),this._updateWidth(),this._updateTooltipPos(),this._addAnimation(),this._refreshSeperator();break;case"handleSize":this._refreshHandle();break;case"handleShape":this._setHandleShape();break;case"animation":this._setAnimation();break;case"showTooltip":this.options.showTooltip?this._appendTooltip():this._removeTooltip();break;case"editableTooltip":this._tooltipEditable(),this._updateTooltipPos();break;case"disabled":this.options.disabled?this.disable():this.enable();break;case"readOnly":this.options.readOnly?this._readOnly(!0):!this.options.disabled&&this._readOnly(!1);break;case"mouseScrollAction":this._bindScrollEvents(this.options.mouseScrollAction?"_bind":"_unbind");break;case"lineCap":this._refreshSeperator();break;case"circleShape":this._refreshCircleShape(),"full"==this.options.circleShape&&(this.options.startAngle=0,this.options.endAngle="+360");case"sliderType":this._destroyControl(),this._onInit()}return this}},option:function(t,e){if(this._getInstance()&&this._isBrowserSupport){if($.isPlainObject(t))for(var i in(void 0!==t.min||void 0!==t.max)&&(void 0!==t.min&&(this.options.min=t.min,delete t.min),void 0!==t.max&&(this.options.max=t.max,delete t.max),void 0==t.value&&this._set("value",this.options.value)),t)this._set(i,t[i]);else if(t&&"string"==typeof t){if(void 0===e)return this._get(t);this._set(t,e)}return this}},getValue:function(t){if("range"==this.options.sliderType&&this.isNumber(t)){var e=parseFloat(t);if(1==e||2==e)return this["_handle"+e].value}return this._get("value")},setValue:function(t,e){if(this.isNumber(t)){if(this.isNumber(e))if("range"==this.options.sliderType){var i=parseFloat(e),n=parseFloat(t);1==i?t=n+","+this._handle2.value:2==i&&(t=this._handle1.value+","+n)}else"default"==this.options.sliderType&&(this._active=e);this._set("value",t)}},disable:function(){this.options.disabled=!0,this.container.addClass("rs-disabled"),this._readOnly(!0)},enable:function(){this.options.disabled=!1,this.container.removeClass("rs-disabled"),this.options.readOnly||this._readOnly(!1)},destroy:function(){this._getInstance()&&(this._destroyControl(),this._removeData(),this._isInputType&&this.control.remove())}},$.fn.rsRotate=function(t){var e=this;return e.css("-webkit-transform","rotate("+t+"deg)"),e.css("-moz-transform","rotate("+t+"deg)"),e.css("-ms-transform","rotate("+t+"deg)"),e.css("-o-transform","rotate("+t+"deg)"),e.css("transform","rotate("+t+"deg)"),e},$.fn[pluginName].prototype=RoundSlider.prototype}(jQuery,window)},function(){},,function(t,e,i){"use strict";function n(t){var e=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:{}).asNewDefault,i=Object.keys(Ht),n=void 0!==e&&e?function(t){return~i.indexOf(t)&&!~Nt.indexOf(t)}:function(t){return~i.indexOf(t)};Object.keys(t).forEach(function(e){n(e)&&(Ht[e]=t[e])})}function s(t){if(t&&_t){var e=ut.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var i=ut.head.childNodes,n=null,s=i.length-1;-1<s;s--){var o=i[s],a=(o.tagName||"").toUpperCase();-1<["STYLE","LINK"].indexOf(a)&&(n=o)}return ut.head.insertBefore(e,n),t}}function o(){return++Vt}function a(t){for(var e=[],i=(t||[]).length>>>0;i--;)e[i]=t[i];return e}function r(t){return t.classList?a(t.classList):(t.getAttribute("class")||"").split(" ").filter(function(t){return t})}function l(t,e){var i=e.split("-"),n=i[0],s=i.slice(1).join("-");return n!==t||""===s||function(t){return~Et.indexOf(t)}(s)?null:s}function d(t){return(""+t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function h(t){return Object.keys(t||{}).reduce(function(e,i){return e+(i+": ")+t[i]+";"},"")}function c(t){return t.size!==Bt.size||t.x!==Bt.x||t.y!==Bt.y||t.rotate!==Bt.rotate||t.flipX||t.flipY}function u(t){var e=t.transform,i=t.containerWidth,n=t.iconWidth;return{outer:{transform:"translate("+i/2+" 256)"},inner:{transform:"translate("+32*e.x+", "+32*e.y+") "+" "+("scale("+e.size/16*(e.flipX?-1:1)+", "+e.size/16*(e.flipY?-1:1)+") ")+" "+("rotate("+e.rotate+" 0 0)")},path:{transform:"translate("+n/2*-1+" -256)"}}}function p(t){var e=t.icons,i=e.main,n=e.mask,s=t.prefix,a=t.iconName,r=t.transform,l=t.symbol,d=t.title,h=t.extra,c=t.watchable,u=n.found?n:i,p=u.width,f=u.height,m="fa-w-"+nt(p/f*16),_=[Ht.replacementClass,a?Ht.familyPrefix+"-"+a:"",m].concat(h.classes).join(" "),g={children:[],attributes:At({},h.attributes,{"data-prefix":s,"data-icon":a,class:_,role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 "+p+" "+f})};void 0!==c&&c&&(g.attributes[wt]=""),d&&g.children.push({tag:"title",attributes:{id:g.attributes["aria-labelledby"]||"title-"+o()},children:[d]});var v=At({},g,{prefix:s,iconName:a,main:i,mask:n,transform:r,symbol:l,styles:h.styles}),y=n.found&&i.found?jt(v):Ut(v),b=y.children,w=y.attributes;return v.children=b,v.attributes=w,l?qt(v):Gt(v)}function f(t){var e=t.content,i=t.width,n=t.height,s=t.transform,o=t.title,a=t.extra,r=t.watchable,l=At({},a.attributes,o?{title:o}:{},{class:a.classes.join(" ")});void 0!==r&&r&&(l[wt]="");var d=At({},a.styles);c(s)&&(d.transform=function(t){var e=t.transform,i=t.width,n=void 0===i?yt:i,s=t.height,o=void 0===s?yt:s,a=t.startCentered,r=void 0!==a&&a,l="";return l+=r&&gt?"translate("+(e.x/zt-n/2)+"em, "+(e.y/zt-o/2)+"em) ":r?"translate(calc(-50% + "+e.x/zt+"em), calc(-50% + "+e.y/zt+"em)) ":"translate("+e.x/zt+"em, "+e.y/zt+"em) ",l+="scale("+e.size/zt*(e.flipX?-1:1)+", "+e.size/zt*(e.flipY?-1:1)+") ",l+="rotate("+e.rotate+"deg) "}({transform:s,startCentered:!0,width:i,height:n}),d["-webkit-transform"]=d.transform);var u=h(d);0<u.length&&(l.style=u);var p=[];return p.push({tag:"span",attributes:l,children:[e]}),o&&p.push({tag:"span",attributes:{class:"sr-only"},children:[o]}),p}function m(t){return t.reduce(function(t,e){var i=l(Ht.familyPrefix,e);if(re[e])t.prefix=e;else if(i){var n="fa"===t.prefix?function(t){return oe[t]||{prefix:null,iconName:null}}(i):{};t.iconName=n.iconName||i,t.prefix=n.prefix||t.prefix}else e!==Ht.replacementClass&&0!==e.indexOf("fa-w-")&&t.rest.push(e);return t},le())}function _(t,e,i){if(t&&t[e]&&t[e][i])return{prefix:e,iconName:i,icon:t[e][i]}}function g(t){var e=t.tag,i=t.attributes,n=void 0===i?{}:i,s=t.children,o=void 0===s?[]:s;return"string"==typeof t?d(t):"<"+e+" "+function(t){return Object.keys(t||{}).reduce(function(e,i){return e+(i+'="')+d(t[i])+'" '},"").trim()}(n)+">"+o.map(g).join("")+"</"+e+">"}function v(t){return"string"==typeof(t.getAttribute?t.getAttribute(wt):null)}function y(t,e){var i="function"==typeof e?e:de;0===t.length?i():(ct.requestAnimationFrame||function(t){return t()})(function(){var e=!0===Ht.autoReplaceSvg?he.replace:he[Ht.autoReplaceSvg]||he.replace,n=Xt.begin("mutate");t.map(e),n(),i()})}function b(t){this.name="MissingIcon",this.message=t||"Icon unavailable",this.stack=(new Error).stack}function w(t,e){var i={found:!1,width:512,height:512,icon:xe};if(t&&e&&Se[e]&&Se[e][t]){var n=Se[e][t];i={found:!0,width:n[0],height:n[1],icon:{tag:"path",attributes:{fill:"currentColor",d:n.slice(4)[0]}}}}else if(t&&e&&!Ht.showMissingIcons)throw new b("Icon is missing for prefix "+e+" with icon name "+t);return i}function D(t){var e=function(t){var e=fe(t),i=e.iconName,n=e.prefix,s=e.rest,o=pe(t),a=_e(t),r=ge(t),l=ve(t),d=ye(t);return{iconName:i,title:t.getAttribute("title"),prefix:n,transform:a,symbol:r,mask:d,extra:{classes:s,styles:o,attributes:l}}}(t);return~e.extra.classes.indexOf(Ce)?function(t,e){var i=e.title,n=e.transform,s=e.extra,o=null,a=null;if(gt){var r=parseInt(getComputedStyle(t).fontSize,10),l=t.getBoundingClientRect();o=l.width/r,a=l.height/r}return Ht.autoA11y&&!i&&(s.attributes["aria-hidden"]="true"),[t,f({content:t.innerHTML,width:o,height:a,transform:n,title:i,extra:s,watchable:!0})]}(t,e):function(t,e){var i=e.iconName,n=e.title,s=e.prefix,o=e.transform,a=e.symbol,r=e.mask,l=e.extra;return[t,p({icons:{main:w(i,s),mask:w(r.iconName,r.prefix)},prefix:s,iconName:i,transform:o,symbol:a,mask:r,title:n,extra:l,watchable:!0})]}(t,e)}function k(t){"function"==typeof t.remove?t.remove():t&&t.parentNode&&t.parentNode.removeChild(t)}function x(t){if(_t){var e=Xt.begin("searchPseudoElements");(function(t){ce=!0,t(),ce=!1})(function(){a(t.querySelectorAll("*")).forEach(function(t){[":before",":after"].forEach(function(e){var i=ct.getComputedStyle(t,e),n=i.getPropertyValue("font-family").match(Te),s=a(t.children).filter(function(t){return t.getAttribute(Dt)===e})[0];if(s&&(s.nextSibling&&-1<s.nextSibling.textContent.indexOf(Dt)&&k(s.nextSibling),k(s),s=null),n&&!s){var o=i.getPropertyValue("content"),r=ut.createElement("i");r.setAttribute("class",""+Ee[n[1]]),r.setAttribute(Dt,e),r.innerText=3===o.length?o.substr(1,1):o,":before"===e?t.insertBefore(r,t.firstChild):t.appendChild(r)}})})}),e()}}function S(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;if(_t){var i=ut.documentElement.classList,n=function(t){return i.add(kt+"-"+t)},s=function(t){return i.remove(kt+"-"+t)},o=Object.keys(Se),r=["."+Ce+":not(["+wt+"])"].concat(o.map(function(t){return"."+t+":not(["+wt+"])"})).join(", ");if(0!==r.length){var l=a(t.querySelectorAll(r));if(!(0<l.length))return;n("pending"),s("complete");var d=Xt.begin("onTree"),h=l.reduce(function(t,e){try{var i=D(e);i&&t.push(i)}catch(e){!xt&&e instanceof b&&console.error(e)}return t},[]);d(),y(h,function(){n("active"),n("complete"),s("pending"),"function"==typeof e&&e()})}}}function C(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,i=D(t);i&&y([i],e)}function T(t){return{found:!0,width:t[0],height:t[1],icon:{tag:"path",attributes:{fill:"currentColor",d:t.slice(4)[0]}}}}function E(){Ht.autoAddCss&&(!Ie&&s(Me()),Ie=!0)}function M(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map(function(t){return g(t)})}}),Object.defineProperty(t,"node",{get:function(){if(_t){var e=ut.createElement("div");return e.innerHTML=t.html,e.children}}}),t}function I(t){var e=t.prefix,i=void 0===e?"fa":e,n=t.iconName;return n?_(Ae.definitions,i,n)||_($t.styles,i,n):void 0}function A(t,e){var i=e.id,n=e.bbox,s=null==e.properties?{}:e.properties,o=O(t,e);return null==i&&null==n?{type:"Feature",properties:s,geometry:o}:null==n?{type:"Feature",id:i,properties:s,geometry:o}:{type:"Feature",id:i,bbox:n,properties:s,geometry:o}}function O(t,e){function i(t,e){e.length&&e.pop();for(var i=l[0>t?~t:t],n=0,s=i.length;n<s;++n)e.push(r(i[n],n));0>t&&Ze(e,s)}function n(t){return r(t)}function s(t){for(var e=[],n=0,s=t.length;n<s;++n)i(t[n],e);return 2>e.length&&e.push(e[0]),e}function o(t){for(var e=s(t);4>e.length;)e.push(e[0]);return e}function a(t){return t.map(o)}var r=qe(t.transform),l=t.arcs;return function t(e){var i,o=e.type;switch(o){case"GeometryCollection":return{type:o,geometries:e.geometries.map(t)};case"Point":i=n(e.coordinates);break;case"MultiPoint":i=e.coordinates.map(n);break;case"LineString":i=s(e.arcs);break;case"MultiLineString":i=e.arcs.map(s);break;case"Polygon":i=a(e.arcs);break;case"MultiPolygon":i=e.arcs.map(a);break;default:return null}return{type:o,coordinates:i}}(e)}function P(t){var e=["th","st","nd","rd"],i=t%100;return t+(e[(i-20)%10]||e[i]||e[0])}function N(t){return 200<=t.status&&300>t.status?Promise.resolve(t):Promise.reject(new Error(t.statusText))}function L(t,e,i){if(void 0===i&&(i=!0),2>e)return[t];var n,s=t.length,o=[],a=0;if(0==s%e)for(n=it(s/e);a<s;)o.push(t.slice(a,a+=n));else if(i)for(;a<s;)n=nt((s-a)/e--),o.push(t.slice(a,a+=n));else{for(0==s%(n=it(s/(e-=1)))&&(n-=1);a<n*e;)o.push(t.slice(a,a+=n));o.push(t.slice(n*e))}return o}function H(t,e){var i=Ei(t[0],t[1]),n=Mi(t[0],t[1]),s=Ei(e[0],e[1]),o=Mi(e[0],e[1]);return pi([i,n],[s,o])/1024}function F(){window.dataLayer.push(arguments)}function R(t,e){void 0!==window.google_tag_manager&&window.google_tag_manager.dataLayer.gtmLoad&&F("event","click",{event_category:t,event_label:e})}function Y(t,e){for(var i,n=0;n<e.length;n++)(i=e[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}function z(t,e){for(var i,n=0;n<e.length;n++)(i=e[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}function B(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function V(t,e){for(var i,n=0;n<e.length;n++)(i=e[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}function W(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function j(t){function e(e){function u(t){return t.filter(function(t){return p.includes(t.id)}).map(function(t){return{type:"Feature",id:t.id,geometry:t.geometry}})}var p=[];i=new c;var f=Ke(e.ports,e.ports.objects.ports);n=new Fi(f.features,e.pb,t,i.margin.top,i.margin.right,i.minScale),p=f.features.filter(function(t){return!t.properties.nonCapturable}).map(function(t){return t.id});var m=Ke(e.pbZones,e.pbZones.objects.pbCircles);m=u(m.features);var _=Ke(e.pbZones,e.pbZones.objects.forts);_=u(_.features);var g=Ke(e.pbZones,e.pbZones.objects.towers);g=u(g.features);var v=Ke(e.pbZones,e.pbZones.objects.joinCircles);v=u(v.features),h=new Hi(m,_,g,v,n);var y=JSON.parse(JSON.stringify(e.ships.shipData));new Vi(y);var b=JSON.parse(JSON.stringify(e.woods));new Zi(b);var w=JSON.parse(JSON.stringify(e.modules));new Ki(w);var D=JSON.parse(JSON.stringify(e.recipes.recipe));new Qi(D,w);var k=JSON.parse(JSON.stringify(e.recipes.ingredient));new Ji(k,w);var x=JSON.parse(JSON.stringify(e.buildings));new Xi(x),s=new Wi(i.coord.min,i.coord.max,n),o=new $i(i,n,h),a=new ji(i.margin.left,i.margin.top),r=new Ni(i),d=new Li(i),l=new Oi(i.rem),Ue.a.defaults={expires:365},Je.a.locale("en-gb"),i.init(),n.clearMap(i.minScale)}var i,n,s,o,a,r,l,d,h,c=function(){function t(){this.rem=Ai,this._navbarBrandPaddingLeft=it(1.618*this.rem),this.xGridBackgroundHeight=it(3*this.rem),this.yGridBackgroundWidth=it(4*this.rem),this.margin={top:it($(".navbar").height()+this._navbarBrandPaddingLeft),right:this._navbarBrandPaddingLeft,bottom:this._navbarBrandPaddingLeft,left:this._navbarBrandPaddingLeft},this.coord={min:0,max:8192},this._width=it(top.innerWidth-this.margin.left-this.margin.right),this._height=it(top.innerHeight-this.margin.top-this.margin.bottom),this._tileSize=256,this._maxScale=8,this._wheelDelta=.5,this._zoomLevel="initial",this._PBZoneZoomThreshold=1.5,this._labelZoomThreshold=.5,this.minScale=fi(et(this._width/this.coord.max,this._height/this.coord.max)),this.currentScale=this.minScale,this._doubleClickActionCookieName="na-map--double-click",this._doubleClickActionDefault="compass",this._doubleClickAction=this._getDoubleClickActionSetting(),this._showLayerCookieName="na-map--show-layer",this._showLayerDefault="grid",this._showLayer=this._getShowLayerSetting(),this._setupSvg(),this._setupListener()}var e=t.prototype;return e._setupListener=function(){var t=this;this._svg.on("dblclick.zoom",null).on("click",function(){d3.event.defaultPrevented&&d3.event.stopPropagation()},!0).on("dblclick",function(e,i,n){return t._doDoubleClickAction(n[i])}),$("#reset").on("click",function(){t._clearMap()}),$("#propertyDropdown").on("click",function(){R("Menu","Select port on property")}),$("#settingsDropdown").on("click",function(){R("Menu","Settings")}),$("#button-download-pb-calc").on("click",function(){R("Tools","Download pb calculator")}),$("#doubleClick-action").change(function(){return t._doubleClickSelected()}),$("#show-layer").change(function(){return t._showLayerSelected()}),$("#about").on("click",function(){t._showAbout()})},e._setupSvg=function(){var t=this;this._zoom=d3.zoom().scaleExtent([this.minScale,this._maxScale]).translateExtent([[this.coord.min-this.yGridBackgroundWidth*this.minScale,this.coord.min-this.xGridBackgroundHeight*this.minScale],[this.coord.max,this.coord.max]]).wheelDelta(function(){return-t._wheelDelta*Math.sign(d3.event.deltaY)}).on("zoom",function(){return t._naZoomed()}),this._svg=d3.select("#na").append("svg").attr("id","na-svg").attr("width",this._width).attr("height",this._height).style("position","absolute").style("top",this.margin.top+"px").style("left",this.margin.left+"px").call(this._zoom),this._svg.append("defs"),this._g=this._svg.append("g").classed("map",!0)},e._getDoubleClickActionSetting=function(){var t=Ue.a.get(this._doubleClickActionCookieName);return t=void 0===t?this._doubleClickActionDefault:t,$("#doubleClick-action-"+t).prop("checked",!0),t},e._storeDoubleClickActionSetting=function(){this._doubleClickAction===this._doubleClickActionDefault?Ue.a.remove(this._doubleClickActionCookieName):Ue.a.set(this._doubleClickActionCookieName,this._doubleClickAction)},e._doubleClickSelected=function(){this._doubleClickAction=$("input[name='doubleClickAction']:checked").val(),this._storeDoubleClickActionSetting(),this._clearMap()},e._getShowLayerSetting=function(){var t=Ue.a.get(this._showLayerCookieName);return t=void 0===t?this._showLayerDefault:t,$("#show-layer-"+t).prop("checked",!0),t},e._storeShowLayerSetting=function(){this._showLayer===this._showLayerDefault?Ue.a.remove(this._showLayerCookieName):Ue.a.set(this._showLayerCookieName,this._showLayer)},e._showLayerSelected=function(){this._showLayer=$("input[name='showLayer']:checked").val(),this._storeShowLayerSetting(),this._refreshLayer()},e._refreshLayer=function(){var t="grid"===this._showLayer,e="teleport"===this._showLayer;d.show=t,d.update(),s.show=e,s.setData(),s.update()},e._displayMap=function(t){var e=Z(this._tileSize),i=Z(this.coord.max)-e,n=this._width,s=this._height,o=it(this.coord.max*t.k<this._width?this._width-2*t.x:this.coord.max*t.k),a=it(this.coord.max*t.k<this._height?this._height-2*t.y:this.coord.max*t.k),r=Z(t.k),l=et(i,nt(Z(X(o,a)))-e),d=Q(10*l-10*r-10*i)/10,h=J(this._wheelDelta,d),c=t.x,u=t.y,p=this.coord.max*t.k<this._width?t.x:0,f=this.coord.max*t.k<this._height?t.y:0,m=d3.range(X(0,it((0-c)/this._tileSize/h)),X(0,et(nt((n-c-p)/this._tileSize/h),J(2,l)))),_=[];d3.range(X(0,it((0-u)/this._tileSize/h)),X(0,et(nt((s-u-f)/this._tileSize/h),J(2,l)))).forEach(function(t){m.forEach(function(e){_.push([e,t,l])})}),_.translate=[c,u],_.scale=h,this._updateMap(_)},e._updateMap=function(t){var e=this,i=d3.zoomIdentity.translate(Q(t.translate[0]),Q(t.translate[1])).scale(Q(1e3*t.scale)/1e3),n=this._g.attr("transform",i).selectAll("image").data(t,function(t){return t});n.exit().remove(),n.enter().append("image").attr("xlink:href",function(t){return"images/map/"+t[2]+"/"+t[1]+"/"+t[0]+".jpg"}).attr("x",function(t){return t[0]*e._tileSize}).attr("y",function(t){return t[1]*e._tileSize}).attr("width",this._tileSize).attr("height",this._tileSize)},e._clearMap=function(){a.clearMap(),l.clearMap(),r.clearMap(),n.clearMap(),o.clearMap(),$(".selectpicker").val("default").selectpicker("refresh")},e._showAbout=function(){$("#modal-about").modal("show")},e._doDoubleClickAction=function(t){var e=d3.mouse(t),i=d3.zoomTransform(t),n=e[0],s=e[1],o=i.k,a=(n-i.x)/o,d=(s-i.y)/o;"f11"===this._doubleClickAction?r.printCoord(a,d):l.plotCourse(a,d),this.zoomAndPan(a,d,1)},e._setZoomLevel=function(t){this._zoomLevel=t,n.zoomLevel=t,d.zoomLevel=t,s.zoomLevel=t},e._updateCurrent=function(){h.refresh(),d.update(),s.setData(),s.update(),n.update(this.currentScale)},e._setZoomLevelAndData=function(){d3.event.transform.k!==this.currentScale&&(this.currentScale=d3.event.transform.k,this.currentScale>this._PBZoneZoomThreshold?"pbZone"!==this._zoomLevel&&this._setZoomLevel("pbZone"):this.currentScale>this._labelZoomThreshold?"portLabel"!==this._zoomLevel&&this._setZoomLevel("portLabel"):"initial"!==this._zoomLevel&&this._setZoomLevel("initial"),this._updateCurrent())},e._naZoomed=function(){this._setZoomLevelAndData();var t=d3.zoomIdentity.translate(Q(d3.event.transform.x),Q(d3.event.transform.y)).scale(ri(d3.event.transform.k));this._displayMap(t),d.transform(t),n.transform(t),s.transform(t),l.transform(t),h.transform(t),r.transform(t)},e._initialZoomAndPan=function(){this._svg.call(this._zoom.scaleTo,this.minScale)},e.init=function(){this._setZoomLevel("initial"),this._initialZoomAndPan(),this._refreshLayer()},e.zoomAndPan=function(t,e,i){var n=d3.zoomIdentity.scale(i).translate(Q(-t+this._width/2/i),Q(-e+this._height/2/i));this._svg.call(this._zoom.transform,n)},e.goToPort=function(){console.log(n.currentPort),"0"===n.currentPort.id?this.initialZoomAndPan():this.zoomAndPan(n.currentPort.coord.x,n.currentPort.coord.y,2)},t}(),u="default",p=fetch("update.txt",{cache:u}).then(N).then(_i);Promise.all([p]).then(function(t){var e=Je()().utc().hour(11).minute(0);e.isAfter(Je()().utc())&&(e=e.subtract(1,"day")),Je()(t[0],"YYYY-MM-DD H.mm").isBefore(e,"hour")&&(u="reload")}).catch(gi),function(i){var n=fetch(t+".json",{cache:i}).then(N).then(mi),s=fetch(t+"-pb.json",{cache:i}).then(N).then(mi),o=fetch("pb.json",{cache:i}).then(N).then(mi),a=fetch("ships.json",{cache:i}).then(N).then(mi),r=fetch("woods.json",{cache:i}).then(N).then(mi),l=fetch("modules.json",{cache:i}).then(N).then(mi),d=fetch("recipes.json",{cache:i}).then(N).then(mi),h=fetch("buildings.json",{cache:i}).then(N).then(mi);Promise.all([n,s,o,a,r,l,d,h]).then(function(t){return e({ports:t[0],pb:t[1],pbZones:t[2],ships:t[3],woods:t[4],modules:t[5],recipes:t[6],buildings:t[7]})}).catch(gi)}(u)}var U=Math.sin,G=Math.cos,q=Number.isNaN,Z=Math.log2,K=Math.PI,Q=Math.round,J=Math.pow,X=Math.max,tt=Math.abs,et=Math.min,it=Math.floor,nt=Math.ceil;i.r(e);i(4),i(10),i(11),i(12),i(14),i(6);var st=function(){},ot={},at={},rt=null,lt={mark:st,measure:st};try{"undefined"!=typeof window&&(ot=window),"undefined"!=typeof document&&(at=document),"undefined"!=typeof MutationObserver&&(rt=MutationObserver),"undefined"!=typeof performance&&(lt=performance)}catch(e){}var dt=(ot.navigator||{}).userAgent,ht=void 0===dt?"":dt,ct=ot,ut=at,pt=rt,ft=lt,mt=!!ct.document,_t=!!ut.documentElement&&!!ut.head&&"function"==typeof ut.addEventListener&&"function"==typeof ut.createElement,gt=~ht.indexOf("MSIE")||~ht.indexOf("Trident/"),vt="___FONT_AWESOME___",yt=16,bt="svg-inline--fa",wt="data-fa-i2svg",Dt="data-fa-pseudo-element",kt="fontawesome-i2svg",xt=function(){try{return!0}catch(t){return!1}}(),St=[1,2,3,4,5,6,7,8,9,10],Ct=St.concat([11,12,13,14,15,16,17,18,19,20]),Tt=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],Et=["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter"].concat(St.map(function(t){return t+"x"})).concat(Ct.map(function(t){return"w-"+t})),Mt=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},It=function(){function t(t,e){for(var i,n=0;n<e.length;n++)(i=e[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),At=Object.assign||function(t){for(var e,i=1;i<arguments.length;i++)for(var n in e=arguments[i])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t},Ot=function(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)},Pt=ct.FontAwesomeConfig||{},Nt=Object.keys(Pt),Lt=At({familyPrefix:"fa",replacementClass:bt,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},Pt);Lt.autoReplaceSvg||(Lt.observeMutations=!1);var Ht=At({},Lt);ct.FontAwesomeConfig=Ht;var Ft=ct||{};Ft[vt]||(Ft[vt]={}),Ft[vt].styles||(Ft[vt].styles={}),Ft[vt].hooks||(Ft[vt].hooks={}),Ft[vt].shims||(Ft[vt].shims=[]);var $t=Ft[vt],Rt=[],Yt=!1;_t&&(!(Yt=(ut.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(ut.readyState))&&ut.addEventListener("DOMContentLoaded",function t(){ut.removeEventListener("DOMContentLoaded",t),Yt=1,Rt.map(function(t){return t()})}));var zt=yt,Bt={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},Vt=0,Wt={x:0,y:0,width:"100%",height:"100%"},jt=function(t){var e=t.children,i=t.attributes,n=t.main,s=t.mask,a=t.transform,r=n.width,l=n.icon,d=s.width,h=s.icon,c=u({transform:a,containerWidth:d,iconWidth:r}),p={tag:"rect",attributes:At({},Wt,{fill:"white"})},f={tag:"g",attributes:At({},c.inner),children:[{tag:"path",attributes:At({},l.attributes,c.path,{fill:"black"})}]},m={tag:"g",attributes:At({},c.outer),children:[f]},_="mask-"+o(),g="clip-"+o(),v={tag:"mask",attributes:At({},Wt,{id:_,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,m]};return e.push({tag:"defs",children:[{tag:"clipPath",attributes:{id:g},children:[h]},v]},{tag:"rect",attributes:At({fill:"currentColor","clip-path":"url(#"+g+")",mask:"url(#"+_+")"},Wt)}),{children:e,attributes:i}},Ut=function(t){var e=t.children,i=t.attributes,n=t.main,s=t.transform,o=h(t.styles);if(0<o.length&&(i.style=o),c(s)){var a=u({transform:s,containerWidth:n.width,iconWidth:n.width});e.push({tag:"g",attributes:At({},a.outer),children:[{tag:"g",attributes:At({},a.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:At({},n.icon.attributes,a.path)}]}]})}else e.push(n.icon);return{children:e,attributes:i}},Gt=function(t){var e=t.children,i=t.main,n=t.mask,s=t.attributes,o=t.styles,a=t.transform;if(c(a)&&i.found&&!n.found){var r={x:i.width/i.height/2,y:.5};s.style=h(At({},o,{"transform-origin":r.x+a.x/16+"em "+(r.y+a.y/16)+"em"}))}return[{tag:"svg",attributes:s,children:e}]},qt=function(t){var e=t.prefix,i=t.iconName,n=t.children,s=t.attributes,o=t.symbol,a=!0===o?e+"-"+Ht.familyPrefix+"-"+i:o;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:At({},s,{id:a}),children:n}]}]},Zt=function(){},Kt=Ht.measurePerformance&&ft&&ft.mark&&ft.measure?ft:{mark:Zt,measure:Zt},Qt='FA "5.0.13"',Jt=function(t){Kt.mark(Qt+" "+t+" ends"),Kt.measure(Qt+" "+t,Qt+" "+t+" begins",Qt+" "+t+" ends")},Xt={begin:function(t){return Kt.mark(Qt+" "+t+" begins"),function(){return Jt(t)}},end:Jt},te=function(t,e,i,n){var s,o,a,r=Object.keys(t),l=r.length,d=void 0===n?e:function(t,e){return function(i,n,s,o){return t.call(e,i,n,s,o)}}(e,n);for(void 0===i?(s=1,a=t[r[0]]):(s=0,a=i);s<l;s++)a=d(a,t[o=r[s]],o,t);return a},ee=$t.styles,ie=$t.shims,ne={},se={},oe={},ae=function(){var t=function(t){return te(ee,function(e,i,n){return e[n]=te(i,t,{}),e},{})};ne=t(function(t,e,i){return t[e[3]]=i,t}),se=t(function(t,e,i){var n=e[2];return t[i]=i,n.forEach(function(e){t[e]=i}),t});var e="far"in ee;oe=te(ie,function(t,i){var n=i[0],s=i[1],o=i[2];return"far"!==s||e||(s="fas"),t[n]={prefix:s,iconName:o},t},{})};ae();var re=$t.styles,le=function(){return{prefix:null,iconName:null,rest:[]}},de=function(){},he={replace:function(t){var e=t[0],i=t[1].map(function(t){return g(t)}).join("\n");if(e.parentNode&&e.outerHTML)e.outerHTML=i+(Ht.keepOriginalSource&&"svg"!==e.tagName.toLowerCase()?"\x3c!-- "+e.outerHTML+" --\x3e":"");else if(e.parentNode){var n=document.createElement("span");e.parentNode.replaceChild(n,e),n.outerHTML=i}},nest:function(t){var e=t[0],i=t[1];if(~r(e).indexOf(Ht.replacementClass))return he.replace(t);var n=new RegExp(Ht.familyPrefix+"-.*");delete i[0].attributes.style;var s=i[0].attributes.class.split(" ").reduce(function(t,e){return e===Ht.replacementClass||e.match(n)?t.toSvg.push(e):t.toNode.push(e),t},{toNode:[],toSvg:[]});i[0].attributes.class=s.toSvg.join(" ");var o=i.map(function(t){return g(t)}).join("\n");e.setAttribute("class",s.toNode.join(" ")),e.setAttribute(wt,""),e.innerHTML=o}},ce=!1,ue=null,pe=function(t){var e=t.getAttribute("style"),i=[];return e&&(i=e.split(";").reduce(function(t,e){var i=e.split(":"),n=i[0],s=i.slice(1);return n&&0<s.length&&(t[n]=s.join(":").trim()),t},{})),i},fe=function(t){var e=t.getAttribute("data-prefix"),i=t.getAttribute("data-icon"),n=void 0===t.innerText?"":t.innerText.trim(),s=m(r(t));return e&&i&&(s.prefix=e,s.iconName=i),s.prefix&&1<n.length?s.iconName=function(t,e){return se[t][e]}(s.prefix,t.innerText):s.prefix&&1===n.length&&(s.iconName=function(t,e){return ne[t][e]}(s.prefix,function(t){for(var e="",i=0;i<t.length;i++)e+=("000"+t.charCodeAt(i).toString(16)).slice(-4);return e}(t.innerText))),s},me=function(t){var e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t?t.toLowerCase().split(" ").reduce(function(t,e){var i=e.toLowerCase().split("-"),n=i[0],s=i.slice(1).join("-");return n&&"h"===s?(t.flipX=!0,t):n&&"v"===s?(t.flipY=!0,t):(s=parseFloat(s),isNaN(s)?t:("grow"===n?t.size+=s:"shrink"===n?t.size-=s:"left"===n?t.x-=s:"right"===n?t.x+=s:"up"===n?t.y-=s:"down"===n?t.y+=s:"rotate"===n&&(t.rotate+=s),t))},e):e},_e=function(t){return me(t.getAttribute("data-fa-transform"))},ge=function(t){var e=t.getAttribute("data-fa-symbol");return null!==e&&(!(""!==e)||e)},ve=function(t){var e=a(t.attributes).reduce(function(t,e){return"class"!==t.name&&"style"!==t.name&&(t[e.name]=e.value),t},{}),i=t.getAttribute("title");return Ht.autoA11y&&(i?e["aria-labelledby"]=Ht.replacementClass+"-title-"+o():e["aria-hidden"]="true"),e},ye=function(t){var e=t.getAttribute("data-fa-mask");return e?m(e.split(" ").map(function(t){return t.trim()})):le()};b.prototype=Object.create(Error.prototype),b.prototype.constructor=b;var be={fill:"currentColor"},we={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},De={tag:"path",attributes:At({},be,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})},ke=At({},we,{attributeName:"opacity"}),xe={tag:"g",children:[De,{tag:"circle",attributes:At({},be,{cx:"256",cy:"364",r:"28"}),children:[{tag:"animate",attributes:At({},we,{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:At({},ke,{values:"1;0;1;1;0;1;"})}]},{tag:"path",attributes:At({},be,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:[{tag:"animate",attributes:At({},ke,{values:"1;0;0;0;0;1;"})}]},{tag:"path",attributes:At({},be,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:At({},ke,{values:"0;0;1;1;0;0;"})}]}]},Se=$t.styles,Ce="fa-layers-text",Te=/Font Awesome 5 (Solid|Regular|Light|Brands)/,Ee={Solid:"fas",Regular:"far",Light:"fal",Brands:"fab"},Me=function(){var t=Ht.familyPrefix,e=Ht.replacementClass,i='svg:not(:root).svg-inline--fa {\n  overflow: visible; }\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -.125em; }\n  .svg-inline--fa.fa-lg {\n    vertical-align: -.225em; }\n  .svg-inline--fa.fa-w-1 {\n    width: 0.0625em; }\n  .svg-inline--fa.fa-w-2 {\n    width: 0.125em; }\n  .svg-inline--fa.fa-w-3 {\n    width: 0.1875em; }\n  .svg-inline--fa.fa-w-4 {\n    width: 0.25em; }\n  .svg-inline--fa.fa-w-5 {\n    width: 0.3125em; }\n  .svg-inline--fa.fa-w-6 {\n    width: 0.375em; }\n  .svg-inline--fa.fa-w-7 {\n    width: 0.4375em; }\n  .svg-inline--fa.fa-w-8 {\n    width: 0.5em; }\n  .svg-inline--fa.fa-w-9 {\n    width: 0.5625em; }\n  .svg-inline--fa.fa-w-10 {\n    width: 0.625em; }\n  .svg-inline--fa.fa-w-11 {\n    width: 0.6875em; }\n  .svg-inline--fa.fa-w-12 {\n    width: 0.75em; }\n  .svg-inline--fa.fa-w-13 {\n    width: 0.8125em; }\n  .svg-inline--fa.fa-w-14 {\n    width: 0.875em; }\n  .svg-inline--fa.fa-w-15 {\n    width: 0.9375em; }\n  .svg-inline--fa.fa-w-16 {\n    width: 1em; }\n  .svg-inline--fa.fa-w-17 {\n    width: 1.0625em; }\n  .svg-inline--fa.fa-w-18 {\n    width: 1.125em; }\n  .svg-inline--fa.fa-w-19 {\n    width: 1.1875em; }\n  .svg-inline--fa.fa-w-20 {\n    width: 1.25em; }\n  .svg-inline--fa.fa-pull-left {\n    margin-right: .3em;\n    width: auto; }\n  .svg-inline--fa.fa-pull-right {\n    margin-left: .3em;\n    width: auto; }\n  .svg-inline--fa.fa-border {\n    height: 1.5em; }\n  .svg-inline--fa.fa-li {\n    width: 2em; }\n  .svg-inline--fa.fa-fw {\n    width: 1.25em; }\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0; }\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -.125em;\n  width: 1em; }\n  .fa-layers svg.svg-inline--fa {\n    -webkit-transform-origin: center center;\n            transform-origin: center center; }\n\n.fa-layers-text, .fa-layers-counter {\n  display: inline-block;\n  position: absolute;\n  text-align: center; }\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center; }\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: .25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right; }\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right; }\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left; }\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right; }\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left; }\n\n.fa-lg {\n  font-size: 1.33333em;\n  line-height: 0.75em;\n  vertical-align: -.0667em; }\n\n.fa-xs {\n  font-size: .75em; }\n\n.fa-sm {\n  font-size: .875em; }\n\n.fa-1x {\n  font-size: 1em; }\n\n.fa-2x {\n  font-size: 2em; }\n\n.fa-3x {\n  font-size: 3em; }\n\n.fa-4x {\n  font-size: 4em; }\n\n.fa-5x {\n  font-size: 5em; }\n\n.fa-6x {\n  font-size: 6em; }\n\n.fa-7x {\n  font-size: 7em; }\n\n.fa-8x {\n  font-size: 8em; }\n\n.fa-9x {\n  font-size: 9em; }\n\n.fa-10x {\n  font-size: 10em; }\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em; }\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0; }\n  .fa-ul > li {\n    position: relative; }\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit; }\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: .1em;\n  padding: .2em .25em .15em; }\n\n.fa-pull-left {\n  float: left; }\n\n.fa-pull-right {\n  float: right; }\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: .3em; }\n\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: .3em; }\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear; }\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8); }\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg); }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg); } }\n\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg); }\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg); }\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg); }\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1); }\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1); }\n\n.fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1); }\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical {\n  -webkit-filter: none;\n          filter: none; }\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2em; }\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0; }\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1em; }\n\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2em; }\n\n.fa-inverse {\n  color: #fff; }\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px; }\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto; }\n';if("fa"!==t||e!==bt){i=i.replace(/\.fa\-/g,"."+t+"-").replace(/\.svg-inline--fa/g,"."+e)}return i},Ie=!1,Ae=new(function(){function t(){Mt(this,t),this.definitions={}}return It(t,[{key:"add",value:function(){for(var t=this,e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];var s=i.reduce(this._pullDefinitions,{});Object.keys(s).forEach(function(e){t.definitions[e]=At({},t.definitions[e]||{},s[e]),function t(e,i){var n=Object.keys(i).reduce(function(t,e){var n=i[e];return n.icon?t[n.iconName]=n.icon:t[e]=n,t},{});"function"==typeof $t.hooks.addPack?$t.hooks.addPack(e,n):$t.styles[e]=At({},$t.styles[e]||{},n),"fas"===e&&t("fa",i)}(e,s[e])})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,e){var i=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(i).map(function(e){var n=i[e],s=n.prefix,o=n.iconName,a=n.icon;t[s]||(t[s]={}),t[s][o]=a}),t}}]),t}()),Oe={noAuto:function(){(function(t){n({autoReplaceSvg:t,observeMutations:t})})(!1),ue&&ue.disconnect()},dom:{i2svg:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(_t){E();var e=t.node,i=void 0===e?ut:e,n=t.callback,s=void 0===n?function(){}:n;Ht.searchPseudoElements&&x(i),S(i,s)}},css:Me,insertCss:function(){s(Me())}},library:Ae,parse:{transform:function(t){return me(t)}},findIconDefinition:I,icon:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=(t||{}).icon?t:I(t||{}),n=e.mask;return n&&(n=(n||{}).icon?n:I(n||{})),function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=e.transform,n=void 0===i?Bt:i,s=e.symbol,a=e.mask,r=void 0===a?null:a,l=e.title,d=void 0===l?null:l,h=e.classes,c=void 0===h?[]:h,u=e.attributes,f=void 0===u?{}:u,m=e.styles,_=void 0===m?{}:m;if(t){var g=t.prefix,v=t.iconName,y=t.icon;return M(At({type:"icon"},t),function(){return E(),Ht.autoA11y&&(d?f["aria-labelledby"]=Ht.replacementClass+"-title-"+o():f["aria-hidden"]="true"),p({icons:{main:T(y),mask:r?T(r.icon):{found:!1,width:null,height:null,icon:{}}},prefix:g,iconName:v,transform:At({},Bt,n),symbol:void 0!==s&&s,title:d,extra:{attributes:f,styles:_,classes:c}})})}}(i,At({},e,{mask:n}))},text:function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i=e.transform,n=void 0===i?Bt:i,s=e.title,o=void 0===s?null:s,a=e.classes,r=void 0===a?[]:a,l=e.attributes,d=void 0===l?{}:l,h=e.styles,c=void 0===h?{}:h;return M({type:"text",content:t},function(){return E(),f({content:t,transform:At({},Bt,n),title:o,extra:{attributes:d,styles:c,classes:[Ht.familyPrefix+"-layers-text"].concat(Ot(r))}})})},layer:function(t){return M({type:"layer"},function(){E();var e=[];return t(function(t){Array.isArray(t)?t.map(function(t){e=e.concat(t.abstract)}):e=e.concat(t.abstract)}),[{tag:"span",attributes:{class:Ht.familyPrefix+"-layers"},children:e}]})}},Pe=function(){_t&&Ht.autoReplaceSvg&&Oe.dom.i2svg({node:ut})};Object.defineProperty(Oe,"config",{get:function(){return Ht},set:function(t){n(t)}}),_t&&function(t){try{mt&&(!ct.FontAwesome&&(ct.FontAwesome=Oe),function(t){_t&&(Yt?setTimeout(t,0):Rt.push(t))}(function(){0<Object.keys($t.styles).length&&Pe(),Ht.observeMutations&&"function"==typeof MutationObserver&&function(t){if(pt){var e=t.treeCallback,i=t.nodeCallback,n=t.pseudoElementsCallback;ue=new pt(function(t){ce||a(t).forEach(function(t){if("childList"===t.type&&0<t.addedNodes.length&&!v(t.addedNodes[0])&&(Ht.searchPseudoElements&&n(t.target),e(t.target)),"attributes"===t.type&&t.target.parentNode&&Ht.searchPseudoElements&&n(t.target.parentNode),"attributes"===t.type&&v(t.target)&&~Tt.indexOf(t.attributeName))if("class"===t.attributeName){var s=m(r(t.target)),o=s.prefix,a=s.iconName;o&&t.target.setAttribute("data-prefix",o),a&&t.target.setAttribute("data-icon",a)}else i(t.target)})}),_t&&ue.observe(ut.getElementsByTagName("body")[0],{childList:!0,attributes:!0,characterData:!0,subtree:!0})}}({treeCallback:S,nodeCallback:C,pseudoElementsCallback:x})})),$t.hooks=At({},$t.hooks,{addPack:function(t,e){$t.styles[t]=At({},$t.styles[t]||{},e),ae(),Pe()},addShims:function(t){var e;(e=$t.shims).push.apply(e,Ot(t)),ae(),Pe()}})}catch(t){if(!xt)throw t}}();Oe.config;var Ne={prefix:"far",iconName:"calendar",icon:[448,512,[],"f133","M400 64h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zm-6 400H54c-3.3 0-6-2.7-6-6V160h352v298c0 3.3-2.7 6-6 6z"]},Le={prefix:"far",iconName:"calendar-check",icon:[448,512,[],"f274","M400 64h-48V12c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v52H160V12c0-6.627-5.373-12-12-12h-40c-6.627 0-12 5.373-12 12v52H48C21.49 64 0 85.49 0 112v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V112c0-26.51-21.49-48-48-48zm-6 400H54a6 6 0 0 1-6-6V160h352v298a6 6 0 0 1-6 6zm-52.849-200.65L198.842 404.519c-4.705 4.667-12.303 4.637-16.971-.068l-75.091-75.699c-4.667-4.705-4.637-12.303.068-16.971l22.719-22.536c4.705-4.667 12.303-4.637 16.97.069l44.104 44.461 111.072-110.181c4.705-4.667 12.303-4.637 16.971.068l22.536 22.718c4.667 4.705 4.636 12.303-.069 16.97z"]},He={prefix:"far",iconName:"clock",icon:[512,512,[],"f017","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm61.8-104.4l-84.9-61.7c-3.1-2.3-4.9-5.9-4.9-9.7V116c0-6.6 5.4-12 12-12h32c6.6 0 12 5.4 12 12v141.7l66.8 48.6c5.4 3.9 6.5 11.4 2.6 16.8L334.6 349c-3.9 5.3-11.4 6.5-16.8 2.6z"]},Fe={prefix:"far",iconName:"copy",icon:[448,512,[],"f0c5","M433.941 65.941l-51.882-51.882A48 48 0 0 0 348.118 0H176c-26.51 0-48 21.49-48 48v48H48c-26.51 0-48 21.49-48 48v320c0 26.51 21.49 48 48 48h224c26.51 0 48-21.49 48-48v-48h80c26.51 0 48-21.49 48-48V99.882a48 48 0 0 0-14.059-33.941zM266 464H54a6 6 0 0 1-6-6V150a6 6 0 0 1 6-6h74v224c0 26.51 21.49 48 48 48h96v42a6 6 0 0 1-6 6zm128-96H182a6 6 0 0 1-6-6V54a6 6 0 0 1 6-6h106v88c0 13.255 10.745 24 24 24h88v202a6 6 0 0 1-6 6zm6-256h-64V48h9.632c1.591 0 3.117.632 4.243 1.757l48.368 48.368a6 6 0 0 1 1.757 4.243V112z"]},$e={prefix:"fas",iconName:"arrow-down",icon:[448,512,[],"f063","M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"]},Re={prefix:"fas",iconName:"arrow-up",icon:[448,512,[],"f062","M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"]},Ye={prefix:"fas",iconName:"chevron-left",icon:[320,512,[],"f053","M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"]},ze={prefix:"fas",iconName:"chevron-right",icon:[320,512,[],"f054","M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"]},Be={prefix:"fas",iconName:"paste",icon:[448,512,[],"f0ea","M128 184c0-30.879 25.122-56 56-56h136V56c0-13.255-10.745-24-24-24h-80.61C204.306 12.89 183.637 0 160 0s-44.306 12.89-55.39 32H24C10.745 32 0 42.745 0 56v336c0 13.255 10.745 24 24 24h104V184zm32-144c13.255 0 24 10.745 24 24s-10.745 24-24 24-24-10.745-24-24 10.745-24 24-24zm184 248h104v200c0 13.255-10.745 24-24 24H184c-13.255 0-24-10.745-24-24V184c0-13.255 10.745-24 24-24h136v104c0 13.2 10.8 24 24 24zm104-38.059V256h-96v-96h6.059a24 24 0 0 1 16.97 7.029l65.941 65.941a24.002 24.002 0 0 1 7.03 16.971z"]},Ve={prefix:"fas",iconName:"times",icon:[352,512,[],"f00d","M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"]},We={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M0 84V56c0-13.3 10.7-24 24-24h112l9.4-18.7c4-8.2 12.3-13.3 21.4-13.3h114.3c9.1 0 17.4 5.1 21.5 13.3L312 32h112c13.3 0 24 10.7 24 24v28c0 6.6-5.4 12-12 12H12C5.4 96 0 90.6 0 84zm415.2 56.7L394.8 467c-1.6 25.3-22.6 45-47.9 45H101.1c-25.3 0-46.3-19.7-47.9-45L32.8 140.7c-.4-6.9 5.1-12.7 12-12.7h358.5c6.8 0 12.3 5.8 11.9 12.7z"]},je=i(1),Ue=i.n(je),Ge=function(t){return t},qe=function(t){if(null==t)return Ge;var e,i,n=t.scale[0],s=t.scale[1],o=t.translate[0],a=t.translate[1];return function(t,r){r||(e=i=0);var l=2,d=t.length,h=Array(d);for(h[0]=(e+=t[0])*n+o,h[1]=(i+=t[1])*s+a;l<d;)h[l]=t[l],++l;return h}},Ze=function(t,e){for(var i,n=t.length,s=n-e;s<--n;)i=t[s],t[s++]=t[n],t[n]=i},Ke=function(t,e){return"GeometryCollection"===e.type?{type:"FeatureCollection",features:e.geometries.map(function(e){return A(t,e)})}:A(t,e)},Qe=i(0),Je=i.n(Qe),Xe=(i(2),d3.formatLocale({decimal:".",thousands:" ",grouping:[3],currency:[""," gold"],percent:" %"})),ti=d3.formatPrefix(",.0",1e3),ei=function(t,e){return void 0===e&&(e=2),Xe.format(",."+e+"r")(t).replace("-","− ")},ii=function(t){return ti(-1*t).replace("-","− ")},ni=function(t){return Xe.format(",d")(t).replace("-","− ")},si=function(t){return Xe.format(",.2s")(t).replace(".0","").replace("-","− ")},oi=function(t){return Xe.format(".1%")(t).replace(".0","").replace("-","− ")},ai=function(t){return Xe.format("+.1%")(t).replace(".0","").replace("-","− ").replace("+","＋ ")},ri=function(t){return Q(1e3*t)/1e3},li=["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"],di=function(t){var e=it(t/22.5+.5);return li[e%16]},hi=function(t,e,i,n){var s=et.apply(Math,[e,i]),o=X.apply(Math,[e,i]);return n?t>=s&&t<=o:t>s&&t<o},ci=function(t){return K/180*(t-90)},ui=function(t,e){var i=Math.atan2(e[1]-t[1],e[0]-t[0]),n=function(t){return 180*t/K}(i-=K/2);return 0>n&&(n+=360),n},pi=function(t,e){return Math.sqrt(J(t[0]-e[0],2)+J(t[1]-e[1],2))},fi=function(t){return J(2,Q(Z(t)))},mi=function(t){return t.json()},_i=function(t){return t.text()},gi=function(t){console.log("Request failed --\x3e",t)},vi=-.00499866779363828,yi=-2.1464254980645e-7,bi=4096.88635151897,wi=4096.90282787469,Di=-200.053302087577,ki=-.00859027897636011,xi=819630.836437126,Si=-819563.745651571,Ci=function(t,e){return vi*t+yi*e+bi},Ti=function(t,e){return yi*t-vi*e+wi},Ei=function(t,e){return Di*t+ki*e+xi},Mi=function(t,e){return ki*t-Di*e+Si},Ii=[{id:0,short:"NT",name:"Neutral",sortName:"Neutral"},{id:1,short:"PR",name:"Pirates",sortName:"Pirates"},{id:2,short:"ES",name:"España",sortName:"España"},{id:3,short:"FR",name:"France",sortName:"France"},{id:4,short:"GB",name:"Great Britain",sortName:"Great Britain"},{id:5,short:"VP",name:"Verenigde Provinciën",sortName:"Verenigde Provinciën"},{id:6,short:"DK",name:"Danmark-Norge",sortName:"Danmark-Norge"},{id:7,short:"SE",name:"Sverige",sortName:"Sverige"},{id:8,short:"US",name:"United States",sortName:"United States"},{id:9,short:"FT",name:"Free Town",sortName:"Free Town"},{id:10,short:"RU",name:"Russian Empire",sortName:"Russian Empire"},{id:11,short:"DE",name:"Kingdom of Prussia",sortName:"Prussia"},{id:12,short:"PL",name:"Commonwealth of Poland",sortName:"Poland"}],Ai=16,Oi=function(){function t(t){this._fontSize=t,this._bFirstCoord=!0,this._compassSize=100,this._line=d3.line(),this._lineData=[],this._setupSvg()}var e=t.prototype;return e._setupSvg=function(){this._g=d3.select("#na-svg").append("g").classed("coord",!0),d3.select("#na-svg defs").append("marker").attr("id","course-arrow").attr("viewBox","0 -5 10 10").attr("refX",8).attr("refY",0).attr("markerWidth",5).attr("markerHeight",5).attr("orient","auto").append("path").attr("d","M0,-5L10,0L0,5").attr("class","course-head")},e._printCompass=function(){var t=this._lineData.length-1,e=this._lineData[t][0],i=this._lineData[t][1];this._g.append("image").classed("compass",!0).attr("x",e).attr("y",i).attr("transform","translate("+-this._compassSize/2+","+-this._compassSize/2+")").attr("height",this._compassSize).attr("width",this._compassSize).attr("xlink:href","icons/compass.svg"),this.gCompass=this._g.append("path")},e._printLine=function(){var t=this._lineData.length-1,e=this._lineData.length-2,i=ui(this._lineData[t],this._lineData[this._lineData.length-2]),n=di(i),s=[this._lineData[t][0],this._lineData[t][1]],o=H(s,[this._lineData[e][0],this._lineData[e][1]]),a=19/2.56;this._totalDistance+=o;var r=Je.a.duration(o/a,"minutes").humanize(!0),l=Je.a.duration(this._totalDistance/a,"minutes").humanize(!0),d=n+" ("+Q(i)+"°) ☆ F11: "+ii(Ei(s[0],s[1]))+" / "+ii(Mi(s[0],s[1])),h=Q(o)+"k "+r;2<this._lineData.length&&(h+=" ☆ total "+Q(this._totalDistance)+"k "+l),this.gCompass.datum(this._lineData).attr("marker-end","url(#course-arrow)").attr("d",this._line);var c=this._g.append("svg").attr("x",s[0]).attr("y",s[1]),u=c.append("rect"),p=c.append("text").attr("x","10%").attr("y","33%").text(d),f=c.append("text").attr("x","10%").attr("y","66%").text(h),m=p.node().getBBox(),_=f.node().getBBox(),g=2*(m.height+this._fontSize)*1.1,v=1.1*(X(m.width,_.width)+this._fontSize);u.attr("x",0).attr("y",0).attr("height",g).attr("width",v),c.attr("height",g).attr("width",v)},e.plotCourse=function(t,e){this._bFirstCoord&&this.clearMap(),this._lineData.push([t,e]),this._bFirstCoord?(this._printCompass(),this._bFirstCoord=!this._bFirstCoord):this._printLine()},e.transform=function(t){this._g.attr("transform",t)},e.clearMap=function(){this._bFirstCoord=!0,this._totalDistance=0,void 0!==this._lineData&&this._lineData.splice(0,this._lineData.length),this._g.selectAll("*").remove()},t}(),Pi="UA-109520372-1";window.dataLayer=window.dataLayer||[];var Ni=function(){function t(t){this._map=t,this._minCoord=this._map.coord.min,this._maxCoord=this._map.coord.max,this._setupSvg(),this._setupListener()}var e=t.prototype;return e._setupSvg=function(){this._g=d3.select("#na-svg").insert("g").classed("f11",!0)},e._setupListener=function(){var t=this;$("#f11").submit(function(e){R("Menu","Move to F11"),t._f11Submitted(),e.preventDefault()}),$("#copy-coord").click(function(){return t._copyCoordClicked()}),document.addEventListener("paste",function(e){t._pasteF11FromClipboard(e),e.preventDefault()})},e._f11Submitted=function(){var t=-1e3*+$("#x-coord").val(),e=-1e3*+$("#z-coord").val();this._goToF11(t,e)},t._copyF11ToClipboard=function(t){var e=$("<input>");$("body").append(e),e.val(t).select(),document.execCommand("copy"),e.remove()},e._copyCoordClicked=function(){var t=$("#x-coord").val(),e=$("#z-coord").val();q(t)||q(e)||this.constructor._copyF11ToClipboard("F11 coordinates X: "+t+"k Z: "+e+"k")},e._addF11StringToInput=function(t){var e=/F11 coordinates X: ([-+]?[0-9]*)k Z: ([-+]?[0-9]*)k/g.exec(t);if(e&&!q(+e[1])&&!q(+e[2])){var i=1e3*+e[1],n=1e3*+e[2];q(+i)||q(+n)||this._goToF11(i,n)}},e._pasteF11FromClipboard=function(t){var e=t.clipboardData&&t.clipboardData.getData?t.clipboardData.getData("text/plain"):!(!window.clipboardData||!window.clipboardData.getData)&&window.clipboardData.getData("Text");"x-coord"===document.activeElement.id||"z-coord"===document.activeElement.id?!q(+e)&&$("#"+document.activeElement.id).val(e).select():this._addF11StringToInput(e)},e._printF11Coord=function(t,e,i,n){var s=this._g.append("g").attr("transform","translate("+t+","+e+")");s.append("circle").attr("r",10),s.append("text").attr("dx","-.6em").attr("dy","-.5em").text(ii(i)),s.append("text").attr("dx","-.6em").attr("dy",".5em").text(ii(n))},e._goToF11=function(t,e){var i=+t,n=+e,s=Ci(i,n),o=Ti(i,n);hi(s,this._minCoord,this._maxCoord,!0)&&hi(o,this._minCoord,this._maxCoord,!0)&&(this._printF11Coord(s,o,i,n),this._map.zoomAndPan(s,o,1))},e.printCoord=function(t,e){var i=Ei(t,e),n=Mi(t,e);this._printF11Coord(t,e,i,n)},e.transform=function(t){this._g.attr("transform",t)},e.clearMap=function(){this._g.selectAll("*").remove()},t}(),Li=function(){function t(t){this._map=t,this._isShown=!0,this._minCoord=this._map.coord.min,this._maxCoord=this._map.coord.max,this._height=this._map._height,this._width=this._map._width,this._topMargin=this._map.margin.top,this._leftMargin=this._map.margin.left,this._defaultFontSize=this._map.rem,this._textPadding=this._defaultFontSize/2,this._xBackgroundHeight=this._map.xGridBackgroundHeight,this._yBackgroundWidth=this._map.yGridBackgroundWidth,this._setupSvg()}var e=t.prototype;return e._setupSvg=function(){this._setupScale(),this._setupAxis()},e._setupScale=function(){this._xScale=d3.scaleLinear().clamp(!0).domain([Ei(this._minCoord,this._minCoord),Ei(this._maxCoord,this._maxCoord)]).range([this._minCoord,this._maxCoord]),this._yScale=d3.scaleLinear().clamp(!0).domain([Mi(this._minCoord,this._minCoord),Mi(this._maxCoord,this._maxCoord)]).range([this._minCoord,this._maxCoord])},e._setupAxis=function(){var t=this._getTicks(65);this._xAxis=d3.axisBottom(this._xScale).tickFormat(ii).tickValues(t).tickSize(this._maxCoord),this._yAxis=d3.axisRight(this._yScale).tickFormat(ii).tickValues(t).tickSize(this._maxCoord),this._gAxis=this._map._svg.insert("g","g.voronoi").classed("axis",!0).attr("display","none"),this._gXAxis=this._gAxis.append("g").classed("axis-x",!0),this._gYAxis=this._gAxis.append("g").classed("axis-y",!0),this._setupBackground(),this._displayAxis(),this._setupXAxis(),this._setupYAxis()},e._getTicks=function(t){for(var e=Q(Mi(this._minCoord,this._minCoord)),i=Q(Mi(this._maxCoord,this._maxCoord)),n=(i-e)/(t-1),s=[],o=n;o<i;o+=n)s.push(Q(o));s.push(i);var a=s.slice(0).reverse().map(function(t){return-t});return a.push(0),a.concat(s)},e._setupXAxis=function(){this._gXAxis.selectAll(".tick text").attr("dx","-0.3em").attr("dy","2em"),this._gXAxis.attr("text-anchor","end").attr("fill",null).attr("font-family",null)},e._setupYAxis=function(){this._gYAxis.attr("text-anchor","end").attr("fill",null).attr("font-family",null),this._gYAxis.selectAll(".tick text").attr("dx","3.5em").attr("dy","-.3em")},e._displayAxis=function(){this._displayXAxis(),this._displayYAxis()},e._displayXAxis=function(){var t=d3.event?d3.event.transform.k:1,e=d3.event?d3.event.transform.y:0,i=e/t<this._width?e/t:0;this._gXAxis.call(this._xAxis.tickPadding(-this._maxCoord-i)),this._gXAxis.attr("font-size",ri(this._defaultFontSize/t)).attr("stroke-width",ri(1/t)),this._gXAxis.select(".domain").remove()},e._displayYAxis=function(){var t=d3.event?d3.event.transform.k:1,e=d3.event?d3.event.transform.x:0,i=e/t<this._height?e/t:0;this._gYAxis.call(this._yAxis.tickPadding(-this._maxCoord-i)),this._gYAxis.attr("font-size",ri(this._defaultFontSize/t)).attr("stroke-width",ri(1/t)),this._gYAxis.select(".domain").remove()},e._setupBackground=function(){this._gBackground=this._map._svg.insert("g","g.axis").classed("grid-background",!0).attr("display","none"),this._gBackground.append("rect").attr("height",this._xBackgroundHeight).attr("width",this._width),this._gBackground.append("rect").attr("height",this._height).attr("width",this._yBackgroundWidth)},e.update=function(){this._isShown&&"initial"!==this._zoomLevel?(this._gAxis.attr("display","inherit"),this._gBackground.attr("display","inherit"),d3.select("#summary").style("top",this._topMargin+48+"px")):(this._gAxis.attr("display","none"),this._gBackground.attr("display","none"),d3.select("#summary").style("top",this._topMargin+"px"))},e.transform=function(t){this._gAxis.attr("transform",t),this._displayAxis()},function(t,e,i){e&&Y(t.prototype,e),i&&Y(t,i)}(t,[{key:"show",set:function(t){this._isShown=t}},{key:"zoomLevel",set:function(t){this._zoomLevel=t}}]),t}(),Hi=function(){function t(t,e,i,n,s){this._ports=s,this._pbCircleDataDefault=t,this._pbCircleData=t,this._fortDataDefault=e,this._fortData=e,this._towerDataDefault=i,this._towerData=i,this._joinCircleDataDefault=n,this._joinCircleData=n,this._showPBCookieName="na-map--show-pb",this._showPBDefault="all",this._showPB=this._getShowPBSetting(),this._setupSvg(),this._setupListener()}var e=t.prototype;return e._setupSvg=function(){this._g=d3.select("#na-svg").insert("g","g.ports").classed("pb",!0),this._gJoinCirclesInner=this._g.append("path").classed("join-circle",!0),this._gJoinCirclesOuter=this._g.append("path").classed("join-circle",!0),this._gPBCircles=this._g.append("path").classed("pb-circle",!0),this._gTowers=this._g.append("path").classed("tower",!0),this._gForts=this._g.append("path").classed("fort",!0)},e._setupListener=function(){var t=this;$("#show-pb").change(function(){return t._showPBZonesSelected()})},e._getShowPBSetting=function(){var t=Ue.a.get(this._showPBCookieName);return t=void 0===t?this._showPBDefault:t,$("#show-pb-"+t).prop("checked",!0),t},e._storeShowPBSetting=function(){this._showPB===this._showPBDefault?Ue.a.remove(this._showPBCookieName):Ue.a.set(this._showPBCookieName,this._showPB)},e._refreshPBZones=function(){this.refresh(),this._ports.updateTexts()},e._showPBZonesSelected=function(){this._showPB=$("input[name='showPB']:checked").val(),this._storeShowPBSetting(),this._refreshPBZones()},e._update=function(){this._gPBCircles.datum(this._pbCircleData).attr("d",d3.geoPath().pointRadius(3.5)),this._gTowers.datum(this._towerData).attr("d",d3.geoPath().pointRadius(1.5)),this._gForts.datum(this._fortData).attr("d",d3.geoPath().pointRadius(2)),this._gJoinCirclesInner.datum(this._joinCircleData).attr("d",d3.geoPath().pointRadius(14)),this._gJoinCirclesOuter.datum(this._joinCircleData).attr("d",d3.geoPath().pointRadius(28))},e._isPortIn=function(t){return"all"===this._showPB||"single"===this._showPB&&t.id===this._ports.currentPort.id},e._setData=function(){var t=this;"pbZone"===this._ports.zoomLevel&&"noShow"!==this._showPB?(this._pbCircleData={type:"FeatureCollection",features:this._pbCircleDataDefault.filter(function(e){return t._isPortIn(e)})},this._fortData={type:"FeatureCollection",features:this._fortDataDefault.filter(function(e){return t._isPortIn(e)})},this._towerData={type:"FeatureCollection",features:this._towerDataDefault.filter(function(e){return t._isPortIn(e)})},this._joinCircleData={type:"FeatureCollection",features:this._joinCircleDataDefault.filter(function(e){return t._isPortIn(e)})}):(this._pbCircleData={},this._fortData={},this._towerData={},this._joinCircleData={})},e.refresh=function(){this._setData(),this._update()},e.transform=function(t){this._g.attr("transform",t)},t}(),Fi=function(){function t(t,e,i,n,s,o){this._portDataDefault=t,this._serverName=i,this._topMargin=n,this._rightMargin=s,this._minScale=o,this._scale=o,this._showCurrentGood=!1,this._portData=t,this._pbData=e,this._currentPort={id:"366",coord:{x:4396,y:2494}},this._zoomLevel="initial",this._showPBZones="all",this._highlightId=null,this._highlightDuration=200,this._iconSize=48,this._fontSize=Ai,this._circleSize=16,this._showRadius="attack",this._taxIncomeRadius=d3.scaleLinear(),this._netIncomeRadius=d3.scaleLinear(),this._attackRadius=d3.scaleLinear().domain([0,1]),this._colourScale=d3.scaleLinear().domain([0,.1,.5,1]).range(["#eaeded","#8b989c","#6b7478","#a62e39"]),this._minRadiusFactor=1,this._maxRadiusFactor=6,this._showRadiusCookieName="na-map--show-radius",this._showRadiusDefault="attack",this._showRadius=this._getShowRadiusSetting(),this._setupListener(),this._setupSvg(),this._setupCounties(),this._setupRegions(),this._setupSummary(),this._setupFlags()}var e=t.prototype;return e._setupListener=function(){var t=this;$("#show-radius").change(function(){return t._showRadiusSelected()})},e._getShowRadiusSetting=function(){var t=Ue.a.get(this._showRadiusCookieName);return t=void 0===t?this._showRadiusDefault:t,$("#show-radius-"+t).prop("checked",!0),t},e._storeShowRadiusSetting=function(){this._showRadius===this._showRadiusDefault?Ue.a.remove(this._showRadiusCookieName):Ue.a.set(this._showRadiusCookieName,this._showRadius)},e._showRadiusSelected=function(){this._showRadius=$("input[name='showRadius']:checked").val(),this._storeShowRadiusSetting(),this.update()},e._setupSvg=function(){this._g=d3.select("#na-svg").append("g").classed("ports",!0),this._gPortCircle=this._g.append("g"),this._gIcon=this._g.append("g").classed("port",!0),this._gText=this._g.append("g"),this._gCounty=this._g.append("g").classed("county",!0),this._gRegion=this._g.append("g").classed("region",!0)},e._setupCounties=function(){this._countyPolygon=[{name:"Abaco",centroid:[4500,1953],angle:0},{name:"Andros",centroid:[3870,2350],angle:0},{name:"Apalache",centroid:[2800,1330],angle:0},{name:"Bacalar",centroid:[2050,3646],angle:0},{name:"Baracoa",centroid:[4750,3320],angle:25},{name:"Basse-Terre",centroid:[7540,4450],angle:0},{name:"Belize",centroid:[1900,4300],angle:0},{name:"Benedenwinds",centroid:[6187,5340],angle:0},{name:"Bermuda",centroid:[7550,210],angle:0},{name:"Bovenwinds",centroid:[7280,4180],angle:350},{name:"Campeche",centroid:[980,3791],angle:0},{name:"Cap-Français",centroid:[5270,3480],angle:0},{name:"Caracas",centroid:[6430,5750],angle:0},{name:"Cartagena",centroid:[4450,6024],angle:0},{name:"Caymans",centroid:[3116,3811],angle:0},{name:"Cayos del Golfo",centroid:[1240,3120],angle:0},{name:"Comayaqua",centroid:[1920,4500],angle:0},{name:"Cornwall",centroid:[4100,3845],angle:0},{name:"Costa de los Calos",centroid:[2850,1928],angle:0},{name:"Costa del Fuego",centroid:[3700,1670],angle:70},{name:"Costa Rica",centroid:[3140,5920],angle:0},{name:"Crooked",centroid:[4925,2950],angle:0},{name:"Cuidad de Cuba",centroid:[4500,3495],angle:0},{name:"Cumaná",centroid:[7280,5770],angle:0},{name:"Dominica",centroid:[7640,4602],angle:0},{name:"Exuma",centroid:[4700,2560],angle:0},{name:"Filipina",centroid:[2850,3100],angle:340},{name:"Florida Occidental",centroid:[2172,1200],angle:0},{name:"Georgia",centroid:[3670,747],angle:0},{name:"Golfo de Maracaibo",centroid:[5635,5601],angle:0},{name:"Grand Bahama",centroid:[3950,1850],angle:320},{name:"Grande-Terre",centroid:[8e3,4400],angle:35},{name:"Gustavia",centroid:[7720,3990],angle:0},{name:"Inagua",centroid:[4970,3220],angle:0},{name:"Isla de Pinos",centroid:[3150,3300],angle:0},{name:"Kidd’s Island",centroid:[5950,1120],angle:0},{name:"La Habana",centroid:[2850,2800],angle:340},{name:"La Vega",centroid:[5830,3530],angle:20},{name:"Lago de Maracaibo",centroid:[5550,6040],angle:0},{name:"Leeward Islands",centroid:[7850,4150],angle:0},{name:"Les Cayes",centroid:[5145,4050],angle:0},{name:"Los Llanos",centroid:[3640,2770],angle:30},{name:"Los Martires",centroid:[3300,2360],angle:0},{name:"Louisiane",centroid:[1420,1480],angle:0},{name:"Margarita",centroid:[7150,5584],angle:0},{name:"Martinique",centroid:[7700,4783],angle:0},{name:"Mérida",centroid:[1858,3140],angle:0},{name:"New Providence",centroid:[4500,2330],angle:0},{name:"North Carolina",centroid:[4580,150],angle:0},{name:"North Mosquito",centroid:[2420,4480],angle:0},{name:"Nuevitas del Principe",centroid:[4350,3050],angle:35},{name:"Nuevo Santander",centroid:[450,2594],angle:0},{name:"Orinoco",centroid:[7620,6e3],angle:0},{name:"Ponce",centroid:[6720,4040],angle:0},{name:"Port-au-Prince",centroid:[5e3,3800],angle:0},{name:"Portobelo",centroid:[3825,5990],angle:0},{name:"Providencia",centroid:[3436,5033],angle:0},{name:"Quatro Villas",centroid:[3780,3100],angle:35},{name:"Royal Mosquito",centroid:[3130,4840],angle:0},{name:"Sainte-Lucie",centroid:[7720,4959],angle:0},{name:"San Juan",centroid:[6760,3800],angle:0},{name:"Santa Marta",centroid:[5150,5500],angle:340},{name:"Santo Domingo",centroid:[5880,4e3],angle:350},{name:"South Carolina",centroid:[4200,416],angle:0},{name:"South Cays",centroid:[4170,4361],angle:0},{name:"South Mosquito",centroid:[3080,5540],angle:0},{name:"Surrey",centroid:[4350,4100],angle:0},{name:"Texas",centroid:[750,1454],angle:0},{name:"Timucua",centroid:[3620,1220],angle:0},{name:"Trinidad",centroid:[7880,5660],angle:350},{name:"Turks and Caicos",centroid:[5515,3145],angle:0},{name:"Vera Cruz",centroid:[520,3779],angle:0},{name:"Vestindiske Øer",centroid:[7090,4030],angle:350},{name:"Virgin Islands",centroid:[7220,3840],angle:350},{name:"Windward Isles",centroid:[7800,5244],angle:0}]},e._setupRegions=function(){this._regionPolygon=[{name:"Atlantic Coast",centroid:[4200,970],angle:0},{name:"Atlantic",centroid:[6401,684],angle:0},{name:"Bahamas",centroid:[5100,2400],angle:0},{name:"Central America",centroid:[3e3,5100],angle:0},{name:"Central Antilles",centroid:[6900,4500],angle:0},{name:"East Cuba",centroid:[4454,3400],angle:20},{name:"Gulf",centroid:[1602,2328],angle:0},{name:"Hispaniola",centroid:[5477,4200],angle:0},{name:"Jamaica",centroid:[3500,3985],angle:0},{name:"Lower Antilles",centroid:[7100,5173],angle:0},{name:"Puerto Rico",centroid:[6900,3750],angle:0},{name:"South America",centroid:[6400,6100],angle:0},{name:"Upper Antilles",centroid:[6850,4250],angle:0},{name:"West Cuba",centroid:[3300,3100],angle:20},{name:"Yucatan",centroid:[1462,3550],angle:0}]},e._setupSummary=function(){var t=d3.select("body").append("svg").attr("id","summary").classed("summary",!0).style("position","absolute").style("top",this._topMargin+"px").style("right",this._rightMargin+"px"),e=t.insert("rect").attr("x",0).attr("y",0);this._portSummaryTextNumPorts=t.append("text");var i=t.append("text").classed("des",!0).text("selected ports");this._portSummaryTextTaxIncome=t.append("text");var n=t.append("text").classed("des",!0).text("tax income");this._portSummaryTextNetIncome=t.append("text");var s=t.append("text").classed("des",!0).text("net income"),o=i.node().getBoundingClientRect(),a=n.node().getBoundingClientRect(),r=s.node().getBoundingClientRect(),l=3*parseInt(window.getComputedStyle(document.getElementById("na-svg")).getPropertyValue("line-height"),10),d=o.width+3*a.width+r.width,h="35%",c="60%",u=Q(d/10),p=Q(u+o.width+u),f=Q(p+a.width+u);t.attr("height",l).attr("width",d),e.attr("height",l).attr("width",d),this._portSummaryTextNumPorts.attr("x",u).attr("y",h),i.attr("x",u).attr("y",c),this._portSummaryTextTaxIncome.attr("x",p).attr("y",h),n.attr("x",p).attr("y",c),this._portSummaryTextNetIncome.attr("x",f).attr("y",h),s.attr("x",f).attr("y",c)},e._setupFlags=function(){var t=this,e=d3.select("#na-svg defs");Ii.map(function(t){return t.short}).forEach(function(i){var n=e.append("pattern").attr("id",i).attr("width","133%").attr("height","100%").attr("viewBox","6 6 "+t._iconSize+" "+.75*t._iconSize);n.append("image").attr("height",t._iconSize).attr("width",t._iconSize).attr("href","icons/"+i+".svg"),n.append("rect").attr("height",t._iconSize).attr("width",t._iconSize).attr("class","nation");var s=e.append("pattern").attr("id",i+"a").attr("width","133%").attr("height","100%").attr("viewBox","6 6 "+t._iconSize+" "+.75*t._iconSize);s.append("image").attr("height",t._iconSize).attr("width",t._iconSize).attr("href","icons/"+i+".svg"),s.append("rect").attr("height",t._iconSize).attr("width",t._iconSize).attr("class","all")});var i=e.append("filter").attr("id","drop-shadow").attr("width","200%").attr("height","200%");i.append("feGaussianBlur").attr("in","SourceAlpha").attr("stdDeviation",5).attr("result","blur"),i.append("feOffset").attr("dx",2).attr("dy",4).attr("result","offsetblur1"),i.append("feOffset").attr("dx",3).attr("dy",6).attr("result","offsetblur2").attr("in","blur"),i.append("feComponentTransfer").attr("result","shadow1").attr("in","offsetblur1").append("feFuncA").attr("type","linear").attr("slope","0.1"),i.append("feComponentTransfer").attr("result","shadow2").attr("in","offsetblur2").append("feFuncA").attr("type","linear").attr("slope","0.1"),i.append("feComposite").attr("in2","offsetblur1").attr("operator","in");var n=i.append("feMerge");n.append("feMergeNode").attr("in","shadow1"),n.append("feMergeNode").attr("in","shadow2"),n.append("feMergeNode").attr("in","SourceGraphic")},e._getText=function(t,e){var i=this._pbData.ports.filter(function(e){return e.id===t})[0],n=Je.a.utc(i.portBattle).local(),s=Je.a.utc(i.portBattle),o={name:e.name,icon:i.nation,availableForAll:e.availableForAll?"(accessible to all nations)":"",depth:e.shallow?"Shallow":"Deep",county:(""===e.county?"":e.county+" / ")+e.region,countyCapital:e.countyCapital?" (county capital)":"",nonCapturable:e.nonCapturable,captured:i.capturer?" captured by "+i.capturer+" "+Je.a.utc(i.lastPortBattle).fromNow():"",lastPortBattle:i.lastPortBattle,attack:i.attackHostility?i.attackerClan+" ("+i.attackerNation+") attack"+(i.portBattle.length?(s.isAfter(Je.a.utc())?"s":"ed")+" "+s.fromNow()+" at "+s.format("H.mm")+(s===n?"":" ("+n.format("H.mm")+" local)"):"s: "+oi(i.attackHostility)+" hostility"):"",pbTimeRange:e.nonCapturable?"":e.portBattleStartTime?(e.portBattleStartTime+10)%24+".00 – "+(e.portBattleStartTime+13)%24+".00":"11.00 – 8.00",brLimit:ni(e.brLimit),conquestMarksPension:e.conquestMarksPension,taxIncome:si(e.taxIncome),portTax:oi(e.portTax),netIncome:si(e.netIncome),tradingCompany:e.tradingCompany?", trading company level "+e.tradingCompany:"",laborHoursDiscount:e.laborHoursDiscount?", labor hours discount level "+e.laborHoursDiscount:"",producesTrading:e.producesTrading.join(", "),dropsTrading:e.dropsTrading.join(", "),producesNonTrading:e.producesNonTrading.join(", "),dropsNonTrading:e.dropsNonTrading.join(", "),consumesTrading:e.consumesTrading.join(", "),consumesNonTrading:e.consumesNonTrading.join(", ")};switch(e.portBattleType){case"Large":o.pbType="1<sup>st</sup>";break;case"Medium":o.pbType="4<sup>th</sup>";break;default:o.pbType="6<sup>th</sup>"}return o},e._showDetails=function(t,e,i){var n=d3.select(i[e]),s=function(t){var e='<table><tbody<tr><td><i class="flag-icon '+t.icon+'"></i></td>';return e+='<td><span class="port-name">'+t.name+"</span>",e+=" "+t.county+" "+t.availableForAll,e+="</td></tr></tbody></table>",t.attack.length&&(e+='<div class="alert alert-danger mt-2" role="alert">'+t.attack+"</div>"),e+="<p>"+t.depth+" water port "+t.countyCapital+t.captured+"<br>",t.nonCapturable?(e+="Not capturable",e+="<br>"+t.portTax+" tax"):(e+="Port battle "+t.pbTimeRange+", "+t.brLimit+" BR, ",e+=t.pbType+" rate AI, ",e+=t.conquestMarksPension+" conquest point",e+=1<t.conquestMarksPension?"s":"",e+="<br>Tax income "+t.taxIncome+" ("+t.portTax+"), net income "+t.netIncome,e+=t.tradingCompany,e+=t.laborHoursDiscount),e+="</p>",e+="<table class='table table-sm'>",(t.producesTrading.length||t.producesNonTrading.length)&&(e+="<tr><td>Produces</td><td>",t.producesNonTrading.length&&(e+='<span class="non-trading">'+t.producesNonTrading+"</span>",t.producesTrading.length&&(e+="<br>")),t.producesTrading.length&&(e+=""+t.producesTrading),e+="</td></tr>"),(t.dropsTrading.length||t.dropsNonTrading.length)&&(e+="<tr><td>Drops</td><td>",t.dropsNonTrading.length&&(e+='<span class="non-trading">'+t.dropsNonTrading+"</span>",t.dropsTrading.length&&(e+="<br>")),t.dropsTrading.length&&(e+=""+t.dropsTrading),e+="</td></tr>"),(t.consumesTrading.length||t.consumesNonTrading.length)&&(e+="<tr><td>Consumes</td><td>",t.consumesNonTrading.length&&(e+='<span class="non-trading">'+t.consumesNonTrading+"</span>",t.consumesTrading.length&&(e+="<br>")),t.consumesTrading.length&&(e+=""+t.consumesTrading),e+="</td></tr>"),e+="</table>"}(this._getText(t.id,t.properties));n.attr("data-toggle","tooltip"),$(n._groups[0]).tooltip({delay:{show:this._highlightDuration,hide:this._highlightDuration},html:!0,placement:"auto",title:s,trigger:"manual"}).tooltip("show")},e._updateIcons=function(){var t=this,e=J(2,Z(tt(this._minScale)+this._scale)),i=ri(this._circleSize/e),n=this._portData.filter(function(e){return t._pbData.ports.some(function(t){return e.id===t.id})}).map(function(e){return e.properties.nation=t._pbData.ports.filter(function(t){return e.id===t.id}).map(function(t){return t.nation})[0],e}),s=this._gIcon.selectAll("circle").data(n,function(t){return t.id});s.exit().remove();var o=s.enter().append("circle").attr("fill",function(t){return"url(#"+(t.properties.availableForAll?t.properties.nation+"a":t.properties.nation)+")"}).attr("cx",function(t){return t.geometry.coordinates[0]}).attr("cy",function(t){return t.geometry.coordinates[1]}).on("click",function(e,i,n){return t._showDetails(e,i,n)}).on("mouseout",function(t,e,i){$(d3.select(i[e])._groups[0]).tooltip("hide")});s.merge(o).attr("r",function(e){return e.id===t._highlightId?2*i:i})},e._updatePortCircles=function(){var t=this,e=J(2,Z(tt(this._minScale)+this._scale)),i=ri(this._circleSize/e*this._minRadiusFactor),n=ri(this._circleSize/e*this._maxRadiusFactor),s={},o=0;if("tax"===this._showRadius||"net"===this._showRadius)s=this._portData.filter(function(t){return!t.properties.nonCapturable});else if("attack"===this._showRadius){var a=this._pbData.ports.filter(function(t){return t.attackHostility}).map(function(t){return{id:t.id,attackHostility:t.attackHostility}});s=this._portData.filter(function(t){return a.some(function(e){return t.id===e.id})}).map(function(t){return t.properties.attackHostility=a.filter(function(e){return t.id===e.id}).map(function(t){return t.attackHostility})[0],t})}else if("green"===this._showRadius){o=5*ri(H([Ci(-63400,18800),Ti(-63400,18800)],[Ci(-79696,10642),Ti(-79696,10642)]));var r=this._pbData.ports.filter(function(t){return"FT"!==t.nation}).map(function(t){return t.id});s=this._portData.filter(function(t){return r.some(function(e){return t.id===e})&&t.properties.nonCapturable})}else this._showCurrentGood&&(s=this._portData,n/=2);var l=this._gPortCircle.selectAll("circle").data(s,function(t){return t.id});l.exit().remove();var d=l.enter().append("circle").attr("cx",function(t){return t.geometry.coordinates[0]}).attr("cy",function(t){return t.geometry.coordinates[1]}),h=l.merge(d);if("tax"===this._showRadius){var c=d3.min(s,function(t){return t.properties.taxIncome}),u=d3.max(s,function(t){return t.properties.taxIncome});this._taxIncomeRadius.domain([c,u]),this._taxIncomeRadius.range([i,n]),h.attr("class","bubble pos").attr("r",function(e){return t._taxIncomeRadius(tt(e.properties.taxIncome))})}else if("net"===this._showRadius){var p=d3.min(s,function(t){return t.properties.netIncome}),f=d3.max(s,function(t){return t.properties.netIncome});this._netIncomeRadius.domain([p,f]).range([i,n]),h.attr("class",function(t){return"bubble "+(0>t.properties.netIncome?"neg":"pos")}).attr("r",function(e){return t._netIncomeRadius(tt(e.properties.netIncome))})}else"attack"===this._showRadius?(this._attackRadius.range([i,n]),h.attr("class","bubble").attr("fill",function(e){return t._colourScale(e.properties.attackHostility)}).attr("r",function(e){return t._attackRadius(e.properties.attackHostility)})):"green"===this._showRadius?h.attr("class","bubble pos").attr("r",o):this._showCurrentGood&&h.attr("class",function(t){return"bubble "+(t.properties.isSource?"pos":"neg")}).attr("r",n)},e._updateTextsX=function(t,e){return"pbZone"===this._zoomLevel&&("all"===this._showPBZones||"single"===this._showPBZones&&t.id===this.currentPort.id)?t.geometry.coordinates[0]+Q(1.2*e*G(ci(t.properties.angle))):t.geometry.coordinates[0]},e._updateTextsY=function(t,e,i){var n=e+1.2*i;if("pbZone"!==this._zoomLevel)return t.id===this._highlightId?t.geometry.coordinates[1]+(2*e+2*i):t.geometry.coordinates[1]+n;var s=90<t.properties.angle&&270>t.properties.angle?i:0;return"all"===this._showPBZones||"single"===this._showPBZones&&t.id===this.currentPort.id?t.geometry.coordinates[1]+Q(1.2*e*U(ci(t.properties.angle)))+s:t.geometry.coordinates[1]+n},e._updateTextsAnchor=function(t){return"pbZone"===this._zoomLevel&&("all"===this._showPBZones||"single"===this._showPBZones&&t.id===this.currentPort.id)?t.properties.textAnchor:"middle"},e.updateTexts=function(){var t=this;if("initial"===this._zoomLevel)this._gText.attr("display","none");else{this._gText.attr("display","inherit");var e=J(2,Z(tt(this._minScale)+this._scale)),i=ri(this._circleSize/e),n=J(2,Z(.9*(tt(this._minScale)+this._scale))),s=ri(this._fontSize/n),o=this._gText.selectAll("text").data(this._portData,function(t){return t.id});o.exit().remove();var a=o.enter().append("text").text(function(t){return t.properties.name});o.merge(a).attr("x",function(e){return t._updateTextsX(e,i)}).attr("y",function(e){return t._updateTextsY(e,i,s)}).attr("font-size",function(e){return e.id===t._highlightId?2*s+"px":s+"px"}).attr("text-anchor",function(e){return t._updateTextsAnchor(e)})}},e._updateSummary=function(){var t=Object.keys(this._portData).length,e=0,i=0;t&&(e=this._portData.map(function(t){return t.properties.taxIncome}).reduce(function(t,e){return t+e}),i=this._portData.map(function(t){return t.properties.netIncome}).reduce(function(t,e){return t+e})),this._portSummaryTextNumPorts.text(""+t),this._portSummaryTextTaxIncome.text(""+si(e)),this._portSummaryTextNetIncome.text(""+si(i))},e._updateCounties=function(){if("portLabel"!==this._zoomLevel)this._gCounty.attr("display","none");else{this._gCounty.attr("display","inherit");var t=this._countyPolygon,e=this._gCounty.selectAll("text").data(t);e.exit().remove(),e.enter().append("text").text(function(t){return t.name}).style("filter","url(#drop-shadow)").attr("transform",function(t){return"translate("+t.centroid[0]+","+t.centroid[1]+")rotate("+t.angle+")"})}},e._updateRegions=function(){if("initial"!==this._zoomLevel)this._gRegion.attr("display","none");else{this._gRegion.attr("display","inherit");var t=this._regionPolygon,e=this._gRegion.selectAll("text").data(t);e.exit().remove(),e.enter().append("text").style("filter","url(#drop-shadow)").text(function(t){return t.name}).attr("transform",function(t){return"translate("+t.centroid[0]+","+t.centroid[1]+")rotate("+t.angle+")"})}},e.update=function(t){void 0===t&&(t=null),this._scale=t||this._scale,this._updateIcons(),this._updatePortCircles(),this.updateTexts(),this._updateSummary(),this._updateCounties(),this._updateRegions()},e.transform=function(t){this._g.attr("transform",t)},e.clearMap=function(t){this._portData=this._portDataDefault,this._showCurrentGood=!1,this.update(t)},function(t,e,i){e&&z(t.prototype,e),i&&z(t,i)}(t,[{key:"highlightId",set:function(t){this._highlightId=t}},{key:"portDataDefault",set:function(t){this._portDataDefault=t},get:function(){return this._portDataDefault}},{key:"portData",set:function(t){this._portData=t},get:function(){return this._portData}},{key:"pbData",set:function(t){this._pbData=t},get:function(){return this._pbData}},{key:"showCurrentGood",set:function(t){this._showCurrentGood=t}},{key:"showRadiusSetting",set:function(t){this._showRadius=t,$("#show-radius-"+t).prop("checked",!0),this._storeShowRadiusSetting()}},{key:"currentPort",set:function(t){this._currentPort=t},get:function(){return this._currentPort}},{key:"zoomLevel",set:function(t){this._zoomLevel=t},get:function(){return this._zoomLevel}}]),t}(),$i=(i(16),i(7),i(8),function(){function t(t,e,i){this._map=t,this._ports=e,this._pbZone=i,this._dateFormat="D MMM",this._timeFormat="HH.00",this._portNames=$("#port-names"),this._buyGoods=$("#buy-goods"),this._sellGoods=$("#sell-goods"),this._propNation=$("#prop-nation"),this._propClan=$("#prop-clan"),this._propCM=$("#prop-cm"),this._setupSelects(),this._setupListener()}var e=t.prototype;return e._setupSelects=function(){this._setupPortSelect();var t=this._ports.portDataDefault.map(function(t){var e=t.properties.dropsTrading.length?t.properties.dropsTrading:"";return e+=t.properties.dropsNonTrading.length?","+t.properties.dropsNonTrading:"",e+=t.properties.producesTrading.length?","+t.properties.producesTrading:"",e+=t.properties.producesNonTrading.length?","+t.properties.producesNonTrading:"",{id:t.id,goods:e}});this.constructor._setupGoodSelect(t,this._buyGoods),t=this._ports.portDataDefault.map(function(t){var e=t.properties.consumesTrading.length?t.properties.consumesTrading+",":"";return e+=t.properties.consumesNonTrading.length?""+t.properties.consumesNonTrading:"",{id:t.id,goods:e}}),this.constructor._setupGoodSelect(t,this._sellGoods),this.constructor._setupNationSelect(),this._setupClanSelect(),this._setupCMSelect()},e._setupListener=function(){var t=this;this._portNames.addClass("selectpicker"),this._buyGoods.addClass("selectpicker"),this._sellGoods.addClass("selectpicker"),this._propNation.addClass("selectpicker"),this._propClan.addClass("selectpicker"),this._propCM.addClass("selectpicker");var e={icons:{time:"far fa-clock",date:"far fa-calendar",up:"fas fa-arrow-up",down:"fas fa-arrow-down",previous:"fas fa-chevron-left",next:"fas fa-chevron-right",today:"far fa-calendar-check",clear:"fas fa-trash",close:"fas fa-times"},timeZone:"UTC",noneSelectedText:"",dropupAuto:!1},i=JSON.parse(JSON.stringify(e));i.liveSearch=!0,i.liveSearchPlaceholder="Search ...",i.liveSearchNormalize=!0,i.noneSelectedText="Move to port",this._portNames.on("change",function(e){R("Menu","Move to port"),t._portSelected(e)}).selectpicker(i),i.noneSelectedText="Select good",this._buyGoods.on("change",function(e){R("Menu","Select good"),t._goodSelected(e)}).selectpicker(i),i.noneSelectedText="Select consumed good",this._sellGoods.on("change",function(e){R("Menu","Select consumed good"),t._goodSelected(e)}).selectpicker(i),e.noneSelectedText="Select nation",this._propNation.on("change",function(e){return t._nationSelected(e)}).selectpicker(e),e.noneSelectedText="Select clan",this._propClan.on("change",function(e){return t._clanSelected(e)}).selectpicker(e),e.noneSelectedText="Select",this._propCM.on("change",function(e){e.preventDefault(),t._CMSelected(e)}).selectpicker(e),$("#menu-prop-deep").on("click",function(){return t._depthSelected("deep")}),$("#menu-prop-shallow").on("click",function(){return t._depthSelected("shallow")}),$("#menu-prop-all").on("click",function(){return t._allSelected()}),$("#menu-prop-green").on("click",function(){return t._greenZoneSelected()}),$("#menu-prop-large").on("click",function(){return t._portSizeSelected("Large")}),$("#menu-prop-medium").on("click",function(){return t._portSizeSelected("Medium")}),$("#menu-prop-small").on("click",function(){return t._portSizeSelected("Small")}),$("#prop-pb-from").datetimepicker({format:this._timeFormat}),$("#prop-pb-to").datetimepicker({format:this._timeFormat}),$("#prop-pb-range").submit(function(e){t._capturePBRange(),$("#propertyDropdown").dropdown("toggle"),e.preventDefault()}),$("#menu-prop-today").on("click",function(){return t._capturedToday()}),$("#menu-prop-yesterday").on("click",function(){return t._capturedYesterday()}),$("#menu-prop-this-week").on("click",function(){return t._capturedThisWeek()}),$("#menu-prop-last-week").on("click",function(){return t._capturedLastWeek()});var n=$("#prop-from"),s=$("#prop-to");n.datetimepicker({format:this._dateFormat}),s.datetimepicker({format:this._dateFormat,useCurrent:!1}),n.on("change.datetimepicker",function(t){return s.datetimepicker("minDate",t.date)}),s.on("change.datetimepicker",function(t){return n.datetimepicker("maxDate",t.date)}),$("#prop-range").submit(function(e){t._captureRange(),$("#propertyDropdown").dropdown("toggle"),e.preventDefault()}),$(".nav-item .dropdown-menu .bootstrap-select .dropdown-toggle").on("click",function(t){var e=$(t.currentTarget);return e.next(".dropdown-menu").toggleClass("show"),e.parent("li").toggleClass("show"),e.parents("li.nav-item.dropdown.show").on("hidden.bs.dropdown",function(t){$(t.currentTarget).find("div.dropdown-menu.show").removeClass("show")}),!1}),$(".selectpicker").val("default").selectpicker("refresh")},e._setupPortSelect=function(){var t=this,e=""+this._ports.portDataDefault.map(function(e){return{id:e.id,coord:[e.geometry.coordinates[0],e.geometry.coordinates[1]],name:e.properties.name,nation:t._ports.pbData.ports.filter(function(t){return t.id===e.id}).map(function(t){return t.nation})}}).sort(function(t,e){return t.name<e.name?-1:t.name>e.name?1:0}).map(function(t){return'<option data-subtext="'+t.nation+'" value="'+t.coord+'" data-id="'+t.id+'">'+t.name+"</option>"}).join("");$("#port-names").append(e)},t._setupGoodSelect=function(t,e){var i=new Map;t.forEach(function(t){t.goods.split(",").forEach(function(e){if(e){var n=new Set(i.get(e)).add(t.id);i.set(e,n)}})});var n="",s=(i=new Map(Array.from(i).sort())).entries(),o=Array.isArray(s),a=0;for(s=o?s:s[Symbol.iterator]();;){var r;if(o){if(a>=s.length)break;r=s[a++]}else{if((a=s.next()).done)break;r=a.value}var l=r,d=l[0],h="",c=l[1],u=Array.isArray(c),p=0;for(c=u?c:c[Symbol.iterator]();;){var f;if(u){if(p>=c.length)break;f=c[p++]}else{if((p=c.next()).done)break;f=p.value}h+=","+f}n+='<option value="'+h.substr(1)+'">'+d+"</option>"}e.append(n)},t._setupNationSelect=function(){var t=$("#prop-nation"),e=""+Ii.sort(function(t,e){return t.sortName<e.sortName?-1:t.sortName>e.sortName?1:0}).map(function(t){return'<option value="'+t.short+'">'+t.name+"</option>"}).join("");t.append(e)},e._setupClanSelect=function(){var t=$("#prop-clan");t.empty();var e=new Set,i=new Set;this._ports.portData.forEach(function(t){return i.add(t.id)}),this._ports.pbData.ports.filter(function(t){return t.capturer&&i.has(t.id)}).forEach(function(t){return e.add(t.capturer)});var n=""+Array.from(e).sort().map(function(t){return'<option value="'+t+'">'+t+"</option>"}).join("");n.length?(t.append(n),t.removeAttr("disabled")):t.attr("disabled","disabled"),t.val("default").selectpicker("refresh")},e._setupCMSelect=function(){var t=$("#prop-cm"),e=new Set;this._ports.portData.forEach(function(t){return e.add(t.properties.conquestMarksPension)}),e.forEach(function(e){t.append($("<option>",{value:e,text:e}))})},e._portSelected=function(t){var e=$(t.currentTarget).find(":selected"),i=e.val().split(",");if("0"===i[0])this._ports.portData=this._ports.portDataDefault,this._ports.showCurrentGood=!1,this._ports.update();else{var n={id:e.data("id").toString(),coord:{x:+i[0],y:+i[1]}};this._ports.currentPort=n,this._pbZone._showPBZones&&(this._pbZone.refresh(),this._ports.showCurrentGood=!1,this._ports.update()),this._map.goToPort()}},e._goodSelected=function(t){var e=$(t.currentTarget).val().split(","),i=$(t.currentTarget).find(":selected")[0].text,n=this._ports.portDataDefault.filter(function(t){return e.includes(t.id)}).map(function(t){return t.properties.isSource=!0,t}),s=this._ports.portDataDefault.filter(function(t){return t.properties.consumesTrading.includes(i)||t.properties.consumesNonTrading.includes(i)}).map(function(t){return t.properties.isSource=!1,t});this._ports.showRadiusSetting="off",this._ports.portData=n.concat(s),this._ports.showCurrentGood=!0,this._ports.update()},e._nationSelected=function(t){var e,i=this,n=$(t.currentTarget).val();if(0!=+n){this._nation=n;var s=new Set;this._ports.pbData.ports.filter(function(t){return t.nation===i._nation}).forEach(function(t){return s.add(t.id)}),e=this._ports.portDataDefault.filter(function(t){return s.has(t.id)})}else this._nation="",e=this._ports.portDataDefault;this._ports.portData=e,this._ports.showCurrentGood=!1,this._ports.update(),this._setupClanSelect()},e._clanSelected=function(t){var e,i=this,n=$(t.currentTarget).val();if(0!=+n){var s=new Set;this._ports.pbData.ports.filter(function(t){return n===t.capturer}).forEach(function(t){return s.add(t.id)}),e=this._ports.portDataDefault.filter(function(t){return s.has(t.id)})}else if(this._nation){var o=new Set;this._ports.pbData.ports.filter(function(t){return t.nation===i._nation}).forEach(function(t){return o.add(t.id)}),e=this._ports.portDataDefault.filter(function(t){return o.has(t.id)})}else e=this._ports.portDataDefault;this._ports.portData=e,this._ports.showCurrentGood=!1,this._ports.update()},e._depthSelected=function(t){var e=this._ports.portDataDefault.filter(function(e){return"shallow"===t?e.properties.shallow:!e.properties.shallow});this._ports.portData=e,this._ports.showCurrentGood=!1,this._ports.update()},e._allSelected=function(){var t=this._ports.portDataDefault.filter(function(t){return t.properties.availableForAll});this._ports.portData=t,this._ports.showCurrentGood=!1,this._ports.update()},e._greenZoneSelected=function(){var t=this._ports.portDataDefault.filter(function(t){return t.properties.nonCapturable&&"FT"!==t.properties.nation});this._ports.portData=t,this._ports.showCurrentGood=!1,this._ports.update()},e._portSizeSelected=function(t){var e=this._ports.portDataDefault.filter(function(e){return t===e.properties.portBattleType});this._ports.portData=e,this._ports.showCurrentGood=!1,this._ports.update()},e._capturePBRange=function(){var t=[8,9,10],e=24-(t.length+1),i=new Set,n=Je()($("#prop-pb-from-input").val(),this._timeFormat).hour(),s=Je()($("#prop-pb-to-input").val(),this._timeFormat).hour();if(!(t.includes(n)&&t.includes(s)&&n<=s)){i.add(0),s<n&&(s+=24);for(var o=n-2;o<=s-3;o+=1)i.add((o-10)%e)}var a=this._ports.portDataDefault.filter(function(t){return!t.properties.nonCapturable&&"FT"!==t.properties.nation&&i.has(t.properties.portBattleStartTime)});this._ports.portData=a,this._ports.showCurrentGood=!1,this._ports.update()},e._filterCaptured=function(t,e){var i=new Set;this._ports.pbData.ports.filter(function(i){return Je()(i.lastPortBattle).isBetween(t,e,null,"(]")}).forEach(function(t){return i.add(t.id)});var n=this._ports.portDataDefault.filter(function(t){return i.has(t.id)});this._ports.portData=n,this._ports.showCurrentGood=!1,this._ports.update()},e._capturedToday=function(){var t=Je.a.utc(),e=Je()().utc().hour(11).minute(0);t.hour()<e.hour()&&(e=e.subtract(1,"day")),this._filterCaptured(e,Je.a.utc(e).add(1,"day"))},e._capturedYesterday=function(){var t=Je.a.utc(),e=Je()().utc().hour(11).minute(0).subtract(1,"day");t.hour()<e.hour()&&(e=e.subtract(1,"day")),this._filterCaptured(e,Je.a.utc(e).add(1,"day"))},e._capturedThisWeek=function(){var t=Je()().utc().startOf("week"),e=t.hour(11),i=Je()(t).add(7,"day").hour(11);this._filterCaptured(e,i)},e._capturedLastWeek=function(){var t=Je()().utc().startOf("week"),e=Je()(t).subtract(7,"day").hour(11),i=t.hour(11);this._filterCaptured(e,i)},e._captureRange=function(){var t=Je()($("#prop-from-input").val(),this._dateFormat).hour(11),e=Je()($("#prop-to-input").val(),this._dateFormat).add(1,"day").hour(11);this._filterCaptured(t,e)},e._CMSelected=function(){var t,e=parseInt($("#prop-cm").val(),10);t=0===e?this._ports.portDataDefault:this._ports.portDataDefault.filter(function(t){return e===t.properties.conquestMarksPension}),$("#propertyDropdown").dropdown("toggle"),this._ports.portData=t,this._ports.update()},e.clearMap=function(){this._setupClanSelect()},t}()),Ri=2*K/24,Yi=function(){function t(t,e){this._id=t,this._shipCompare=e,this._select="#ship-"+this._id,this._setupSvg(),this._g=d3.select(this._select).select("g"),this._setCompass()}var e=t.prototype;return e._setupSvg=function(){d3.select(this._select+" svg").remove(),d3.select(this._select).append("svg").attr("width",this._shipCompare.svgWidth).attr("height",this._shipCompare.svgHeight).attr("class","profile").attr("fill","none").append("g").attr("transform","translate("+this._shipCompare.svgWidth/2+", "+this._shipCompare.svgHeight/2+")"),d3.select(this._select+" div").remove(),d3.select(this._select).append("div")},e._setCompass=function(){var t=Array(12);t.fill(1,0);var e=d3.pie().sort(null).value(1)(t),i=d3.arc().outerRadius(this._shipCompare.radiusScaleAbsolute(12)).innerRadius(this._shipCompare.innerRadius);this._g.selectAll(".compass-arc").data(e).enter().append("g").attr("class","compass-arc").append("path").attr("d",i)},t.pd=function(t){var e='<span class="badge badge-light">'+t[0]+" / ";return e+=t[1]?""+t[1]:"–",e+=" pd</span>"},t.getCannonsPerDeck=function(e,i){for(var n=i[0]+" "+t.pd(e[0]),s=1;4>s;s+=1)i[s]&&(n=i[s]+" "+t.pd(e[s])+" | "+n);return n},t.getText=function(t){var e='<table class="table table-sm table-striped small ship"><tbody>';return e+="<tr><td>"+t.shipRating+"</td>",e+="<td>"+t.battleRating+'<br><span class="des">Battle rating</span></td>',e+="<td>"+t.guns+'<br><span class="des">Cannons</span></td></tr>',e+="<tr><td>"+t.decks+" deck"+(1<t.decks?"s":"")+"</td>",e+='<td colspan="2" class="gun-decks">'+t.cannonsPerDeck+'<br><span class="des">Gun decks</span><br></td></tr>',e+="<tr><td>Broadside (pd)</td>",e+="<td>"+t.cannonBroadside+'<br><span class="des">Cannons</span></td>',e+="<td>"+t.carroBroadside+'<br><span class="des">Carronades</span></td></tr>',e+="<tr><td>Chasers</td>",e+="<td>"+t.gunsFront+'<br><span class="des">Bow</span></td>',e+="<td>"+t.gunsBack+'<br><span class="des">Stern</span></td></tr>',e+="<tr><td>Speed (knots)</td>",e+="<td>"+t.minSpeed+'<br><span class="des">Minimum</span></td>',e+="<td>"+t.maxSpeed+'<br><span class="des">Maximum</span></td></tr>',e+="<tr><td>Turning speed</td>",e+='<td colspan="2">'+t.maxTurningSpeed+"</td></tr>",e+="<tr><td>Armor</td>",e+="<td>"+t.sideArmor+'<br><span class="des">Sides</span>',e+="<br>"+t.frontArmor+'<br><span class="des">Bow</span>',e+="<br>"+t.pump+'<br><span class="des">Pump</span>',e+="<br>"+t.sails+'<br><span class="des">Sails</span></td>',e+="<td>"+t.structure+'<br><span class="des">Hull</span>',e+="<br>"+t.backArmor+'<br><span class="des">Stern</span>',e+="<br>"+t.rudder+'<br><span class="des">Rudder</span></td></tr>',e+="<tr><td>Crew</td>",e+="<td>"+t.minCrew+'<br><span class="des">Minimum</span></td>',e+="<td>"+t.maxCrew+'<br><span class="des">Maximum</span></td></tr>',e+="<tr><td>Hold</td>",e+="<td>"+t.maxWeight+'<br><span class="des">Tons</span></td>',e+="<td>"+t.holdSize+'<br><span class="des">Cargo slots</span></td></tr>',e+="</tbody></table>"},t}(),zi=function(t){function e(e,i,n){var s;return(s=t.call(this,e,n)||this)._shipData=i,s._shipCompare=n,s._setBackground(),s._setBackgroundGradient(),s._drawProfile(),s._printText(),s}B(e,t);var i=e.prototype;return i._setBackground=function(){var t=this,e=d3.arc().outerRadius(function(e){return t._shipCompare.radiusScaleAbsolute(e)+2}).innerRadius(function(e){return t._shipCompare.radiusScaleAbsolute(e)+1}).startAngle(-K/2).endAngle(K/2),i=[12,8,4,0],n=["12 knots","8 knots","4 knots","0 knots"];this._g.selectAll(".circle").data(i).enter().append("circle").attr("class","knots-circle").attr("r",function(e){return t._shipCompare.radiusScaleAbsolute(e)}),this._g.selectAll(".label").data(i).enter().append("path").attr("d",e).attr("id",function(t,e){return"tick"+e}),this._g.selectAll(".label").data(i).enter().append("text").attr("class","knots-text").append("textPath").attr("href",function(t,e){return"#tick"+e}).text(function(t,e){return n[e]}).attr("startOffset","16%")},i._setBackgroundGradient=function(){var t=this,e=d3.scaleLinear().domain([this._shipData.minSpeed,this._shipData.maxSpeed]).range([0,this._shipCompare.svgWidth]),i=e.domain();i[2]=i[1]-i[0];for(var n=[],s=0;s<30;s+=1)n.push(s*i[2]/29+i[0]);this._g.append("defs").append("radialGradient").attr("id","gradient").attr("cx",.5).attr("cy",.25).attr("r",.5).selectAll("stop").data(d3.range(30)).enter().append("stop").attr("offset",function(i,s){return e(n[s])/t._shipCompare.svgWidth}).attr("stop-color",function(e,i){return t._shipCompare.colorScale(n[i])})},i._drawProfile=function(){var t=this,e=d3.pie().sort(null).value(1)(this._shipData.speedDegrees),i=d3.curveCatmullRomClosed,n=d3.radialLine().angle(function(t,e){return e*Ri}).radius(function(e){return t._shipCompare.radiusScaleAbsolute(e.data)}).curve(i),s=this._g.append("path"),o=this._g.append("g").classed("markers",!0);s.attr("d",n(e)).attr("stroke-width","5px").attr("stroke","url(#gradient)"),o.selectAll("circle").data(e).enter().append("circle").attr("r","5").attr("cy",function(e,i){return G(i*Ri)*-t._shipCompare.radiusScaleAbsolute(e.data)}).attr("cx",function(e,i){return U(i*Ri)*t._shipCompare.radiusScaleAbsolute(e.data)}).attr("fill",function(e){return t._shipCompare.colorScale(e.data)}).style("opacity",.5).append("title").text(function(t){return Q(10*t.data)/10+" knots"})},i._printText=function(){var t={shipRating:P(this._shipData.class)+" rate",battleRating:this._shipData.battleRating,guns:this._shipData.guns,decks:this._shipData.decks,cannonsPerDeck:Yi.getCannonsPerDeck(this._shipData.deckClassLimit,this._shipData.gunsPerDeck),cannonBroadside:this._shipData.cannonBroadside,carroBroadside:this._shipData.carroBroadside,gunsFront:this._shipData.gunsPerDeck[4],limitFront:this._shipData.deckClassLimit[4],gunsBack:this._shipData.gunsPerDeck[5],limitBack:this._shipData.deckClassLimit[5],minSpeed:ei(this._shipData.minSpeed),maxSpeed:ei(this._shipData.maxSpeed),maxTurningSpeed:ei(this._shipData.maxTurningSpeed),sideArmor:this._shipData.healthInfo.LeftArmor,frontArmor:this._shipData.healthInfo.FrontArmor,pump:this._shipData.healthInfo.Pump,sails:this._shipData.healthInfo.Sails,structure:this._shipData.healthInfo.InternalStructure,backArmor:this._shipData.healthInfo.BackArmor,rudder:this._shipData.healthInfo.Rudder,minCrew:this._shipData.minCrewRequired,maxCrew:this._shipData.healthInfo.Crew,maxWeight:this._shipData.maxWeight,holdSize:this._shipData.holdSize};t.gunsFront?t.gunsFront+=" "+Yi.pd(t.limitFront):t.gunsFront="–",t.gunsBack?t.gunsBack+=" "+Yi.pd(t.limitBack):t.gunsBack="–",$(""+this._select).find("div").append(Yi.getText(t))},e}(Yi),Bi=function(t){function e(e,i,n,s){var o;return(o=t.call(this,e,s)||this)._shipBaseData=i,o._shipCompareData=n,o._shipCompare=s,o._drawDifferenceProfile(),o._printTextComparison(),o}B(e,t);var i=e.prototype;return i._drawDifferenceProfile=function(){var t=this,e=d3.pie().sort(null).value(1),i=e(this._shipBaseData.speedDegrees),n=e(this._shipCompareData.speedDegrees),s=d3.curveCatmullRomClosed,o=d3.radialLine().angle(function(t,e){return e*Ri}).radius(function(e){return t._shipCompare.radiusScaleAbsolute(e.data)}).curve(s),a=d3.radialLine().angle(function(t,e){return e*Ri}).radius(function(e){return t._shipCompare.radiusScaleAbsolute(e.data)}).curve(s),r=this._g.append("path"),l=this._g.append("g").attr("class","markers"),d=this._g.append("path"),h=this._g.append("g").attr("class","markers"),c=[];this._shipBaseData.speedDegrees.forEach(function(e,i){c.push(e-t._shipCompareData.speedDegrees[i])});var u=d3.scaleLinear().domain([et(-.01,d3.min(c)),0,X(.01,d3.max(c))]).range(["#a62e39","#fbf8f5","#419f57"]).interpolate(d3.interpolateHcl);d.attr("d",o(i)).classed("base",!0);var p=h.selectAll("circle").data(i);p.enter().append("circle").merge(p).attr("r","5").attr("cy",function(e,i){return G(i*Ri)*-t._shipCompare.radiusScaleAbsolute(e.data)}).attr("cx",function(e,i){return U(i*Ri)*t._shipCompare.radiusScaleAbsolute(e.data)}).attr("fill",function(t,e){return u(c[e])}).classed("base",!0).append("title").text(function(t){return Q(10*t.data)/10+" knots"}),r.attr("d",a(n)).classed("comp",!0);var f=l.selectAll("circle").data(n);f.enter().append("circle").merge(f).attr("r","5").attr("cy",function(e,i){return G(i*Ri)*-t._shipCompare.radiusScaleAbsolute(e.data)}).attr("cx",function(e,i){return U(i*Ri)*t._shipCompare.radiusScaleAbsolute(e.data)}).classed("comp",!0).append("title").text(function(t){return Q(10*t.data)/10+" knots"})},i._printTextComparison=function(){function t(t,e,i){void 0===i&&(i=0);var n=parseFloat((t-e).toFixed(i));return 0>n?'<span class="badge badge-danger">'+ei(tt(n))+"</span>":0<n?'<span class="badge badge-success">'+ei(n)+"</span>":""}var e={shipRating:P(this._shipCompareData.class)+" rate",battleRating:this._shipCompareData.battleRating+" "+t(this._shipCompareData.battleRating,this._shipBaseData.battleRating),guns:this._shipCompareData.guns+" "+t(this._shipCompareData.guns,this._shipBaseData.guns),decks:this._shipCompareData.decks+" deck"+(1<this._shipCompareData.decks?"s":"")+" "+t(this._shipCompareData.decks,this._shipBaseData.decks),cannonsPerDeck:Yi.getCannonsPerDeck(this._shipCompareData.deckClassLimit,this._shipCompareData.gunsPerDeck),cannonBroadside:this._shipCompareData.cannonBroadside+" "+t(this._shipCompareData.cannonBroadside,this._shipBaseData.cannonBroadside),carroBroadside:this._shipCompareData.carroBroadside+" "+t(this._shipCompareData.carroBroadside,this._shipBaseData.carroBroadside),gunsFront:this._shipCompareData.gunsPerDeck[4],limitFront:this._shipCompareData.deckClassLimit[4],gunsBack:this._shipCompareData.gunsPerDeck[5],limitBack:this._shipCompareData.deckClassLimit[5],minSpeed:ei(this._shipCompareData.minSpeed)+" "+t(this._shipCompareData.minSpeed,this._shipBaseData.minSpeed,2),maxSpeed:ei(this._shipCompareData.maxSpeed)+" "+t(this._shipCompareData.maxSpeed,this._shipBaseData.maxSpeed,2),maxTurningSpeed:ei(this._shipCompareData.maxTurningSpeed)+" "+t(this._shipCompareData.maxTurningSpeed,this._shipBaseData.maxTurningSpeed,2),sideArmor:this._shipCompareData.healthInfo.LeftArmor+" "+t(this._shipCompareData.healthInfo.LeftArmor,this._shipBaseData.healthInfo.LeftArmor),frontArmor:this._shipCompareData.healthInfo.FrontArmor+" "+t(this._shipCompareData.healthInfo.FrontArmor,this._shipBaseData.healthInfo.FrontArmor),pump:this._shipCompareData.healthInfo.Pump+" "+t(this._shipCompareData.healthInfo.Pump,this._shipBaseData.healthInfo.Pump),sails:this._shipCompareData.healthInfo.Sails+" "+t(this._shipCompareData.healthInfo.Sails,this._shipBaseData.healthInfo.Sails),structure:this._shipCompareData.healthInfo.InternalStructure+" "+t(this._shipCompareData.healthInfo.InternalStructure,this._shipBaseData.healthInfo.InternalStructure),backArmor:this._shipCompareData.healthInfo.BackArmor+" "+t(this._shipCompareData.healthInfo.BackArmor,this._shipBaseData.healthInfo.BackArmor),rudder:this._shipCompareData.healthInfo.Rudder+" "+t(this._shipCompareData.healthInfo.Rudder,this._shipBaseData.healthInfo.Rudder),minCrew:this._shipCompareData.minCrewRequired+" "+t(this._shipCompareData.minCrewRequired,this._shipBaseData.minCrewRequired),maxCrew:this._shipCompareData.healthInfo.Crew+" "+t(this._shipCompareData.healthInfo.Crew,this._shipBaseData.healthInfo.Crew),maxWeight:this._shipCompareData.maxWeight+" "+t(this._shipCompareData.maxWeight,this._shipBaseData.maxWeight),holdSize:this._shipCompareData.holdSize+" "+t(this._shipCompareData.holdSize,this._shipBaseData.holdSize)};e.gunsFront?e.gunsFront+=" "+Yi.pd(e.limitFront):e.gunsFront="–",e.gunsBack?e.gunsBack+=" "+Yi.pd(e.limitBack):e.gunsBack="–",$(""+this._select).find("div").append(Yi.getText(e))},e}(Yi),Vi=function(){function t(t){var e=this;this._shipData=t,this._ships={Base:{},C1:{},C2:{}},this._minSpeed=d3.min(this._shipData,function(t){return t.minSpeed}),this._maxSpeed=d3.max(this._shipData,function(t){return t.maxSpeed}),this.colorScale=d3.scaleLinear().domain([this._minSpeed,0,4,8,12,this._maxSpeed]).range(["#a62e39","#fbf8f5","#a4dab0","#6cc380","#419f57"]).interpolate(d3.interpolateHcl),this._setupData(),this._setupListener(),["Base","C1","C2"].forEach(function(t){e._setupShipSelect(t),e._setupSetupListener(t)})}var e=t.prototype;return e._setupData=function(){this._shipSelectData=d3.nest().key(function(t){return t.class}).sortKeys(d3.ascending).entries(this._shipData.map(function(t){return{id:t.id,name:t.name,class:t.class,battleRating:t.battleRating,guns:t.guns}}).sort(function(t,e){return t.name<e.name?-1:t.name>e.name?1:0})),this._options=this._shipSelectData.map(function(t){return'<optgroup label="'+P(t.key)+' rate">'+t.values.map(function(t){return'<option data-subtext="'+t.battleRating+'" value="'+t.id+'">'+t.name+" ("+t.guns+")"}).join("</option>")}).join("</optgroup>")},e._shipCompareSelected=function(){$("#modal-ships").modal("show"),this.svgWidth=parseInt($("#modal-ships .columnA").width(),10),this.svgHeight=this.svgWidth,this._outerRadius=it(et(this.svgWidth,this.svgHeight)/2),this.innerRadius=it(.3*this._outerRadius),this.radiusScaleAbsolute=d3.scaleLinear().domain([this._minSpeed,0,this._maxSpeed]).range([10,this.innerRadius,this._outerRadius])},e._setupListener=function(){var t=this;$("#button-ship-compare").on("click",function(e){R("Tools","Compare ships"),e.stopPropagation(),t._shipCompareSelected()})},e._setupShipSelect=function(t){var e=$("#ship-"+t+"-select");e.append(this._options),"Base"!==t&&e.attr("disabled","disabled")},e._setupSetupListener=function(t){var e=this,i=$("#ship-"+t+"-select");i.addClass("selectpicker").on("change",function(){var n=+i.val(),s=e._shipData.filter(function(t){return t.id===n})[0];"Base"===t?(e._ships[t]=new zi(t,s,e),["C1","C2"].forEach(function(t){$("#ship-"+t+"-select").removeAttr("disabled").selectpicker("refresh"),function(t){return 0===Object.getOwnPropertyNames(t).length&&t.constructor===Object}(e._ships[t])||(e._ships[t]=new Bi(t,s,e._ships[t]._shipCompareData,e))})):e._ships[t]=new Bi(t,e._ships.Base._shipData,s,e)}).selectpicker({noneSelectedText:"Select ship"})},t}(),Wi=function(){function t(t,e,i){this._ports=i,this._show=!1,this._voronoiCoord=[[t-1,t-1],[e+1,e+1]],this._teleportPorts=this._getPortData(),this._voronoiDiagram=this._getVoronoiDiagram(),this._data={},this._highlightId=null,this._g=d3.select("#na-svg").insert("g",".ports").classed("voronoi",!0)}var e=t.prototype;return e._getPortData=function(){return this._ports.portDataDefault.filter(function(t){return!t.properties.shallow}).map(function(t){return{id:t.id,coord:{x:t.geometry.coordinates[0],y:t.geometry.coordinates[1]}}})},e._getVoronoiDiagram=function(){return d3.voronoi().extent(this._voronoiCoord).x(function(t){return t.coord.x}).y(function(t){return t.coord.y})(this._teleportPorts)},e._mouseover=function(t){this._highlightId=t.data.id,this.update(),this._ports.highlightId=this._highlightId,this._ports.update()},e.update=function(){var t=this,e=this._g.selectAll("path").data(this._data,function(t){return t.data.id});e.exit().remove();var i=e.enter().append("path").attr("d",function(t){return t?"M"+t.join("L")+"Z":null}).on("mouseover",function(e){return t._mouseover(e)});e.merge(i).classed("highlight-voronoi",function(e){return e.data.id===t._highlightId})},e.setData=function(){this._data=this._show&&"pbZone"!==this._zoomLevel?this._voronoiDiagram.polygons():{},this._highlightId=null,this._ports.highlightId=this._highlightId},e.transform=function(t){this._g.attr("transform",t)},function(t,e,i){e&&V(t.prototype,e),i&&V(t,i)}(t,[{key:"show",set:function(t){this._show=t}},{key:"zoomLevel",set:function(t){this._zoomLevel=t}}]),t}(),ji=(i(17),function(){function t(t,e){this._leftMargin=t,this._topMargin=e,this._compassSize=100,this._height=300,this._width=300,this._line=d3.line(),this._setupSvg(),this.constructor._setupArrow(),this.constructor._setupForm(),this._setupListener()}var e=t.prototype;return e._setupSvg=function(){this._svg=d3.select("body").append("div").attr("id","wind").append("svg").style("position","absolute").style("left",this._leftMargin+"px").style("top",this._topMargin+"px").classed("coord",!0)},t._setupArrow=function(){d3.select("#na-svg defs").append("marker").attr("id","wind-arrow").attr("viewBox","0 -5 10 10").attr("refX",5).attr("refY",0).attr("markerWidth",4).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M0,-5L10,0L0,5").classed("wind-head",!0)},t._setupForm=function(){$("#wind-time").datetimepicker({defaultDate:Je.a.utc(),format:"LT"});var t=$.fn.roundSlider.prototype._getTooltipPos;$.fn.roundSlider.prototype._getTooltipPos=function(){this.tooltip.is(":visible")||$("body").append(this.tooltip);var e=t.call(this);return this.container.append(this.tooltip),e},window.tooltip=function(t){return di(t.value)},$("#direction").roundSlider({sliderType:"default",handleSize:"+1",startAngle:90,width:20,radius:110,min:0,max:359,step:360/li.length,editableTooltip:!1,tooltipFormat:"tooltip",create:function(){this.control.css("display","block")}})},e._setupListener=function(){var t=this;$("#windPrediction").submit(function(e){var i=$("#direction").roundSlider("option","value"),n=$("#wind-time-input").val().trim();R("Menu","Wind prediction"),t._predictWind(i,n),$("#predictDropdown").dropdown("toggle"),e.preventDefault()})},e._predictWind=function(t,e){var i,n="H.mm",s=/(\d+)[\s:.](\d+)/.exec(e),o=parseInt(s[1],10),a=parseInt(s[2],10);i=q(+t)?function(t){var e=360/li.length;return li.indexOf(t)*e}(t):+t;var r=Je()().utc().seconds(0).milliseconds(0),l=Je()(r).hour(o).minutes(a);l.isBefore(r)&&l.add(1,"day");var d=360+(i-.125*l.diff(r,"seconds"))%360;this._printPredictedWind(d,l.format(n),di(t),r.format(n))},e._printCompass=function(t){var e=this._width/2,i=this._height/3,n=K/180*(t-90),s=1.3*this._compassSize,o=s*G(n),a=s*U(n),r=[[Q(e+o/2),Q(i+a/2)],[Q(e-o/2),Q(i-a/2)]];this._svg.attr("height",this._height).attr("width",this._width),this._svg.append("image").classed("compass",!0).attr("x",e-this._compassSize/2).attr("y",i-this._compassSize/2).attr("height",this._compassSize).attr("width",this._compassSize).attr("xlink:href","icons/compass.svg"),this._svg.append("path").datum(r).attr("d",this._line).classed("wind",!0).attr("marker-end","url(#wind-arrow)")},e._printText=function(t,e,i,n){var s=di(t),o=parseInt(window.getComputedStyle(document.getElementById("wind")).getPropertyValue("line-height"),10),a=this._svg.append("svg"),r=a.append("text").attr("x","50%").attr("y","33%").attr("class","wind-text").text("From "+s+" at "+e),l=a.append("text").attr("x","50%").attr("y","66%").attr("class","wind-text-current").text("Currently at "+n+" from "+i),d=r.node().getBoundingClientRect(),h=l.node().getBoundingClientRect(),c=2*X(d.height,h.height)+o,u=X(d.width,h.width)+o;a.attr("x",(this._width-u)/2).attr("y","60%").attr("height",c).attr("width",u)},e._addBackground=function(){this._svg.insert("rect",":first-child").attr("x",0).attr("y",0).attr("height",this._height).attr("width",this._width)},e._printPredictedWind=function(t,e,i,n){this.clearMap(),this._printCompass(t),this._printText(t,e,i,n),this._addBackground()},e.clearMap=function(){this._svg.selectAll("*").remove()},t}()),Ui=function(){function t(t,e){this._id=t,this._woodCompare=e,this._select="#wood-"+this._id,this._setupSvg(),this._g=d3.select(this._select).select("g")}return t.prototype._setupSvg=function(){d3.select(this._select+" div").remove(),d3.select(this._select).append("div")},t}(),Gi=function(t){function e(e,i,n){var s;return(s=t.call(this,e,n)||this)._woodData=i,s._woodCompare=n,s._printText(),s}W(e,t);var i=e.prototype;return i._getProperty=function(t,e){var i=this._woodData[e].properties.filter(function(e){return e.modifier===t}).map(function(t){return t.amount})[0];return void 0===i?0:i/100},i._getPropertySum=function(t){return this._getProperty(t,"frame")+this._getProperty(t,"trim")},i._getText=function(t){var e=this,i='<table class="table table-sm table-striped small mt-4"><thead>';return i+="<tr>",i+="<tr><th><em>Property</em></th><th><em>Change in %</em></th></tr></thead><tbody>",t.properties.forEach(function(t,n){if(i+="<tr><td>"+n+"</td><td>"+ei(100*t),i+='<span class="rate">',0<t){var s=t/e._woodCompare.minMaxProperty.get(n).max*100*50;i+='<span class="bar neutral" style="width:50%;"></span>',i+='<span class="bar pos diff" style="width:'+s+'%;"></span>'}else if(0>t){var o=t/e._woodCompare.minMaxProperty.get(n).min*100*50;i+='<span class="bar neutral" style="width:'+(50-o)+'%;"></span>',i+='<span class="bar neg diff" style="width:'+o+'%;"></span>'}else i+='<span class="bar neutral"></span>';i+="</span></td></tr>"}),i+="</tbody></table>"},i._printText=function(){var t=this,e={frame:this._woodData.frame.name,trim:this._woodData.trim.name};e.properties=new Map,this._woodCompare._properties.forEach(function(i){e.properties.set(i,t._getPropertySum(i))}),$(""+this._select).find("div").append(this._getText(e))},e}(Ui),qi=function(t){function e(e,i,n,s){var o;return(o=t.call(this,e,s)||this)._baseData=i,o._compareData=n,o._woodCompare=s,o._printTextComparison(),o}W(e,t);var i=e.prototype;return i._getBaseProperty=function(t,e){var i=this._baseData[e].properties.filter(function(e){return e.modifier===t}).map(function(t){return t.amount})[0];return void 0===i?0:i/100},i._getBasePropertySum=function(t){return this._getBaseProperty(t,"frame")+this._getBaseProperty(t,"trim")},i._getCompareProperty=function(t,e){var i=this._compareData[e].properties.filter(function(e){return e.modifier===t}).map(function(t){return t.amount})[0];return void 0===i?0:i/100},i._getComparePropertySum=function(t){return this._getCompareProperty(t,"frame")+this._getCompareProperty(t,"trim")},i._getText=function(t){var e=this,i=50,n=0,s=0,o=0,a="",r='<table class="table table-sm table-striped small wood mt-4"><thead>';return r+="<tr>",r+="<tr><th><em>Property</em></th><th><em>Change in %</em></th></tr></thead><tbody>",t.properties.forEach(function(t,l){r+="<tr><td>"+l+"</td><td>"+function(t,e,i){void 0===i&&(i=1);var n=parseFloat((100*(t-e)).toFixed(i));return 0>n?ei(100*t)+' <span class="badge badge-light">'+ei(n)+"</span>":0<n?ei(100*t)+' <span class="badge badge-light">+ '+ei(n)+"</span>":ei(100*t)}(t.compare,t.base),r+='<span class="rate">',0<=t.compare?(0<=t.base?t.compare>t.base?(n=t.base,s=t.compare-t.base,a="pos"):(n=t.compare,s=t.base-t.compare,a="neg"):(n=0,s=t.compare,a="pos"),r+='<span class="bar neutral" style="width:50%;"></span>',r+='<span class="bar pos diff" style="width:'+n/e._woodCompare.minMaxProperty.get(l).max*100*i+'%;"></span>',r+='<span class="bar '+a+'" style="width:'+s/e._woodCompare.minMaxProperty.get(l).max*100*i+'%;"></span>'):0>t.compare?(0>t.base?t.compare>=t.base?(n=t.compare,s=t.base-t.compare,o=-t.base,a="pos"):(n=t.base,s=t.compare-t.base,o=-t.compare,a="neg"):(n=0,s=t.compare,o=-t.compare,a="neg"),r+='<span class="bar neutral" style="width:'+(i+o/e._woodCompare.minMaxProperty.get(l).min*100*i)+'%;"></span>',r+='<span class="bar '+a+'" style="width:'+s/e._woodCompare.minMaxProperty.get(l).min*100*i+'%;"></span>',r+='<span class="bar neg diff" style="width:'+n/e._woodCompare.minMaxProperty.get(l).min*100*i+'%;"></span>'):r+='<span class="bar neutral"></span>',r+="</span></td></tr>"}),r+="</tbody></table>"},i._printTextComparison=function(){var t=this,e={frame:this._compareData.frame.name,trim:this._compareData.trim.name};e.properties=new Map,this._woodCompare._properties.forEach(function(i){e.properties.set(i,{base:t._getBasePropertySum(i),compare:t._getComparePropertySum(i)})}),$(""+this._select).find("div").append(this._getText(e))},e}(Ui),Zi=function(){function t(t){var e=this;this._woodData=t,this._defaultWood={},this._defaultWood.frame="Fir",this._defaultWood.trim="Crew Space",this._woodSelected=[],this._instance=[],this._properties=["Thickness","Hull strength","Side armour","Mast thickness","Ship speed","Acceleration","Rudder speed","Turn speed","Crew","Crew protection","Grog morale bonus","Fire resistance","Leak resistance"],this._options={},this.minMaxProperty=new Map,this._setupData(),this._setupListener(),["Base","C1","C2","C3"].forEach(function(t){e._woodSelected[t]={},["frame","trim"].forEach(function(i){e._woodSelected[t][i]=e._defaultWood[i]}),e._setupWoodSelects(t),e._setupSetupListener(t)})}var e=t.prototype;return e._setupData=function(){var t=this;this._frameSelectData=this._woodData.frame.sort(function(t,e){return t.name<e.name?-1:t.name>e.name?1:0}),this._trimSelectData=this._woodData.trim.sort(function(t,e){return t.name<e.name?-1:t.name>e.name?1:0}),this._options.frame=this._frameSelectData.map(function(t){return'<option value="'+t.name+'">'+t.name+"</option>"}),this._options.trim=this._trimSelectData.map(function(t){return'<option value="'+t.name+'">'+t.name+"</option>"}),this._properties.forEach(function(e){var i=t._woodData.frame.map(function(t){return t.properties.filter(function(t){return t.modifier===e}).map(function(t){return t.amount})[0]}).concat(),n=t._woodData.trim.map(function(t){return t.properties.filter(function(t){return t.modifier===e}).map(function(t){return t.amount})[0]}).concat(),s=d3.min(i),o=d3.max(i),a=d3.min(n),r=d3.max(n);s=void 0===s?0:s,a=void 0===a?0:a,o=void 0===o?0:o,r=void 0===r?0:r,t.minMaxProperty.set(e,{min:0<=s+a?0:s+a,max:o+r})})},e._woodCompareSelected=function(){$("#modal-woods").modal("show"),this.svgWidth=parseInt($("#modal-woods .columnA").width(),10),this.svgHeight=this.svgWidth},e._setupListener=function(){var t=this;$("#button-wood-compare").on("click",function(e){R("Tools","Compare woods"),e.stopPropagation(),t._woodCompareSelected()})},e._setupWoodSelects=function(t){var e=this;["frame","trim"].forEach(function(i){var n=$("#wood-"+i+"-"+t+"-select");n.append(e._options[i]),"Base"!==t&&n.attr("disabled","disabled")})},e._getWoodTypeData=function(t,e){return this._woodData[t].filter(function(t){return t.name===e})[0]},e._getWoodData=function(t){return{frame:this._getWoodTypeData("frame",this._woodSelected[t].frame),trim:this._getWoodTypeData("trim",this._woodSelected[t].trim)}},e._setOtherSelect=function(t,e){var i="frame"===e?"trim":"frame",n=$("#wood-"+i+"-"+t+"-select");this._woodSelected[t][i]===this._defaultWood[i]&&n.val(this._defaultWood[i]).selectpicker("refresh")},t.enableSelect=function(t){["frame","trim"].forEach(function(e){$("#wood-"+e+"-"+t+"-select").removeAttr("disabled").selectpicker("refresh")})},e._setupSetupListener=function(e){var i=this;["frame","trim"].forEach(function(n){var s=$("#wood-"+n+"-"+e+"-select");s.addClass("selectpicker").on("change",function(){var o=s.val();i._woodSelected[e][n]=o,i._setOtherSelect(e,n),"Base"===e?(i._instance[e]=new Gi("Base",i._getWoodData("Base"),i),["C1","C2","C3"].forEach(function(e){t.enableSelect(e),void 0!==i._instance[e]&&(i._instance[e]=new qi(e,i._getWoodData("Base"),i._getWoodData(e),i))})):i._instance[e]=new qi(e,i._getWoodData("Base"),i._getWoodData(e),i)}).selectpicker({noneSelectedText:"Select "+function(t){return t.charAt(0).toUpperCase()+t.slice(1)}(n)})})},t}(),Ki=function(){function t(t){this._moduleData=t,this._setupData(),this._setupListener(),this._setupSelect()}var e=t.prototype;return e._setupData=function(){this._options=""+this._moduleData.map(function(t){return'<option value="'+t[0]+'"">'+t[0]+"</option>;"}).join("")},e._setupListener=function(){var t=this;$("#button-module-list").on("click",function(e){R("Tools","List modules"),e.stopPropagation(),t._moduleListSelected()})},e._moduleListSelected=function(){$("#modal-modules").modal("show"),this._div="#modules-list"},e._setupSelect=function(){var t=this,e=$("#modules-select");e.append(this._options),e.addClass("selectpicker").on("change",function(e){return t._moduleSelected(e)}).selectpicker({noneSelectedText:"Select module type"})},e._getRows=function(t){function e(t){return"U"===t?"":" "+i.get(t)}var i=new Map([["L",P(1)+" – "+P(3)],["M",P(4)+" – "+P(5)],["S",P(6)+" – "+P(7)]]),n="",s=[];return this._moduleData.forEach(function(i){i[0]===t&&i[1].forEach(function(t,o){function a(e){return e<i[1].length&&t.name===i[1][e].name&&JSON.stringify(t.properties)===JSON.stringify(i[1][e].properties)}n=e(t.moduleLevel),a(o+1)&&(i[1][o+1].hasSamePropertiesAsPrevious=!0,n+="<br>"+e(i[1][o+1].moduleLevel)),a(o+2)&&(i[1][o+2].hasSamePropertiesAsPrevious=!0,n=""),void 0!==t.hasSamePropertiesAsPrevious&&t.hasSamePropertiesAsPrevious||s.push('<tr><td><span class="name">'+t.name+"</span><br>"+n+"</td><td>"+t.properties.map(function(t){var e=t.absolute?t.amount:ai(t.amount/100);return t.modifier+" "+e}).join("<br>")+"</td></tr>")})}),s},e._getText=function(t){var e=L(this._getRows(t),3),i="";return Array.from(Array(e.length).keys()).forEach(function(t){i+='<div class="col-md-'+it(12/e.length)+'">',i+='<table class="table table-sm small"><thead>',i+="<tr><th>Module</th><th>Modifier</th></tr></thead><tbody>",i+=e[t].join(""),i+="</tbody></table></div>"}),i},e._moduleSelected=function(t){var e=$(t.currentTarget).find(":selected").val();d3.select(this._div+" div").remove(),d3.select(this._div).append("div").classed("row modules mt-4",!0),$(this._div).find("div").append(this._getText(e))},t}(),Qi=function(){function t(t,e){this._recipeData=t.map(function(t){return t.name=t.name.replace(" Blueprint",""),t}),this._moduleData=e,this._options=this._setupOptions(),this._setupListener(),this._setupSelect()}var e=t.prototype;return e._setupOptions=function(){return""+this._recipeData.map(function(t){return'<option value="'+t.name+'">'+t.name+"</option>;"}).join("")},e._setupListener=function(){var t=this;$("#button-recipe-list").on("click",function(e){R("Tools","List recipes"),e.stopPropagation(),t._recipeListSelected()})},e._recipeListSelected=function(){$("#modal-recipes").modal("show"),this._div="#recipes-list"},e._setupSelect=function(){var t=this,e=$("#recipes-select");e.append(this._options),e.addClass("selectpicker").on("change",function(e){return t._recipeSelected(e)}).selectpicker({noneSelectedText:"Select recipe"})},e._getRecipeData=function(t){return this._recipeData.filter(function(e){return e.name===t})[0]},e._getRequirementText=function(t){var e='<table class="table table-sm"><tbody>';return t.laborPrice&&(e+="<tr><td>"+t.laborPrice+" labour hours</td></tr>"),t.goldPrice&&(e+="<tr><td>"+t.goldPrice+" gold</td></tr>"),t.itemRequirements.length&&(e+="<tr><td>"+t.itemRequirements.map(function(t){return t.amount+" "+t.name}).join("</td></tr><tr><td>")+"</td></tr>"),e+="</tbody></table>"},e._getModuleText=function(t){var e="",i="",n="";return this._moduleData.forEach(function(e){e[1].filter(function(e){return e.name===t}).forEach(function(t){i=e[0],n="<tr><td>"+t.properties.map(function(t){var e=t.absolute?t.amount:ai(t.amount/100);return t.modifier+" "+e}).join("</td></tr><tr><td>")+"</td></tr>"})}),e='<h6 class="card-subtitle mb-2 text-muted">'+i+"</h6>",e+='<table class="table table-sm"><tbody>'+n+"</tbody></table>"},e._getText=function(t){var e=this._getRecipeData(t),i=e.module?e.module:e.name,n='<div class="row no-gutters card-deck">';return n+='<div class="card col-4"><div class="card-header">Recipe</div>',n+='<div class="card-body"><h5 class="card-title">Requirements</h5>',n+=this._getRequirementText(e),n+="</div></div>",n+='<div class="card col-4"><div class="card-header">Resulting module</div>',n+='<div class="card-body"><h5 class="card-title">Properties</h5>',n+=this._getModuleText(i),n+="</div></div>",n+="</div></div>"},e._recipeSelected=function(t){var e=$(t.currentTarget).find(":selected").val();d3.select(this._div+" div").remove(),d3.select(this._div).append("div").classed("recipes mt-4",!0),$(this._div).find("div").append(this._getText(e))},t}(),Ji=function(){function t(t,e){this._ingredientData=t,this._moduleData=e,this._setupListener()}var e=t.prototype;return e._setupListener=function(){var t=this;$("#button-ingredient-list").on("click",function(e){R("Tools","List ingredients"),e.stopPropagation(),t._ingredientListSelected()})},e._ingredientListSelected=function(){$("#modal-ingredients").modal("show"),this._div="#ingredients-list",this._showIngredient()},e._getProperties=function(t){var e="",i="",n="";return this._moduleData.forEach(function(e){e[1].filter(function(e){return e.name===t}).forEach(function(t){i=e[0],n="<tr><td>"+t.properties.map(function(t){var e=t.absolute?t.amount:ai(t.amount/100);return t.modifier+" "+e}).join("</td></tr><tr><td>")+"</td></tr>"})}),e="<h6 class='text-muted text-left'>"+i+"</h6>",e+="<table class='table table-sm'><tbody>"+n+"</tbody></table>"},e._getRows=function(){var t=this;return this._ingredientData.map(function(e){return"<tr><td>"+e.name+"</td><td>"+e.recipe.map(function(e){return'<a data-toggle="tooltip" data-html="true" title="'+t._getProperties(e)+'">'+e+"</a>"}).join("<br>")+"</td></tr>"})},e._getText=function(){var t=L(this._getRows(),2),e="";return Array.from(Array(t.length).keys()).forEach(function(i){e+='<div class="col-md-'+it(12/t.length)+'">',e+='<table class="table table-sm"><thead>',e+="<tr><th>Ingredient</th><th>Recipe</th></tr></thead><tbody>",e+=t[i].join(""),e+="</tbody></table></div>"}),e},e._showIngredient=function(){d3.select(this._div+" div").remove(),d3.select(this._div).append("div").classed("row ingredients",!0),$(this._div).find("div").append(this._getText()),$('[data-toggle="tooltip"]').tooltip()},t}(),Xi=function(){function t(t){this._buildingData=t,this._setupData(),this._setupListener(),this._setupSelect()}var e=t.prototype;return e._setupData=function(){this._options=""+this._buildingData.map(function(t){return'<option value="'+t.name+'">'+t.name+"</option>;"}).join("")},e._setupListener=function(){var t=this;$("#button-building-list").on("click",function(e){R("Tools","List buildings"),e.stopPropagation(),t._buildingListSelected()})},e._buildingListSelected=function(){$("#modal-buildings").modal("show"),this._div="#buildings-list"},e._setupSelect=function(){var t=this,e=$("#buildings-select");e.append(this._options),e.addClass("selectpicker").on("change",function(e){return t._buildingSelected(e)}).selectpicker({noneSelectedText:"Select building"})},e._getBuildingData=function(t){return this._buildingData.filter(function(e){return e.name===t})[0]},e._getProductText=function(t){var e="";return e+='<h5 class="card-title">'+t.resource.name+"</h5>",t.resource.price&&(e+='<table class="table table-sm"><tbody>',e+="<tr><td>"+t.resource.price+" gold per unit</td></tr>",void 0!==t.batch&&(e+="<tr><td>Batch of "+t.batch.amount+" units at "+t.batch.price+" gold</td></tr>"),e+="</tbody></table>"),e},e._getByproductText=function(t){var e='<table class="table table-sm"><tbody>';return t.byproduct.length&&(e+="<tr><td>"+t.byproduct.map(function(t){return t.item+' <span class="badge badge-primary ml-1">'+oi(t.chance)+" chance</span>"}).join("</td></tr><tr><td>")+"</td></tr>"),e+="</tbody></table>"},e._getRequirementText=function(t){var e="";return e+='<table class="table table-sm"><thead>',t.levels[0].materials.length?(e+="<tr><th>Level</th><th>Level build materials</th></tr>",e+="</thead><tbody>",t.levels.forEach(function(t,i){e+="<tr><td>"+i+'</td><td class="text-left">',e+=t.materials.map(function(t){return ni(t.amount)+" "+t.item}).join("<br>"),e+="</td></tr>"})):(e+="<tr><th>Level</th><th>Production (units)</th><th>Labour cost (%)</th><th>Storage (units)</th><th>Level build price (gold)</th></tr>",e+="</thead><tbody>",t.levels.forEach(function(t,i){e+="<tr><td>"+i+"</td><td>"+ni(t.production)+"</td><td>"+ni(-100*t.labourDiscount)+"</td><td>"+ni(t.maxStorage)+"</td><td>"+ni(t.price)+"</td></tr>"})),e+="</tbody></table>"},e._getText=function(t){var e=this._getBuildingData(t),i='<div class="row no-gutters card-deck">';return i+='<div class="card col-3"><div class="card-header">Product</div>',i+='<div class="card-body product">',i+=this._getProductText(e),i+="</div></div>",i+='<div class="card col-3"><div class="card-header">Byproducts</div>',i+='<div class="card-body product">',i+=this._getByproductText(e),i+="</div></div>",i+='<div class="card col-6"><div class="card-header">Requirements</div>',i+='<div class="card-body px-0 requirements">',i+=this._getRequirementText(e),i+="</div></div>",i+="</div>"},e._buildingSelected=function(t){var e=$(t.currentTarget).find(":selected").val();d3.select(this._div+" div").remove(),d3.select(this._div).append("div").classed("buildings mt-4",!0),$(this._div).find("div").append(this._getText(e))},t}();!function(){function t(){(n=$("input[name='serverName']:checked").val())===i?Ue.a.remove(e):Ue.a.set(e,n),document.location.reload()}var e="na-map--server-name",i="eu1",n=function(){var t=Ue.a.get(e);return t=void 0===t?i:t,$("#server-name-"+t).prop("checked",!0),t}();Oe.library.add(Ne,Le,He,Fe,$e,Re,Ye,ze,Be,Ve,We),F("js",new Date),F("config",Pi),$(".dropdown-submenu > a").on("click",function(t){$(t.currentTarget).next(".dropdown-menu").addClass("show"),t.stopPropagation()}),$(".dropdown").on("hidden.bs.dropdown",function(t){$(t.currentTarget).find(".dropdown-menu.show").not(".inner").removeClass("")}),$("#server-name").change(function(){return t()}),function(t,e){void 0!==window.google_tag_manager&&window.google_tag_manager.dataLayer.gtmLoad&&F("config",Pi,{page_title:t,page_path:e})}("Homepage","/"),j(n)}()}]);